{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';import Sidebar from'./Sidebar';import Navbar from'./Navbar';import{Button}from'reactstrap';import axios from\"axios\";import{APIURL}from'../../../components/constants/common';import Pagination from\"react-js-pagination\";import{Modal,ModalBody,ModalHeader,ModalFooter,Input,Spinner}from'reactstrap';import Select from'react-select';import dateFormat,{masks}from\"dateformat\";import{Redirect}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var colourStyles={option:function option(styles,_ref){var data=_ref.data,isDisabled=_ref.isDisabled,isFocused=_ref.isFocused,isSelected=_ref.isSelected;return _objectSpread(_objectSpread({},styles),{},{backgroundColor:isFocused?\"#B8BCBD\":null,color:\"grey\"});}};var Property=/*#__PURE__*/function(_Component){_inherits(Property,_Component);var _super=_createSuper(Property);function Property(){var _this;_classCallCheck(this,Property);_this=_super.call(this);_this.LicenseDoc=function(){_this.setState({LicenseDoc:!_this.state.LicenseDoc,agentInfoModal:!_this.state.agentInfoModal});};_this.getAgentInfo=function(e){var token=_this.state.token;var formData=new FormData();formData.append('id',e);_this.setState({Loader:true});axios.post(APIURL+\"admin/agent-profile-view\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(response.data);_this.setState({Loader:false,AgentInfo:response.data.data,languageList:response.data.data.language_data});console.log(\"\",_this.state.languageList);}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});});};_this.onSubmitHandler=function(e,status){_this.setState({isLoading:true});var token=_this.state.token;var formData=new FormData();formData.append('id',e.id);formData.append('status',status);_this.setState({Loader:true,agentInfoModal:false});axios.post(APIURL+\"admin/update-agent-request-status\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});_this.setState({errMsg:{},agentInfoModal:false,isLoading:false},function(){_this.getAgentRequests();setTimeout(function(){window.location.reload();},100);});}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false,agentInfoModal:false,isLoading:false});});};_this.sideMenu=function(value){_this.setState({activeSide:value});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),agentReq:[],AgentInfo:[],statusArray:[{'value':\"\",\"label\":\"All\"},{'value':\"pending\",\"label\":\"Pending\"},{'value':\"Approved\",\"label\":\"Approved\"}],statusDefault:[{'value':\"\",\"label\":\"All\"}],AgentId:\"\",ReqStatus:\"\",agentInfoModal:false,Loader:true,languages:[],activePage:1,limit:0,totalItemsCount:0,search:\"\",status:[],sort:false,sortby:\"DESC\",columnName:\"\",LicenseDoc:false,activeSide:false};return _this;}_createClass(Property,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAgentRequests();}},{key:\"SortBy\",value:function SortBy(e){var _this2=this;this.setState({sort:!this.state.sort},function(){if(_this2.state.sort){_this2.setState({sortby:\"ASC\",columnName:e},function(){_this2.getAgentRequests();});}if(!_this2.state.sort){_this2.setState({sortby:\"DESC\",columnName:e},function(){_this2.getAgentRequests();});}});}},{key:\"handleSearch\",value:function handleSearch(e){var _this3=this;this.setState({search:e.target.value,activePage:1},function(){setTimeout(function(){_this3.getAgentRequests();},300);});}},{key:\"handleStatus\",value:function handleStatus(e){var _this4=this;this.setState({status:e.value,statusDefault:[{value:e.value,label:e.label}]},function(){_this4.getAgentRequests();});}},{key:\"handlePageChange\",value:function handlePageChange(pageNumber){var _this5=this;console.log(\"active page is \".concat(pageNumber));this.setState({activePage:pageNumber},function(){_this5.getAgentRequests();});}},{key:\"getAgentRequests\",value:function getAgentRequests(){var _this6=this;this.setState({Loader:true});var token=this.state.token;var formData=new FormData();formData.append('page',this.state.activePage);formData.append('search',this.state.search);formData.append('statusfilter',this.state.status);formData.append('sortby',this.state.sortby);formData.append('limit',this.state.limit);formData.append('sorttype',this.state.columnName);axios.post(APIURL+\"admin/get-agent-request-list\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(\"admin/get-agent-request-list\",response.data.data.data);_this6.setState({agentReq:response.data.data.data,activePage:response.data.data.current_page,totalItemsCount:response.data.data.total,limit:response.data.data.per_page,Loader:false});});}},{key:\"AgentInfoModal\",value:function AgentInfoModal(e,idx,status){var _this7=this;this.setState({agentInfoModal:!this.state.agentInfoModal,languages:e.language_data,ReqStatus:status},function(){_this7.getAgentInfo(e.id);});}},{key:\"ModalClose\",value:function ModalClose(){this.setState({agentInfoModal:false});}},{key:\"render\",value:function render(){var _this8=this;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-scroller resido-admin\",children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",/*#__PURE__*/_jsx(Navbar,{sideMenu:this.sideMenu.bind(this),activeSide:this.state.activeSide}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-body-wrapper\",children:[/*#__PURE__*/_jsx(Sidebar,{sideMenu:this.sideMenu.bind(this),activeSide:this.state.activeSide,activePage:\"agent_request\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 d-flex justify-content-between\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-uppercase\",children:\"AGENT REQUEST\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-6 col-lg-3 mb-sm-0 mb-lg-0 mb-md-0 mb-xl-0 mb-2\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:function onChange(e){return _this8.handleSearch(e);},placeholder:\"Search\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-6 col-lg-3 ml-auto\",children:/*#__PURE__*/_jsx(Select,{\"aria-label\":\".form-select-lg example\",required:\"\",placeholder:\"Select Status\",className:\"form-select-control\",options:this.state.statusArray,value:this.state.statusDefault,styles:colourStyles,onChange:function onChange(e){return _this8.handleStatus(e);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 grid-margin\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"sort-by text-left\",style:{cursor:\"pointer\"},onClick:function onClick(e){return _this8.SortBy(\"name\");},children:\" Agent Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"sort-by\",style:{cursor:\"pointer\"},onClick:function onClick(e){return _this8.SortBy(\"created_at\");},children:\" Request Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Action \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.agentReq.length>0?this.state.agentReq.map(function(item,idx){return/*#__PURE__*/_jsx(React.Fragment,{children:item.is_approved===\"Reject\"?\"\":/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-left\",children:item.fullName}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",dateFormat(item.created_at,'dd-mm-yyyy')]}),/*#__PURE__*/_jsx(\"td\",{children:item.is_approved===\"Approved\"?/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-success \",children:item.is_approved}):item.is_approved===\"Reject\"?/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-danger \",children:item.is_approved}):/*#__PURE__*/_jsx(\"label\",{className:\"badge badge-warning \",style:{color:\"#5B6868\"},children:\"Pending\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"info\",className:\"btn-rounded\",onClick:function onClick(e){return _this8.AgentInfoModal(item);},children:\"View\"})})})]})});}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center\",children:\"No Request Available\"})})})]})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:this.state.totalItemsCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pagination-rounded\",children:/*#__PURE__*/_jsx(Pagination,{activePage:this.state.activePage,itemsCountPerPage:this.state.limit,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this)})})})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid clearfix\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted d-block text-center text-sm-left d-sm-inline-block\",children:\"Copyright \\xA9 website.com 2021\"})})})]})]})]}),/*#__PURE__*/_jsxs(Modal,{className:\"resido-admin\",size:\"md\",isOpen:this.state.agentInfoModal,toggle:function toggle(){return _this8.ModalClose();},children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"header-less\",toggle:function toggle(){return _this8.ModalClose();},children:\"Agent Detail\"}),/*#__PURE__*/_jsx(ModalBody,{className:\"border-0 bg-white\",children:this.state.AgentInfo!==\"\"?/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-break\",children:this.state.AgentInfo.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Country\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.country_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"State\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.state_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Languages\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.languages.map(function(item){return/*#__PURE__*/_jsxs(\"span\",{className:\"mr-1\",children:[item.label,\"  \"]});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"License Number\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.license_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Introduction\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.AgentInfo.introduction})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"License Document\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:this.state.AgentInfo.license_document?/*#__PURE__*/_jsx(\"div\",{className:\"img-gallery\",style:{paddingLeft:\"0px\"},children:/*#__PURE__*/_jsx(\"img\",{width:\"188px\",className:\"\",onClick:function onClick(){return _this8.LicenseDoc();},src:this.state.AgentInfo.license_document})}):\"No Document Available\"})]})]}):\"NO Data Available\"}),/*#__PURE__*/_jsx(ModalFooter,{children:this.state.AgentInfo.is_approved===null?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between w-100\",children:[/*#__PURE__*/_jsx(Button,{color:\"success\",onClick:function onClick(e){return _this8.onSubmitHandler(_this8.state.AgentInfo,\"Approved\");},children:\"Approve\"}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(e){return _this8.onSubmitHandler(_this8.state.AgentInfo,\"Reject\");},children:\"Reject\"})]}):\"\"})]}),/*#__PURE__*/_jsxs(Modal,{className:\"resido-admin\",size:\"md\",isOpen:this.state.LicenseDoc,toggle:function toggle(){return _this8.LicenseDoc();},autoFocus:false,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return _this8.LicenseDoc();},children:\"License Document\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(\"img\",{className:\"w-100 \",src:this.state.AgentInfo.license_document})}),/*#__PURE__*/_jsx(ModalFooter,{})]})]});}}]);return Property;}(Component);export{Property as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Admin/AgentApproval.js"],"names":["React","Component","Sidebar","Navbar","Button","axios","APIURL","Pagination","Modal","ModalBody","ModalHeader","ModalFooter","Input","Spinner","Select","dateFormat","masks","Redirect","colourStyles","option","styles","data","isDisabled","isFocused","isSelected","backgroundColor","color","Property","LicenseDoc","setState","state","agentInfoModal","getAgentInfo","e","token","formData","FormData","append","Loader","post","headers","then","response","console","log","AgentInfo","languageList","language_data","catch","error","errMsg","onSubmitHandler","status","isLoading","id","getAgentRequests","setTimeout","window","location","reload","sideMenu","value","activeSide","JSON","parse","localStorage","getItem","user","agentReq","statusArray","statusDefault","AgentId","ReqStatus","languages","activePage","limit","totalItemsCount","search","sort","sortby","columnName","target","label","pageNumber","current_page","total","per_page","idx","width","height","bind","handleSearch","handleStatus","cursor","SortBy","length","map","item","is_approved","fullName","created_at","AgentInfoModal","handlePageChange","ModalClose","email","country_name","state_name","phone","license_number","introduction","license_document","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Sidebar from './Sidebar'\r\nimport Navbar from './Navbar'\r\nimport { Button } from 'reactstrap'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../components/constants/common';\r\nimport Pagination from \"react-js-pagination\";\r\nimport { Modal, ModalBody, ModalHeader, ModalFooter, Input, Spinner } from 'reactstrap'\r\nimport Select from 'react-select'\r\nimport dateFormat, { masks } from \"dateformat\";\r\nimport { Redirect } from 'react-router';\r\n\r\nconst colourStyles = {\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isFocused ? \"#B8BCBD\" : null,\r\n            color: \"grey\",\r\n        };\r\n    },\r\n};\r\n\r\nexport default class Property extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            agentReq: [],\r\n            AgentInfo: [],\r\n            statusArray: [{ 'value': \"\", \"label\": \"All\" }, { 'value': \"pending\", \"label\": \"Pending\" }, { 'value': \"Approved\", \"label\": \"Approved\" },],\r\n            statusDefault: [{ 'value': \"\", \"label\": \"All\" }],\r\n            AgentId: \"\",\r\n            ReqStatus: \"\",\r\n            agentInfoModal: false,\r\n            Loader: true,\r\n            languages: [],\r\n            activePage: 1,\r\n            limit: 0,\r\n            totalItemsCount: 0,\r\n            search: \"\",\r\n            status: [],\r\n            sort: false,\r\n            sortby: \"DESC\",\r\n            columnName: \"\",\r\n            LicenseDoc: false,\r\n            activeSide:false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAgentRequests()\r\n    }\r\n    LicenseDoc = () => {\r\n        this.setState({\r\n            LicenseDoc: !this.state.LicenseDoc,\r\n            agentInfoModal: !this.state.agentInfoModal\r\n        })\r\n    }\r\n    SortBy(e) {\r\n        this.setState({\r\n            sort: !this.state.sort\r\n        }, () => {\r\n            if (this.state.sort) {\r\n                this.setState({\r\n                    sortby: \"ASC\",\r\n                    columnName: e\r\n                }, () => {\r\n                    this.getAgentRequests()\r\n                })\r\n\r\n            }\r\n            if (!this.state.sort) {\r\n                this.setState({\r\n                    sortby: \"DESC\",\r\n                    columnName: e\r\n                }, () => {\r\n                    this.getAgentRequests()\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSearch(e) {\r\n        this.setState(\r\n            { search: e.target.value, activePage: 1 }\r\n            , () => {\r\n                setTimeout(() => {\r\n                    this.getAgentRequests()\r\n                }, 300);\r\n            });\r\n    }\r\n\r\n    handleStatus(e) {\r\n        this.setState(\r\n            {\r\n                status: e.value,\r\n                statusDefault: [{ value: e.value, label: e.label }]\r\n            }\r\n            , () => { this.getAgentRequests() });\r\n    }\r\n\r\n    handlePageChange(pageNumber) {\r\n        console.log(`active page is ${pageNumber}`);\r\n        this.setState(\r\n            { activePage: pageNumber }\r\n            , () => {\r\n                this.getAgentRequests()\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n    getAgentRequests() {\r\n        this.setState({ Loader: true });\r\n        var token = this.state.token\r\n        const formData = new FormData();\r\n        formData.append('page', this.state.activePage);\r\n        formData.append('search', this.state.search);\r\n        formData.append('statusfilter', this.state.status);\r\n        formData.append('sortby', this.state.sortby);\r\n        formData.append('limit', this.state.limit);\r\n        formData.append('sorttype', this.state.columnName);\r\n\r\n        axios\r\n            .post(APIURL + \"admin/get-agent-request-list\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(\"admin/get-agent-request-list\", response.data.data.data)\r\n                this.setState({\r\n                    agentReq: response.data.data.data,\r\n                    activePage: response.data.data.current_page,\r\n                    totalItemsCount: response.data.data.total,\r\n                    limit: response.data.data.per_page,\r\n                    Loader:false\r\n                });\r\n            });\r\n    }\r\n\r\n    handlePageChange(pageNumber) {\r\n        console.log(`active page is ${pageNumber}`);\r\n        this.setState(\r\n            { activePage: pageNumber }\r\n            , () => {\r\n                this.getAgentRequests()\r\n            }\r\n        );\r\n    }\r\n\r\n    AgentInfoModal(e, idx, status) {\r\n        this.setState({\r\n            agentInfoModal: !this.state.agentInfoModal,\r\n            languages: e.language_data,\r\n            ReqStatus: status\r\n        }, () => {\r\n            this.getAgentInfo(e.id,)\r\n        })\r\n    }\r\n\r\n    ModalClose() {\r\n        this.setState({\r\n            agentInfoModal: false\r\n        })\r\n    }\r\n\r\n    getAgentInfo = (e) => {\r\n\r\n        var token = this.state.token\r\n        const formData = new FormData();\r\n        formData.append('id', e);\r\n\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"admin/agent-profile-view\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(response.data)\r\n                this.setState({\r\n                    Loader: false,\r\n                    AgentInfo: response.data.data,\r\n                    languageList: response.data.data.language_data\r\n                });\r\n                console.log(\"\", this.state.languageList)\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n            });\r\n    };\r\n\r\n    onSubmitHandler = (e, status) => {\r\n        this.setState({ isLoading: true })\r\n        var token = this.state.token\r\n\r\n        const formData = new FormData();\r\n        formData.append('id', e.id);\r\n        formData.append('status', status);\r\n\r\n        this.setState({ Loader: true, agentInfoModal: false });\r\n        axios\r\n            .post(APIURL + \"admin/update-agent-request-status\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false });\r\n                this.setState({\r\n                    errMsg: {},\r\n                    agentInfoModal: false,\r\n                    isLoading: false\r\n                }, () => {\r\n                    this.getAgentRequests()\r\n                    setTimeout(() => {\r\n                        window.location.reload();\r\n                    }, 100);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false,\r\n                    agentInfoModal: false,\r\n                    isLoading: false\r\n                })\r\n            });\r\n    };\r\n    sideMenu = (value) => {\r\n        this.setState({\r\n            activeSide:value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"container-scroller resido-admin\">\r\n                {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}          \r\n                    <Navbar\r\n                     sideMenu={this.sideMenu.bind(this)}\r\n                     activeSide={this.state.activeSide}\r\n                      />\r\n                    <div className=\"container-fluid page-body-wrapper\">\r\n                        <Sidebar \r\n                         sideMenu={this.sideMenu.bind(this)}\r\n                         activeSide={this.state.activeSide}\r\n                         activePage=\"agent_request\" />\r\n                        <div className=\"main-panel\">\r\n                            <div className=\"content-wrapper\">\r\n                                <div className=\"mb-4 d-flex justify-content-between\">\r\n                                    <h4 className=\"text-uppercase\">AGENT REQUEST</h4>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-12 col-sm-6 col-lg-3 mb-sm-0 mb-lg-0 mb-md-0 mb-xl-0 mb-2\">\r\n                                        <Input type=\"text\" onChange={(e) => this.handleSearch(e)} placeholder=\"Search\" />\r\n                                    </div>\r\n                                    <div className=\"col-12 col-sm-6 col-lg-3 ml-auto\">\r\n                                        <Select\r\n                                            aria-label=\".form-select-lg example\"\r\n                                            required=\"\"\r\n                                            placeholder=\"Select Status\"\r\n                                            className=\"form-select-control\"\r\n                                            options={this.state.statusArray}\r\n                                            value={this.state.statusDefault}\r\n                                            styles={colourStyles}\r\n                                            onChange={(e) => this.handleStatus(e)}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row mt-3\">\r\n                                    <div className=\"col-12 grid-margin\">\r\n                                        <div className=\"card\">\r\n                                            <div className=\"card-body\">\r\n                                                {/* <h4 className=\"card-title  justify-content-between d-flex \">Agent Requests</h4> */}\r\n                                                <div className=\"table-responsive\">\r\n                                                    <table className=\"table text-center\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th className=\"sort-by text-left\" style={{ cursor: \"pointer\" }} onClick={(e) => this.SortBy(\"name\")}> Agent Name</th>\r\n                                                                <th className=\"sort-by\" style={{ cursor: \"pointer\" }} onClick={(e) => this.SortBy(\"created_at\")}> Request Date</th>\r\n                                                                <th> Status</th>\r\n                                                                <th> Action </th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody>\r\n                                                            {this.state.agentReq.length > 0 ? this.state.agentReq.map((item, idx) => (\r\n                                                                <React.Fragment>\r\n                                                                    {item.is_approved === \"Reject\" ? \"\" :\r\n                                                                        <tr>\r\n                                                                            <td className=\"text-left\" >{item.fullName}</td>\r\n                                                                            <td > {dateFormat(item.created_at, 'dd-mm-yyyy')}</td>\r\n                                                                            <td>\r\n                                                                                {item.is_approved === \"Approved\" ? <span className=\"badge badge-success \">{item.is_approved}</span>\r\n                                                                                    :\r\n                                                                                    item.is_approved === \"Reject\" ? <span className=\"badge badge-danger \" >{item.is_approved}</span>\r\n                                                                                        :\r\n                                                                                        <label className=\"badge badge-warning \" style={{ color: \"#5B6868\" }}>Pending</label>}</td>\r\n                                                                            <td className=\"text-center\">\r\n                                                                                <div>\r\n                                                                                    <Button size=\"sm\" color=\"info\" className=\"btn-rounded\" onClick={(e) => this.AgentInfoModal(item)} >View</Button>\r\n\r\n                                                                                </div>\r\n                                                                            </td>\r\n                                                                        </tr>\r\n                                                                    }\r\n                                                                </React.Fragment>\r\n                                                            )) :\r\n                                                                <tr>\r\n                                                                    <td colSpan=\"4\" className=\"text-center\">\r\n                                                                        No Request Available\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            }\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-center\">\r\n                                        {this.state.totalItemsCount > 0 &&\r\n                                            <div className=\"pagination-rounded\">\r\n                                                <Pagination\r\n                                                    activePage={this.state.activePage}\r\n                                                    itemsCountPerPage={this.state.limit}\r\n                                                    totalItemsCount={this.state.totalItemsCount}\r\n                                                    pageRangeDisplayed={5}\r\n                                                    onChange={this.handlePageChange.bind(this)}\r\n                                                />\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <footer className=\"footer\">\r\n                                <div className=\"container-fluid clearfix\">\r\n                                    <span className=\"text-muted d-block text-center text-sm-left d-sm-inline-block\">Copyright © website.com 2021</span>\r\n                                </div>\r\n                            </footer>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.agentInfoModal} toggle={() => this.ModalClose()}>\r\n                    <ModalHeader className=\"header-less\" toggle={() => this.ModalClose()}>Agent Detail</ModalHeader>\r\n                    <ModalBody className=\"border-0 bg-white\">\r\n                        {\r\n                            this.state.AgentInfo !== \"\" ?\r\n                                <div className=\"row\" >\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Name</label>\r\n                                        <p>{this.state.AgentInfo.fullName}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\" >\r\n                                        <label className=\"fw-bold\">Email</label>\r\n                                        <p className='text-break'>{this.state.AgentInfo.email}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Country</label>\r\n                                        <p>{this.state.AgentInfo.country_name}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">State</label>\r\n                                        <p>{this.state.AgentInfo.state_name}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Phone Number</label>\r\n                                        <p>{this.state.AgentInfo.phone}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Languages</label>\r\n                                        <p>\r\n                                            {this.state.languages.map(item => (\r\n                                                <span className=\"mr-1\">{item.label}  </span>\r\n                                            ))}\r\n                                            {/* {\r\n                                            this.state.AgentInfo.map((item)=>(\r\n                                               <span>{item.label}</span>\r\n                                            ))\r\n                                            } */}\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">License Number</label>\r\n                                        <p>{this.state.AgentInfo.license_number}</p>\r\n                                    </div>\r\n\r\n\r\n                                    <div className=\"col-12 col-lg-12\">\r\n                                        <label className=\"fw-bold\">Introduction</label>\r\n                                        <p>{this.state.AgentInfo.introduction}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-12 col-lg-12\">\r\n                                        <label className=\"fw-bold\">License Document</label>\r\n                                        <div className=\"text-center\">\r\n                                            {this.state.AgentInfo.license_document ?\r\n                                                <div className=\"img-gallery\" style={{ paddingLeft: \"0px\" }}>\r\n                                                    <img width=\"188px\" className=\"\"\r\n                                                        onClick={() => this.LicenseDoc()}\r\n                                                        src={this.state.AgentInfo.license_document}\r\n                                                    />\r\n                                                </div> : \"No Document Available\"}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                                : \"NO Data Available\"\r\n                        }\r\n                    </ModalBody>\r\n                    <ModalFooter >\r\n                        {this.state.AgentInfo.is_approved === null ?\r\n                            <div className=\"d-flex justify-content-between w-100\">\r\n                                <Button color=\"success\" onClick={(e) => this.onSubmitHandler(this.state.AgentInfo, \"Approved\")} >Approve</Button>\r\n                                <Button color=\"danger\" onClick={(e) => this.onSubmitHandler(this.state.AgentInfo, \"Reject\")}  >Reject</Button>\r\n                                {/* <Button type=\"button\" onClick={() => this.taketourClose()} className=\"btn btn-secondary\" >Close</Button> */}\r\n                            </div>\r\n                            :\r\n                            \"\"\r\n                        }\r\n                    </ModalFooter>\r\n                </Modal>\r\n                <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.LicenseDoc} toggle={() => this.LicenseDoc()} autoFocus={false}>\r\n                    <ModalHeader toggle={() => this.LicenseDoc()}>License Document</ModalHeader>\r\n                    <ModalBody>\r\n                        <img className=\"w-100 \"\r\n                            src={this.state.AgentInfo.license_document}\r\n                        />\r\n                    </ModalBody>\r\n                    <ModalFooter></ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}