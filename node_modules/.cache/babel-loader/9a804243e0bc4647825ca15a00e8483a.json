{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Redirect}from'react-router';import Sidebar from'./Sidebar';import axios from\"axios\";import{APIURL}from'../../../components/constants/common';import Navbar from'./Navbar';import Button from'@restart/ui/esm/Button';import{Spinner}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ChangePassword=/*#__PURE__*/function(_Component){_inherits(ChangePassword,_Component);var _super=_createSuper(ChangePassword);function ChangePassword(){var _this;_classCallCheck(this,ChangePassword);_this=_super.call(this);_this.sideMenu=function(value){_this.setState({activeSide:value});};_this.onChangehandler=function(e,key){var userInfo=_this.state.userInfo;userInfo[e.target.name]=e.target.value;_this.setState({userInfo:userInfo,errMsg:\"\"});console.log(userInfo);};_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});};_this.onSubmitHandler=function(e){var token=_this.state.token;var _this$state=_this.state,userInfo=_this$state.userInfo,user=_this$state.user;userInfo['email']=user.email;_this.setState({Loader:true});axios.post(APIURL+\"change-password/update\",_this.state.userInfo,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});_this.setState({scsMsg:response.data.message});setTimeout(function(){return _this.setState({scsMsg:\"\",current_password:\"\",password:\"\",confirm_password:\"\"});},3000);}).catch(function(error){console.log(error.response.data.error);_this.setState({errMsg:error.response.data.error,Loader:false});setTimeout(function(){return _this.setState({errMsg:\"\",current_password:\"\",password:\"\",confirm_password:\"\"});},3000);});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:localStorage.getItem(\"user_type\"),navigate:false,userInfo:{current_password:\"\",password:\"\",confirm_password:\"\"},errMsg:\"\",scsMsg:\"\",currShowPassword:false,newShowPassword:false,confirmShowPassword:false,Loader:true,activeSide:false};return _this;}_createClass(ChangePassword,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.scrollTo(0,0);setTimeout(function(){_this2.setState({Loader:false});},500);}},{key:\"currShowPassword\",value:function currShowPassword(){this.setState({currShowPassword:!this.state.currShowPassword});}},{key:\"newShowPassword\",value:function newShowPassword(){this.setState({newShowPassword:!this.state.newShowPassword});}},{key:\"confirmShowPassword\",value:function confirmShowPassword(){this.setState({confirmShowPassword:!this.state.confirmShowPassword});}//form handler\n},{key:\"render\",value:function render(){var _this3=this;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-scroller resido-admin\",children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",/*#__PURE__*/_jsx(Navbar,{sideMenu:this.sideMenu.bind(this),activeSide:this.state.activeSide}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid page-body-wrapper\",children:[/*#__PURE__*/_jsx(Sidebar,{sideMenu:this.sideMenu.bind(this),activeSide:this.state.activeSide,activepage:\"password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 d-flex justify-content-between\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-uppercase\",children:\"CHANGE PASSWORD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 grid-margin stretch-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[this.state.scsMsg?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",role:\"alert\",children:[\" \",this.state.scsMsg,\" \"]}):\"\",this.state.errMsg.message?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[\"  \",this.state.errMsg.message,\"   \"]}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputName1\",children:\"Current Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.currShowPassword?\"text\":\"password\",name:\"current_password\",placeholder:\"Current Password\",value:this.state.current_password,onChange:this.onChangehandler}),this.state.currShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.currShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.currShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.current_password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputName1\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.newShowPassword?\"text\":\"password\",name:\"password\",placeholder:\"New Password\",value:this.state.password,onChange:this.onChangehandler}),this.state.newShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.newShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.newShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputName1\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.confirmShowPassword?\"text\":\"password\",name:\"confirm_password\",placeholder:\"Confirm Password\",value:this.state.confirm_password,onChange:this.onChangehandler}),this.state.confirmShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.confirmShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.confirmShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.confirm_password})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this3.onSubmitHandler();},className:\"btn btn-info\",children:\"Submit\"})})]})]})})})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid clearfix\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted d-block text-center text-sm-left d-sm-inline-block\",children:\"Copyright \\xA9 website.com 2021\"})})})]})]})]})});}}]);return ChangePassword;}(Component);export{ChangePassword as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Agent/ChangePassword.js"],"names":["React","Component","Redirect","Sidebar","axios","APIURL","Navbar","Button","Spinner","ChangePassword","sideMenu","value","setState","activeSide","onChangehandler","e","key","userInfo","state","target","name","errMsg","console","log","onLogoutHandler","localStorage","removeItem","clear","navigate","onSubmitHandler","token","user","email","Loader","post","headers","then","response","scsMsg","data","message","setTimeout","current_password","password","confirm_password","catch","error","JSON","parse","getItem","user_type","currShowPassword","newShowPassword","confirmShowPassword","window","scrollTo","width","height","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport Sidebar from './Sidebar'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../components/constants/common';\r\nimport Navbar from './Navbar'\r\nimport Button from '@restart/ui/esm/Button';\r\nimport {Spinner} from 'reactstrap'\r\n\r\nexport default class ChangePassword extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: localStorage.getItem(\"user_type\"),\r\n            navigate: false,\r\n            userInfo: {\r\n                current_password: \"\",\r\n                password: \"\",\r\n                confirm_password: \"\",\r\n            },\r\n            errMsg: \"\",\r\n            scsMsg: \"\",\r\n            currShowPassword: false,\r\n            newShowPassword: false,\r\n            confirmShowPassword:false,\r\n            Loader:true,\r\n            activeSide:false\r\n        }\r\n    }\r\n  \r\n    componentDidMount() {\r\n        window.scrollTo(0,0);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tLoader:false\r\n\t\t\t})\r\n\t\t}, 500);\r\n    }\r\n    sideMenu = (value) => {\r\n        this.setState({\r\n            activeSide:value\r\n        })\r\n    }\r\n    currShowPassword() {\r\n        this.setState({\r\n            currShowPassword: !this.state.currShowPassword\r\n        })\r\n    }\r\n    newShowPassword() {\r\n        this.setState({\r\n            newShowPassword: !this.state.newShowPassword\r\n        })\r\n    }\r\n    confirmShowPassword() {\r\n        this.setState({\r\n            confirmShowPassword: !this.state.confirmShowPassword\r\n        })\r\n    }\r\n\r\n    //form handler\r\n    onChangehandler = (e, key) => {\r\n        const { userInfo } = this.state;\r\n        userInfo[e.target.name] = e.target.value;\r\n        this.setState({\r\n            userInfo,\r\n            errMsg: \"\"\r\n        });\r\n        console.log(userInfo)\r\n    };\r\n\r\n\r\n    onLogoutHandler = () => {\r\n\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    onSubmitHandler = (e) => {\r\n        var token = this.state.token\r\n        const { userInfo, user } = this.state;\r\n        userInfo['email'] = user.email;\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"change-password/update\", this.state.userInfo, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false });\r\n                this.setState({\r\n                    scsMsg: response.data.message,\r\n                });\r\n                setTimeout(() => this.setState({ \r\n                    scsMsg: \"\",\r\n                    current_password: \"\",\r\n                    password: \"\",\r\n                    confirm_password: \"\",\r\n                }), 3000);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error.response.data.error)\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n                setTimeout(() => this.setState({ \r\n                    errMsg: \"\" ,\r\n                    current_password: \"\",\r\n                    password: \"\",\r\n                    confirm_password: \"\",\r\n\r\n                }), 3000);\r\n            });\r\n    };\r\n\r\n\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"container-scroller resido-admin\">\r\n                {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n                    <Navbar\r\n                     sideMenu={this.sideMenu.bind(this)}\r\n                     activeSide={this.state.activeSide}\r\n                     />\r\n                    <div className=\"container-fluid page-body-wrapper\">\r\n                        <Sidebar \r\n                         sideMenu={this.sideMenu.bind(this)}\r\n                         activeSide={this.state.activeSide}\r\n                         activepage=\"password\" />\r\n                        <div className=\"main-panel\">\r\n                            <div className=\"content-wrapper\">\r\n                            <div className=\"mb-4 d-flex justify-content-between\">\r\n                                    <h4 className=\"text-uppercase\">CHANGE PASSWORD</h4>\r\n                                   \r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-12 grid-margin stretch-card\">\r\n                                        <div className=\"card\">\r\n                                            <div className=\"card-body\">\r\n                                                {/* scsMsg  */}\r\n                                                {this.state.scsMsg ? <div className=\"alert alert-success\" role=\"alert\"> {this.state.scsMsg} </div> : \"\"}\r\n                                                {/* messgae err */}\r\n                                                {this.state.errMsg.message ? <div className=\"alert alert-danger\" role=\"alert\">  {this.state.errMsg.message}   </div> : \"\"}\r\n                                                <div className=\"col-lg-6 col-md-6\">\r\n                                                    <div className=\"form-group \">\r\n                                                        <label htmlFor=\"exampleInputName1\">Current Password</label>\r\n                                                        <div className=\"position-relative\">\r\n                                                        <input\r\n                                                            className=\"form-control\"\r\n                                                            required=\"\"\r\n                                                            type={this.state.currShowPassword ? \"text\" : \"password\"}\r\n                                                            name=\"current_password\"\r\n                                                            placeholder=\"Current Password\"\r\n                                                            value={this.state.current_password}\r\n                                                            onChange={this.onChangehandler}\r\n                                                        />\r\n                                                         {this.state.currShowPassword ?\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.currShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                :\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.currShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                            }\r\n                                                            </div>\r\n                                                        <span className=\"text-danger\">{this.state.errMsg.current_password}</span>\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <label htmlFor=\"exampleInputName1\">New Password</label>\r\n                                                        <div className=\"position-relative\">\r\n                                                        <input\r\n                                                            className=\"form-control\"\r\n                                                            required=\"\"\r\n                                                            type={this.state.newShowPassword ? \"text\" : \"password\"}\r\n                                                            name=\"password\"\r\n                                                            placeholder=\"New Password\"\r\n                                                            value={this.state.password}\r\n                                                            onChange={this.onChangehandler}\r\n                                                        />\r\n                                                          {this.state.newShowPassword ?\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.newShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                :\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.newShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                            }\r\n                                                            </div>\r\n                                                        <span className=\"text-danger\">{this.state.errMsg.password}</span>\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <label htmlFor=\"exampleInputName1\">Confirm Password</label>\r\n                                                        <div className=\"position-relative\">\r\n                                                        <input\r\n                                                            className=\"form-control\"\r\n                                                            required=\"\"\r\n                                                            type={this.state.confirmShowPassword ? \"text\" : \"password\"}\r\n                                                            name=\"confirm_password\"\r\n                                                            placeholder=\"Confirm Password\"\r\n                                                            value={this.state.confirm_password}\r\n                                                            onChange={this.onChangehandler}\r\n                                                        />\r\n                                                         {this.state.confirmShowPassword ?\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.confirmShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                :\r\n                                                                <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.confirmShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                            }\r\n                                                        </div>\r\n                                                        <span className=\"text-danger\">{this.state.errMsg.confirm_password}</span>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <Button onClick={() => this.onSubmitHandler()} className=\"btn btn-info\">Submit</Button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <footer className=\"footer\">\r\n                                <div className=\"container-fluid clearfix\">\r\n                                    <span className=\"text-muted d-block text-center text-sm-left d-sm-inline-block\">Copyright © website.com 2021</span>\r\n                                </div>\r\n                            </footer>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}