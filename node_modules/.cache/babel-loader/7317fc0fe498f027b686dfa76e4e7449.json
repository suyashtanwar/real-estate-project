{"ast":null,"code":"var _jsxFileName = \"D:\\\\imenso\\\\Reactjs\\\\real-estate-marketplace\\\\src\\\\components\\\\users\\\\Seller\\\\Navbar.js\";\nimport React, { Component } from 'react';\nimport logo from '../../../assets/img/logo.png';\nimport logoMini from '../../../assets/img/logo-mini.png';\nimport { Redirect, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Sidebar from './Sidebar';\nimport { Button, Modal, ModalFooter } from 'reactstrap';\nimport { APIURL, BASEURL } from '../../../components/constants/common';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Navbar extends Component {\n  constructor() {\n    super();\n\n    this.onLogoutHandler = () => {\n      localStorage.removeItem(\"isLoggedIn\");\n      localStorage.removeItem(\"userData\");\n      localStorage.clear();\n      this.setState({\n        navigate: true\n      });\n    };\n\n    this.onHover = () => this.setState({\n      showIcons: true\n    });\n\n    this.onNotHover = () => this.setState({\n      showIcons: false\n    });\n\n    this.Sidebar = event => {\n      this.setState({\n        openSidebar: !this.state.openSidebar\n      });\n\n      if (this.state.openSidebar) {\n        document.body.classList.remove('sidebar-icon-only');\n      }\n\n      if (!this.state.openSidebar) {\n        document.body.classList.add('sidebar-icon-only');\n      }\n    };\n\n    this.SwitchModalOpen = () => {\n      this.setState({\n        switchModal: !this.state.switchModal\n      });\n    };\n\n    this.ModalClose = () => {\n      this.setState({\n        switchModal: !this.state.switchModal,\n        checked: !this.state.checked\n      });\n    };\n\n    this.SwitchUser = () => {\n      if (this.state.user) {\n        const formData = new FormData();\n        var token = this.state.token;\n        var app_url = APIURL + \"seller/switch-to-buyer\";\n        axios.post(app_url, formData, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        }).then(response => {\n          localStorage.setItem(\"isLoggedIn\", true);\n          localStorage.setItem(\"token\", JSON.stringify(response.data.token));\n          localStorage.setItem(\"userData\", JSON.stringify(response.data.user));\n          localStorage.setItem(\"user_type\", JSON.stringify(response.data.user.switch_user_type));\n          this.setState({\n            redirectToHome: true\n          });\n        }).catch(error => {\n          this.setState({\n            // errMsg: error.response.data.errors,\n            Loader: false\n          });\n        });\n      }\n    };\n\n    this.state = {\n      token: JSON.parse(localStorage.getItem(\"token\")),\n      user: JSON.parse(localStorage.getItem(\"userData\")),\n      user_type: JSON.parse(localStorage.getItem(\"user_type\")),\n      navigate: false,\n      profile_image: \"\",\n      openSidebar: false,\n      redirectToHome: false,\n      switchModal: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      openSidebar: false\n    });\n    this.getProfileInfo();\n    console.log(this.props.data);\n  }\n\n  getProfileInfo() {\n    if (this.state.user) {\n      const formData = new FormData(); // formData.append('token', this.state.token);\n\n      formData.append('id', this.state.user.id);\n      var token = this.state.token;\n      var app_url = APIURL + \"agent/edit-profile\";\n      axios.post(app_url, formData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(response => {\n        const info = response.data.data;\n        this.setState({\n          profile_image: response.data.data.url_path,\n          name: response.data.data.name\n        });\n        console.log(\"bjsbvjx\", this.state.profile_image);\n      }).catch(error => {\n        this.setState({\n          // errMsg: error.response.data.errors,\n          Loader: false\n        });\n      });\n    }\n  }\n\n  goToHome() {\n    window.location.href = \"/\";\n  }\n\n  render() {\n    const {\n      openSidebar,\n      closeSidebar,\n      redirectToHome\n    } = this.state;\n    const {\n      user,\n      name\n    } = this.state; // if(this.state.user_type !== \"Seller\"){\n    //     return <Redirect to=\"/permission\" />;\n    // }\n\n    if (!this.state.user) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\",\n        push: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (redirectToHome) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/buyer\",\n        push: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (this.state.navigate) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\",\n        push: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-none\",\n        children: /*#__PURE__*/_jsxDEV(Sidebar // res_Active=\"hjdgsgdshgd\"\n        , {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-brand brand-logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"navbar-brand brand-logo-mini\",\n            to: \"#\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logoMini,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 79\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navbar-menu-wrapper d-flex align-items-stretch\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: openSidebar ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \" navbar-toggler navbar-toggler align-self-center\",\n              type: \"button\",\n              \"data-toggle\": \"minimize\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => this.Sidebar(),\n                className: \"fas fa-bars\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \" navbar-toggler navbar-toggler align-self-center\",\n              type: \"button\",\n              \"data-toggle\": \"minimize\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => this.Sidebar(),\n                className: \"fas fa-bars\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav navbar-nav-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item nav-logout  d-lg-block \",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link \",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  size: \"sm\",\n                  className: \"btn btn-info btn-rounded\",\n                  onClick: () => this.SwitchModalOpen(),\n                  children: \"Switch To Buyer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  \"data-bs-toggle\": \"tooltip\",\n                  \"data-bs-placement\": \"bottom\",\n                  title: \"Logout\",\n                  onClick: () => this.onLogoutHandler(),\n                  className: \"mdi mdi-power\",\n                  children: \"  \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item nav-logout d-lg-block\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"#\",\n                onClick: () => this.onLogoutHandler(),\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  \"data-bs-toggle\": \"tooltip\",\n                  \"data-bs-placement\": \"bottom\",\n                  title: \"Logout\",\n                  onClick: () => this.onLogoutHandler(),\n                  className: \"mdi mdi-power\",\n                  children: \"  \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-toggler navbar-toggler-right d-lg-none align-self-center\",\n            type: \"button\",\n            \"data-toggle\": \"offcanvas\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => this.ResSidebar(),\n              className: \"fas fa-bars\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          className: \"resido-admin\",\n          size: \"md\",\n          isOpen: this.state.switchModal,\n          toggle: () => this.ModalClose(),\n          autoFocus: false,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: \"Please confirm if you want to switch your profile and become property buyer.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between w-100\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"success\",\n                onClick: () => this.SwitchUser(),\n                children: \"Confirm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"danger\",\n                onClick: () => this.ModalClose(),\n                children: \"Cancel \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Seller/Navbar.js"],"names":["React","Component","logo","logoMini","Redirect","Link","axios","Sidebar","Button","Modal","ModalFooter","APIURL","BASEURL","Navbar","constructor","onLogoutHandler","localStorage","removeItem","clear","setState","navigate","onHover","showIcons","onNotHover","event","openSidebar","state","document","body","classList","remove","add","SwitchModalOpen","switchModal","ModalClose","checked","SwitchUser","user","formData","FormData","token","app_url","post","headers","then","response","setItem","JSON","stringify","data","switch_user_type","redirectToHome","catch","error","Loader","parse","getItem","user_type","profile_image","componentDidMount","getProfileInfo","console","log","props","append","id","info","url_path","name","goToHome","window","location","href","render","closeSidebar","ResSidebar"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport logo from '../../../assets/img/logo.png'\r\nimport logoMini from '../../../assets/img/logo-mini.png'\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Sidebar from './Sidebar'\r\nimport { Button, Modal, ModalFooter } from 'reactstrap'\r\nimport { APIURL, BASEURL } from '../../../components/constants/common';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: JSON.parse(localStorage.getItem(\"user_type\")),\r\n            navigate: false,\r\n            profile_image: \"\",\r\n            openSidebar: false,\r\n            redirectToHome: false,\r\n            switchModal: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            openSidebar: false\r\n        })\r\n        this.getProfileInfo()\r\n        console.log(this.props.data)\r\n    }\r\n\r\n    getProfileInfo() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.state.user.id);\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"agent/edit-profile\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    const info = response.data.data;\r\n                    this.setState({\r\n                        profile_image: response.data.data.url_path,\r\n                        name: response.data.data.name\r\n                    })\r\n                    console.log(\"bjsbvjx\", this.state.profile_image)\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    onLogoutHandler = () => {\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    onHover = () =>\r\n        this.setState({\r\n            showIcons: true\r\n        });\r\n    onNotHover = () =>\r\n        this.setState({\r\n            showIcons: false\r\n        });\r\n\r\n    Sidebar = (event) => {\r\n        this.setState({\r\n            openSidebar: !this.state.openSidebar\r\n        })\r\n        if (this.state.openSidebar) {\r\n            document.body.classList.remove('sidebar-icon-only');\r\n        }\r\n        if (!this.state.openSidebar) {\r\n            document.body.classList.add('sidebar-icon-only');\r\n        }\r\n    }\r\n    goToHome() {\r\n        window.location.href = \"/\";\r\n    }\r\n    SwitchModalOpen = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n        })\r\n    }\r\n    ModalClose = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n            checked: !this.state.checked\r\n        })\r\n    }\r\n\r\n    SwitchUser = () => {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"seller/switch-to-buyer\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    localStorage.setItem(\"isLoggedIn\", true);\r\n                    localStorage.setItem(\"token\", JSON.stringify(response.data.token));\r\n                    localStorage.setItem(\"userData\", JSON.stringify(response.data.user));\r\n                    localStorage.setItem(\"user_type\", JSON.stringify(response.data.user.switch_user_type));\r\n                    this.setState({\r\n                        redirectToHome: true\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { openSidebar, closeSidebar, redirectToHome } = this.state\r\n        const { user, name } = this.state\r\n        // if(this.state.user_type !== \"Seller\"){\r\n        //     return <Redirect to=\"/permission\" />;\r\n        // }\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n\r\n        if (redirectToHome) {\r\n            return <Redirect to=\"/buyer\" push={true} />;\r\n        }\r\n\r\n        if (this.state.navigate) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"d-none\" >\r\n                    <Sidebar\r\n                        // res_Active=\"hjdgsgdshgd\"\r\n                    />\r\n                </div>\r\n                <nav className=\"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\">\r\n                    <div className=\"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\">\r\n                        <button className=\"navbar-brand brand-logo\" ><img src={logo} alt=\"logo\" /></button>\r\n                        <Link className=\"navbar-brand brand-logo-mini\" to=\"#\"><img src={logoMini} alt=\"logo\" /></Link>\r\n                    </div>\r\n                    <div className=\"navbar-menu-wrapper d-flex align-items-stretch\">\r\n                        <div className=\"mt-3\">\r\n                            {openSidebar ?\r\n                                <span className=\" navbar-toggler navbar-toggler align-self-center\" type=\"button\" data-toggle=\"minimize\">\r\n                                    <span onClick={() => this.Sidebar()} className=\"fas fa-bars\"></span>\r\n                                </span>\r\n                                :\r\n                                <span className=\" navbar-toggler navbar-toggler align-self-center\" type=\"button\" data-toggle=\"minimize\">\r\n                                    <span onClick={() => this.Sidebar()} className=\"fas fa-bars\"></span>\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                        <ul className=\"navbar-nav navbar-nav-right\">\r\n                            <li className=\"nav-item nav-logout  d-lg-block \">\r\n                                <a className=\"nav-link \">\r\n                                    <Button size='sm' className='btn btn-info btn-rounded' onClick={() => this.SwitchModalOpen()}>Switch To Buyer</Button>\r\n                                    <i data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" title=\"Logout\" onClick={() => this.onLogoutHandler()} className=\"mdi mdi-power\">  </i>\r\n                                </a>\r\n                            </li>\r\n                            <li className=\"nav-item nav-logout d-lg-block\">\r\n                                <a className=\"nav-link\" href=\"#\" onClick={() => this.onLogoutHandler()} >\r\n                                    <strong>Logout</strong>\r\n                                    <i data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" title=\"Logout\" onClick={() => this.onLogoutHandler()} className=\"mdi mdi-power\">  </i>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                        <button className=\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\" type=\"button\" data-toggle=\"offcanvas\">\r\n                            <span onClick={() => this.ResSidebar()} className=\"fas fa-bars\"></span>\r\n                        </button>\r\n                    </div>\r\n                    <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.switchModal} toggle={() => this.ModalClose()} autoFocus={false}>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                Please confirm if you want to switch your profile and become property buyer.\r\n                            </div>\r\n                        </div>\r\n                        <ModalFooter>\r\n                            <div className=\"d-flex justify-content-between w-100\">\r\n                                <Button color=\"success\" onClick={() => this.SwitchUser()}>Confirm</Button>\r\n                                <Button color=\"danger\" onClick={() => this.ModalClose()}>Cancel </Button>\r\n                            </div>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n                </nav>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}