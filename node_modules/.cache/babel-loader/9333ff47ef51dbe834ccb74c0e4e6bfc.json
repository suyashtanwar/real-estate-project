{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link,Redirect}from'react-router-dom';import axios from\"axios\";import face1 from'../../../assets/images/faces/dummy.png';import{APIURL}from'../../../components/constants/common';import{Modal,Spinner,ModalBody,ModalHeader,ModalFooter,Collapse,Button}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Sidebar=/*#__PURE__*/function(_Component){_inherits(Sidebar,_Component);var _super=_createSuper(Sidebar);function Sidebar(){var _this;_classCallCheck(this,Sidebar);_this=_super.call(this);_this.activetab=function(){_this.setState({activetab:!_this.state.activetab});};_this.activetabb=function(){_this.setState({activetabb:!_this.state.activetabb,ActiveIcon:!_this.state.ActiveIcon});};_this.activeDocIcon=function(){_this.setState({activeDocIcon:!_this.state.activeDocIcon});};_this.DocSubMenu=function(){_this.setState({DocSubMenu:!_this.state.DocSubMenu,DocMenuIcon:!_this.state.DocMenuIcon});};_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});};_this.handleSwitchUser=function(){_this.setState({checked:!_this.state.checked},function(){setTimeout(function(){if(_this.state.checked){_this.SwitchModalOpen();}},500);});};_this.SwitchModalOpen=function(){_this.setState({switchModal:!_this.state.switchModal});};_this.ModalClose=function(){_this.setState({switchModal:!_this.state.switchModal,checked:!_this.state.checked});};_this.SwitchUser=function(){if(_this.state.user){var formData=new FormData();var token=_this.state.token;var app_url=APIURL+\"buyer/switch-to-seller\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){localStorage.setItem(\"isLoggedIn\",true);localStorage.setItem(\"token\",JSON.stringify(response.data.token));localStorage.setItem(\"userData\",JSON.stringify(response.data.user));localStorage.setItem(\"user_type\",JSON.stringify(response.data.user.switch_user_type));_this.setState({redirectToHome:true});}).catch(function(error){_this.setState({// errMsg: error.response.data.errors,\nLoader:false});});}};_this.toggle=function(){_this.props.toggleFunChild(false);};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:localStorage.getItem(\"user_type\"),navigate:false,profile_image:\"\",NoImage:false,ActiveIcon:true,activetabb:true,activetab:false,DocMenuIcon:true,DocSubMenu:true,activeDocIcon:false,checked:false,redirectToHome:false,switch:false,switchModal:false,toggle:false};return _this;}_createClass(Sidebar,[{key:\"getProfileInfo\",value:function getProfileInfo(){var _this2=this;if(this.state.user){var formData=new FormData();// formData.append('token', this.state.token);\nformData.append('id',this.state.user.id);var token=this.state.token;var app_url=APIURL+\"agent/edit-profile\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var info=response.data.data;_this2.setState({profile_image:response.data.data.url_path,name:response.data.data.fullName,NoImage:true});console.log(\"bjsbvjx\",_this2.state.profile_image);}).catch(function(error){_this2.setState({Loader:false});});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.getProfileInfo();}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,user=_this$state.user,name=_this$state.name,activetab=_this$state.activetab;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(this.state.navigate){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(this.state.redirectToHome){return/*#__PURE__*/_jsx(Redirect,{to:\"/seller\",push:true});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:this.state.toggle?\"simple-sidebar sm-sidebar\":this.props.toggle?\"simple-sidebar sm-sidebar d-block \":\"simple-sidebar sm-sidebar\",id:\"filter_search\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"search-sidebar_header\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"ssh_heading\",children:\"Close Filter\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.toggle();},class:\"w3-bar-item w3-button w3-large\",children:/*#__PURE__*/_jsx(\"i\",{class:\"ti-close\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-widgets\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-user-avater\",children:[this.state.NoImage&&/*#__PURE__*/_jsx(\"img\",{src:this.state.profile_image!==\"\"?this.state.profile_image:face1,alt:\"profile\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buy-sell-switch\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:\"Buy\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-check form-switch p-0\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input mx-2\",type:\"checkbox\",id:\"flexSwitchCheckChecked\",checked:this.state.checked,onClick:function onClick(){return _this3.handleSwitchUser();}})}),/*#__PURE__*/_jsx(\"span\",{children:\"Sell\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-navigation\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"dashboard\"?\"active\":\"\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-dashboard\"}),\"Dashboard\"]})}),/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"wishlist\"?\"active\":\"\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer/wishlist\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-heart\"}),\"Wishlist\"]})}),/*#__PURE__*/_jsxs(\"li\",{className:this.props.activePage===\"contact_enquiry\"||this.props.activePage===\"take_tour\"?\"nav-item active\":\"nav-item\",onMouseOver:function onMouseOver(){return _this3.activetab();},onMouseOut:function onMouseOut(){return _this3.activetab();},onClick:function onClick(){return _this3.activetabb();},children:[/*#__PURE__*/_jsxs(Link,{id:\"Property\",className:\"nav-link w-100\",to:\"#\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-building\"}),\"Property Enquiry\",this.state.ActiveIcon?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-up menu-icon ml-5 mt-1 float-end\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-down menu-icon mt-1 float-end\"})]}),/*#__PURE__*/_jsxs(Collapse,{className:\"ml-3\",isOpen:this.state.activetabb,children:[/*#__PURE__*/_jsx(Link,{id:\"Enquiry\",className:this.props.activePage===\"contact_enquiry\"?\"nav-link active\":\"nav-link\",to:\"/agent/enquiry\",children:/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"enquiry\"?\"active\":\"p-0\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer/contact/enquiry\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-address-book\"}),\"Contact Agent Enquiry\"]})})}),/*#__PURE__*/_jsx(Link,{id:\"Enquiry\",className:this.props.activePage===\"take_tour\"?\"nav-link active\":\"nav-link\",to:\"/agent/enquiry/tour\",children:/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"taketour\"?\"active\":\"p-0\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer/taketour/enquiry\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-handshake\"}),\"Take A Tour Enquiry\"]})})})]})]}),/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"profile\"?\"active\":\"\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer/Profile\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-user\"}),\"My Profile\"]})}),/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"changepassword\"?\"active\":\"\",children:/*#__PURE__*/_jsxs(Link,{to:\"/buyer/changepassword\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-unlock\"}),\"Change Password\"]})}),/*#__PURE__*/_jsxs(\"li\",{className:this.props.activePage===\"buyerAgentContract\"||this.props.activePage===\"buyerPurchase\"?\"nav-item active\":\"nav-item\",onMouseOver:function onMouseOver(){return _this3.activeDocIcon();},onMouseOut:function onMouseOut(){return _this3.activeDocIcon();},onClick:function onClick(){return _this3.DocSubMenu();},children:[/*#__PURE__*/_jsxs(Link,{id:\"Property\",className:\"nav-link w-100\",to:\"#\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-building\"}),\"Contract Form\",this.state.DocMenuIcon?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-up menu-icon ml-5 mt-1 float-end\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-down menu-icon mt-1 float-end\"})]}),/*#__PURE__*/_jsxs(Collapse,{className:\"ml-3\",isOpen:this.state.DocSubMenu,children:[/*#__PURE__*/_jsx(Link,{id:\"Enquiry\",className:this.props.activePage===\"buyerAgentContract\"?\"nav-link active\":\"nav-link\",to:\"/buyer/contract/list\",children:/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"enquiry\"?\"active\":\"p-0\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-address-book\"}),\"Buyer-Agent Contract\"]})})}),/*#__PURE__*/_jsx(Link,{id:\"Enquiry\",className:this.props.activePage===\"buyerPurchase\"?\"nav-link active\":\"nav-link\",to:\"/buyer/purchase/contract/list\",children:/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"taketour\"?\"active\":\"p-0\",children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-handshake\"}),\"Buyer Purchase\"]})})})]})]}),/*#__PURE__*/_jsx(\"li\",{className:this.props.activePage===\"logout\"?\"active\":\"\",children:/*#__PURE__*/_jsxs(Link,{to:\"#\",onClick:function onClick(){return _this3.onLogoutHandler();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-power-off\"}),\"Log Out\"]})})]})})]})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"resido-admin\",size:\"md\",isOpen:this.state.switchModal,toggle:function toggle(){return _this3.ModalClose();},autoFocus:false,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center\",children:\"Please confirm if you want to switch your profile and become property seller.\"})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between w-100\",children:[/*#__PURE__*/_jsx(Button,{color:\"success\",onClick:function onClick(){return _this3.SwitchUser();},children:\"Confirm\"}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this3.ModalClose();},children:\"Cancel \"})]})})]})]});}}]);return Sidebar;}(Component);export{Sidebar as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Buyer/Sidebar.js"],"names":["React","Component","Link","Redirect","axios","face1","APIURL","Modal","Spinner","ModalBody","ModalHeader","ModalFooter","Collapse","Button","Sidebar","activetab","setState","state","activetabb","ActiveIcon","activeDocIcon","DocSubMenu","DocMenuIcon","onLogoutHandler","localStorage","removeItem","clear","navigate","handleSwitchUser","checked","setTimeout","SwitchModalOpen","switchModal","ModalClose","SwitchUser","user","formData","FormData","token","app_url","post","headers","then","response","setItem","JSON","stringify","data","switch_user_type","redirectToHome","catch","error","Loader","toggle","props","toggleFunChild","parse","getItem","user_type","profile_image","NoImage","switch","append","id","info","url_path","name","fullName","console","log","getProfileInfo","activePage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport face1 from '../../../assets/images/faces/dummy.png'\r\nimport { APIURL } from '../../../components/constants/common';\r\nimport { Modal, Spinner, ModalBody, ModalHeader, ModalFooter, Collapse, Button } from 'reactstrap';\r\n\r\nexport default class Sidebar extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: localStorage.getItem(\"user_type\"),\r\n            navigate: false,\r\n            profile_image: \"\",\r\n            NoImage: false,\r\n            ActiveIcon: true,\r\n            activetabb: true,\r\n            activetab: false,\r\n            DocMenuIcon: true,\r\n            DocSubMenu: true,\r\n            activeDocIcon: false,\r\n            checked: false,\r\n            redirectToHome: false,\r\n            switch: false,\r\n            switchModal: false,\r\n            toggle: false\r\n        }\r\n    }\r\n\r\n    activetab = () => {\r\n        this.setState({\r\n            activetab: !this.state.activetab\r\n        })\r\n    }\r\n    activetabb = () => {\r\n        this.setState({\r\n            activetabb: !this.state.activetabb,\r\n            ActiveIcon: !this.state.ActiveIcon\r\n        })\r\n    }\r\n\r\n    activeDocIcon = () => {\r\n        this.setState({\r\n            activeDocIcon: !this.state.activeDocIcon\r\n        })\r\n    }\r\n    DocSubMenu = () => {\r\n        this.setState({\r\n            DocSubMenu: !this.state.DocSubMenu,\r\n            DocMenuIcon: !this.state.DocMenuIcon\r\n        })\r\n    }\r\n\r\n    onLogoutHandler = () => {\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    getProfileInfo() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.state.user.id);\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"agent/edit-profile\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n\r\n                    const info = response.data.data;\r\n                    this.setState({\r\n                        profile_image: response.data.data.url_path,\r\n                        name: response.data.data.fullName,\r\n                        NoImage: true\r\n                    })\r\n                    console.log(\"bjsbvjx\", this.state.profile_image)\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    handleSwitchUser = () => {\r\n        this.setState({\r\n            checked: !this.state.checked\r\n        }, () => {\r\n            setTimeout(() => {\r\n                if (this.state.checked) {\r\n                    this.SwitchModalOpen()\r\n                }\r\n            }, 500);\r\n\r\n        })\r\n    }\r\n\r\n    SwitchModalOpen = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n        })\r\n    }\r\n    ModalClose = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n            checked: !this.state.checked\r\n        })\r\n    }\r\n\r\n    SwitchUser = () => {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"buyer/switch-to-seller\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    localStorage.setItem(\"isLoggedIn\", true);\r\n                    localStorage.setItem(\"token\", JSON.stringify(response.data.token));\r\n                    localStorage.setItem(\"userData\", JSON.stringify(response.data.user));\r\n                    localStorage.setItem(\"user_type\", JSON.stringify(response.data.user.switch_user_type));\r\n                    this.setState({\r\n                        redirectToHome: true\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.props.toggleFunChild(false)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProfileInfo()\r\n    }\r\n\r\n    render() {\r\n        const { user, name, activetab } = this.state\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n\r\n        if (this.state.navigate) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n        if (this.state.redirectToHome) {\r\n            return <Redirect to=\"/seller\" push={true} />;\r\n        }\r\n        return (\r\n            <div>\r\n                <div className={this.state.toggle ? \"simple-sidebar sm-sidebar\" : this.props.toggle ? \"simple-sidebar sm-sidebar d-block \" : \"simple-sidebar sm-sidebar\"} id=\"filter_search\">\r\n                    <div class=\"search-sidebar_header\">\r\n                        <h4 class=\"ssh_heading\">Close Filter</h4>\r\n                        <button onClick={() => this.toggle()} class=\"w3-bar-item w3-button w3-large\"><i class=\"ti-close\"></i></button>\r\n                    </div>\r\n                    <div className=\"sidebar-widgets\">\r\n                        <div className=\"dashboard-navbar\">\r\n                            <div className=\"d-user-avater\">\r\n                                {\r\n                                    this.state.NoImage &&\r\n                                    <img src={this.state.profile_image !== \"\" ? this.state.profile_image : face1} alt=\"profile\" />\r\n                                }\r\n                                <h4>{name}</h4>\r\n                            </div>\r\n                            <div className=\"buy-sell-switch\">\r\n                                <span className=''>Buy</span>\r\n                                <div className=\"form-check form-switch p-0\">\r\n                                    <input\r\n                                        className=\"form-check-input mx-2\"\r\n                                        type=\"checkbox\"\r\n                                        id=\"flexSwitchCheckChecked\"\r\n                                        checked={this.state.checked}\r\n                                        onClick={() => this.handleSwitchUser()}\r\n                                    />\r\n                                </div>\r\n                                <span>Sell</span>\r\n                            </div>\r\n                            <div className=\"d-navigation\">\r\n                                <ul>\r\n                                    <li className={this.props.activePage === \"dashboard\" ? \"active\" : \"\"}><Link to=\"/buyer\"><i className=\"ti-dashboard\"></i>Dashboard</Link></li>\r\n\r\n                                    <li className={this.props.activePage === \"wishlist\" ? \"active\" : \"\"}><Link to=\"/buyer/wishlist\"><i className=\"ti-heart\"></i>Wishlist</Link></li>\r\n                                    <li\r\n                                        className={this.props.activePage === \"contact_enquiry\" || this.props.activePage === \"take_tour\" ? \"nav-item active\" : \"nav-item\"}\r\n                                        onMouseOver={() => this.activetab()}\r\n                                        onMouseOut={() => this.activetab()}\r\n                                        onClick={() => this.activetabb()}\r\n                                    >\r\n                                        <Link id=\"Property\" className=\"nav-link w-100\" to=\"#\">\r\n                                            <i className=\"far fa-building\"></i>Property Enquiry\r\n                                            {this.state.ActiveIcon ? <i className=\"fas fa-chevron-up menu-icon ml-5 mt-1 float-end\"></i> : <i className=\"fas fa-chevron-down menu-icon mt-1 float-end\"></i>}\r\n                                        </Link>\r\n                                        <Collapse className=\"ml-3\" isOpen={this.state.activetabb}>\r\n                                            <Link id=\"Enquiry\" className={this.props.activePage === \"contact_enquiry\" ? \"nav-link active\" : \"nav-link\"} to=\"/agent/enquiry\">\r\n                                                <li className={this.props.activePage === \"enquiry\" ? \"active\" : \"p-0\"}><Link to=\"/buyer/contact/enquiry\"><i className=\"far fa-address-book\"></i>Contact Agent Enquiry</Link></li>\r\n                                            </Link>\r\n                                            <Link id=\"Enquiry\" className={this.props.activePage === \"take_tour\" ? \"nav-link active\" : \"nav-link\"} to=\"/agent/enquiry/tour\">\r\n                                                <li className={this.props.activePage === \"taketour\" ? \"active\" : \"p-0\"}><Link to=\"/buyer/taketour/enquiry\"><i className=\"fas fa-handshake\"></i>Take A Tour Enquiry</Link></li>\r\n                                            </Link>\r\n                                        </Collapse>\r\n                                    </li>\r\n                                    <li className={this.props.activePage === \"profile\" ? \"active\" : \"\"}><Link to=\"/buyer/Profile\"><i className=\"ti-user\"></i>My Profile</Link></li>\r\n                                    <li className={this.props.activePage === \"changepassword\" ? \"active\" : \"\"}><Link to=\"/buyer/changepassword\"><i className=\"ti-unlock\"></i>Change Password</Link></li>\r\n                                    <li\r\n                                        className={this.props.activePage === \"buyerAgentContract\" || this.props.activePage === \"buyerPurchase\" ? \"nav-item active\" : \"nav-item\"}\r\n                                        onMouseOver={() => this.activeDocIcon()}\r\n                                        onMouseOut={() => this.activeDocIcon()}\r\n                                        onClick={() => this.DocSubMenu()}\r\n                                    >\r\n                                        <Link id=\"Property\" className=\"nav-link w-100\" to=\"#\">\r\n                                            <i className=\"far fa-building\"></i>Contract Form\r\n                                            {this.state.DocMenuIcon ? <i className=\"fas fa-chevron-up menu-icon ml-5 mt-1 float-end\"></i> : <i className=\"fas fa-chevron-down menu-icon mt-1 float-end\"></i>}\r\n                                        </Link>\r\n                                        <Collapse className=\"ml-3\" isOpen={this.state.DocSubMenu}>\r\n                                            <Link id=\"Enquiry\" className={this.props.activePage === \"buyerAgentContract\" ? \"nav-link active\" : \"nav-link\"} to=\"/buyer/contract/list\">\r\n                                                <li className={this.props.activePage === \"enquiry\" ? \"active\" : \"p-0\"}><span ><i className=\"far fa-address-book\"></i>Buyer-Agent Contract</span></li>\r\n                                            </Link>\r\n                                            <Link id=\"Enquiry\" className={this.props.activePage === \"buyerPurchase\" ? \"nav-link active\" : \"nav-link\"} to=\"/buyer/purchase/contract/list\">\r\n                                                <li className={this.props.activePage === \"taketour\" ? \"active\" : \"p-0\"}><span><i className=\"fas fa-handshake\"></i>Buyer Purchase</span></li>\r\n                                            </Link>\r\n                                        </Collapse>\r\n                                    </li>\r\n                                    <li className={this.props.activePage === \"logout\" ? \"active\" : \"\"}><Link to=\"#\" onClick={() => this.onLogoutHandler()}><i className=\"ti-power-off\"></i>Log Out</Link></li>\r\n\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.switchModal} toggle={() => this.ModalClose()} autoFocus={false}>\r\n                    <div className=\"card\">\r\n                        <div className=\"card-body text-center\">\r\n                            Please confirm if you want to switch your profile and become property seller.\r\n                        </div>\r\n                    </div>\r\n                    <ModalFooter>\r\n                        <div className=\"d-flex justify-content-between w-100\">\r\n                            <Button color=\"success\" onClick={() => this.SwitchUser()}>Confirm</Button>\r\n                            <Button color=\"danger\" onClick={() => this.ModalClose()}>Cancel </Button>\r\n                        </div>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}