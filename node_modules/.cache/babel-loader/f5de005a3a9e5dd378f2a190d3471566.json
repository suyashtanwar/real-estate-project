{"ast":null,"code":"var _jsxFileName = \"D:\\\\imenso\\\\Reactjs\\\\real-estate-marketplace\\\\src\\\\components\\\\users\\\\Admin\\\\Cms\\\\EditPage.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport Sidebar from '../Sidebar';\nimport Navbar from '../Navbar';\nimport axios from \"axios\";\nimport { APIURL } from '../../../constants/common';\nimport { Button, Input, Spinner } from 'reactstrap';\nimport Select from 'react-select';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Global, css } from \"@emotion/core\";\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst colourStyles = {\n  option: (styles, {\n    data,\n    isDisabled,\n    isFocused,\n    isSelected\n  }) => {\n    return { ...styles,\n      backgroundColor: isFocused ? \"#B8BCBD\" : null,\n      color: \"grey\"\n    };\n  }\n};\nconst editorConfiguration = {\n  toolbar: ['heading', '|', 'bold', 'italic', 'bulletedList', 'numberedList', '|', 'undo', 'redo' //   '|',\n  //   'imageStyle:alignLeft',\n  //   'imageStyle:alignCenter',\n  //    'imageStyle:alignRight',\n  ],\n  ckfinder: {\n    // Upload the images to the server using the CKFinder QuickUpload command\n    // You have to change this address to your server that has the ckfinder php connector\n    uploadUrl: 'https://ckeditor.com/apps/ckfinder/3.5.0/core/connector/php/connector.php?command=QuickUpload&type=Files&responseType=json'\n  }\n};\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.ckWrapperStyle = css`\n    position: relative;\n    z-index: 1;\n    &::before {\n      color: rgba(251, 50, 8, 1.0);\n      content: attr(data-placeholder);\n      position: absolute;\n      margin: var(--ck-spacing-large) 0;\n      top: 0;\n      z-index: -1;\n    }\n  `;\n\n    this.handleTitle = e => {\n      this.setState({\n        pageTitle: e\n      });\n    };\n\n    this.getProperties = () => {\n      var token = this.state.token;\n      const formData = new FormData();\n      formData.append('cms_id', this.props.match.params.id);\n      axios.post(APIURL + \"admin/edit-cms-page\", formData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(response => {\n        console.log(\"cms\", response.data.data);\n        const info = response.data.data;\n        this.setState({\n          pageTitle: info.page_title,\n          content: info.content\n        });\n      }).catch(error => {// setTimeout(() => this.setState({ errMsg: \"\" }), 3000);\n      });\n    };\n\n    this.onSubmitHandler = e => {\n      window.scrollTo(0, 0);\n      var token = this.state.token;\n      const {\n        userInfo,\n        user\n      } = this.state;\n      const formData = new FormData();\n      formData.append('id', this.props.match.params.id);\n      formData.append('page_title', this.state.pageTitle);\n      formData.append('content', this.state.content);\n      this.setState({\n        Loader: true\n      });\n      axios.post(APIURL + \"admin/update-cms-page\", formData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      }).then(response => {\n        this.setState({\n          scsMsg: response.data.message,\n          Loader: false // redirectback: true\n\n        });\n        this.UpdateSuccessfully(this.state.scsMsg);\n      }).catch(error => {\n        this.setState({\n          errMsg: error.response.data.error,\n          Loader: false\n        });\n      });\n    };\n\n    this.UpdateSuccessfully = e => toast.success(e, {\n      position: \"top-right\",\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      icon: false,\n      theme: \"colored\",\n      onClose: () => this.setState({\n        redirectback: true\n      })\n    });\n\n    this.sideMenu = value => {\n      this.setState({\n        active: value\n      });\n    };\n\n    this.state = {\n      token: JSON.parse(localStorage.getItem(\"token\")),\n      user: JSON.parse(localStorage.getItem(\"userData\")),\n      pageTitle: \"\",\n      content: \"\",\n      errMsg: \"\",\n      scsMsg: \"\",\n      Loader: true,\n      redirectback: false\n    };\n  }\n\n  componentDidMount() {\n    this.getProperties();\n    window.scrollTo(0, 0);\n    setTimeout(() => {\n      this.setState({\n        Loader: false\n      });\n    }, 500);\n  }\n\n  handleChangeText(event) {\n    this.setState({\n      content: event\n    });\n    console.log(this.state.text);\n  }\n\n  render() {\n    if (!this.state.user) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/signin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (this.state.redirectback) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/cms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-scroller resido-admin\",\n        children: [this.state.Loader ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(Spinner, {\n            type: \"border\",\n            color: \"dark\",\n            style: {\n              width: '3rem',\n              height: '3rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 67\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 42\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(ToastContainer, {\n          position: \"top-right\",\n          autoClose: 3000,\n          hideProgressBar: true,\n          newestOnTop: false,\n          closeOnClick: true,\n          rtl: false,\n          pauseOnFocusLoss: true,\n          draggable: true,\n          pauseOnHover: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n          sideMenu: this.sideMenu.bind(this),\n          activeSide: this.state.activeSide\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid page-body-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n            sideMenu: this.sideMenu.bind(this),\n            activeSide: this.state.activeSide,\n            activePage: \"contractToBuyer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-panel\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 d-flex justify-content-between\",\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-uppercase\",\n                  children: this.state.pageTitle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 grid-margin stretch-card\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card-body\",\n                        children: /*#__PURE__*/_jsxDEV(\"form\", {\n                          className: \"forms-sample\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"row\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"form-group col-lg-12 col-12\",\n                              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                htmlFor: \"exampleInputName1\",\n                                children: \"Page Content\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 233,\n                                columnNumber: 65\n                              }, this), /*#__PURE__*/_jsxDEV(Global, {\n                                styles: css`\n                                            :root {\n                                                \n                                            --ck-border-radius: 4px;\n                                            --ck-color-focus-border: rgba(142, 140, 140, 0.25);\n                                            --ck-color-shadow-inner: rgba(142, 140, 140, 1);\n                                            --ck-inner-shadow: 0 0 0 2px var(--ck-color-shadow-inner);\n                                            --ck-spacing-large: var(--ck-spacing-standard);\n                                            height: 200px;\n                                            }\n                                            .ck.ck-editor__editable_inline {\n                                            border: 1px solid rgba(142, 140, 140, 0.25);\n                                            transition: all 0.3s;\n                                            color: rgba(19, 19, 18, 1);\n                                            height: 200px;\n                                            &:hover {\n                                                border-color: rgba(19, 19, 18, 0.25);\n                                                border-right-width: 1px !important;\n                                              color: rgba(19, 19, 18, 1); !important;\n\n                                            }\n                                            }\n                                            .ck-editor__editable.ck-read-only {\n                                              color: rgba(19, 19, 18, 1);;\n                                            opacity: 1;\n                                            cursor: not-allowed;\n                                             color: rgba(19, 19, 18, 1);\n                                             height: 200px;\n                                            &:hover {\n                                                border-color: rgba(142, 140, 140, 0.25);\n                                            }\n                                            }\n                                        `\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 234,\n                                columnNumber: 65\n                              }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n                                editor: Editor,\n                                config: editorConfiguration,\n                                data: this.state.content,\n                                onReady: editor => {\n                                  // You can store the \"editor\" and use when it is needed.\n                                  console.log('Editor is ready to use!', editor);\n                                },\n                                onChange: (event, editor) => {\n                                  const data = editor.getData();\n                                  this.handleChangeText(data);\n                                  console.log({\n                                    event,\n                                    editor,\n                                    data\n                                  });\n                                },\n                                onBlur: (event, editor) => {\n                                  console.log('Blur.', editor);\n                                },\n                                onFocus: (event, editor) => {\n                                  console.log('Focus.', editor);\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 269,\n                                columnNumber: 49\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-danger\",\n                                children: this.state.errMsg.contract_title\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 298,\n                                columnNumber: 65\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 232,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 231,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(Button, {\n                            color: \"info\",\n                            className: \"btn btn-info mr-2\",\n                            onClick: () => this.onSubmitHandler(),\n                            children: \"Update\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 301,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 217,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Admin/Cms/EditPage.js"],"names":["React","Component","Redirect","Sidebar","Navbar","axios","APIURL","Button","Input","Spinner","Select","ToastContainer","toast","Global","css","Editor","CKEditor","colourStyles","option","styles","data","isDisabled","isFocused","isSelected","backgroundColor","color","editorConfiguration","toolbar","ckfinder","uploadUrl","Profile","constructor","props","ckWrapperStyle","handleTitle","e","setState","pageTitle","getProperties","token","state","formData","FormData","append","match","params","id","post","headers","then","response","console","log","info","page_title","content","catch","error","onSubmitHandler","window","scrollTo","userInfo","user","Loader","scsMsg","message","UpdateSuccessfully","errMsg","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","icon","theme","onClose","redirectback","sideMenu","value","active","JSON","parse","localStorage","getItem","componentDidMount","setTimeout","handleChangeText","event","text","render","width","height","bind","activeSide","editor","getData","contract_title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,2BAAvB;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,OAAxB,QAAuC,YAAvC;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;AACA,SAASC,MAAT,EAAiBC,GAAjB,QAA4B,eAA5B;AACA,OAAOC,MAAP,MAAmB,uCAAnB;AACA,SAASC,QAAT,QAAyB,2BAAzB;;;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,CAACC,MAAD,EAAS;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,UAAR;AAAoBC,IAAAA,SAApB;AAA+BC,IAAAA;AAA/B,GAAT,KAAyD;AAC7D,WAAO,EACH,GAAGJ,MADA;AAEHK,MAAAA,eAAe,EAAEF,SAAS,GAAG,SAAH,GAAe,IAFtC;AAGHG,MAAAA,KAAK,EAAE;AAHJ,KAAP;AAKH;AAPgB,CAArB;AASA,MAAMC,mBAAmB,GAAG;AACxBC,EAAAA,OAAO,EAAE,CACL,SADK,EAEP,GAFO,EAGP,MAHO,EAIP,QAJO,EAKP,cALO,EAMP,cANO,EAOP,GAPO,EAQP,MARO,EASP,MATO,CAUT;AACA;AACA;AACA;AAbS,GADe;AAgBxBC,EAAAA,QAAQ,EAAE;AACR;AACA;AACAC,IAAAA,SAAS,EAAE;AAHH;AAhBc,CAA5B;AAwBA,eAAe,MAAMC,OAAN,SAAsB7B,SAAtB,CAAgC;AAC3C8B,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAanBC,cAbmB,GAaFnB,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAxBuB;;AAAA,SAsCnBoB,WAtCmB,GAsCJC,CAAD,IAAO;AACjB,WAAKC,QAAL,CAAc;AACVC,QAAAA,SAAS,EAAEF;AADD,OAAd;AAGH,KA1CkB;;AAAA,SAmDnBG,aAnDmB,GAmDH,MAAM;AAClB,UAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWD,KAAvB;AACA,YAAME,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,KAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC,EAAlD;AACAzC,MAAAA,KAAK,CACA0C,IADL,CACUzC,MAAM,GAAG,qBADnB,EAC0CmC,QAD1C,EACoD;AAC5CO,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAAST,KAAM;AAD5B;AADmC,OADpD,EAMKU,IANL,CAMWC,QAAD,IAAc;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBF,QAAQ,CAAC9B,IAAT,CAAcA,IAAjC;AACA,cAAMiC,IAAI,GAAGH,QAAQ,CAAC9B,IAAT,CAAcA,IAA3B;AACA,aAAKgB,QAAL,CAAc;AACVC,UAAAA,SAAS,EAAEgB,IAAI,CAACC,UADN;AAEVC,UAAAA,OAAO,EAAEF,IAAI,CAACE;AAFJ,SAAd;AAIH,OAbL,EAcKC,KAdL,CAcYC,KAAD,IAAW,CACd;AACH,OAhBL;AAiBH,KAxEkB;;AAAA,SA0EnBC,eA1EmB,GA0EAvB,CAAD,IAAO;AACrBwB,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,UAAIrB,KAAK,GAAG,KAAKC,KAAL,CAAWD,KAAvB;AACA,YAAM;AAAEsB,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAqB,KAAKtB,KAAhC;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsB,KAAKX,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C;AACAL,MAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,KAAKH,KAAL,CAAWH,SAAzC;AACAI,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,KAAKH,KAAL,CAAWe,OAAtC;AAEA,WAAKnB,QAAL,CAAc;AAAE2B,QAAAA,MAAM,EAAE;AAAV,OAAd;AACA1D,MAAAA,KAAK,CACA0C,IADL,CACUzC,MAAM,GAAG,uBADnB,EAC4CmC,QAD5C,EACsD;AAC9CO,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAAST,KAAM;AAD5B;AADqC,OADtD,EAMKU,IANL,CAMWC,QAAD,IAAc;AAChB,aAAKd,QAAL,CAAc;AACV4B,UAAAA,MAAM,EAAEd,QAAQ,CAAC9B,IAAT,CAAc6C,OADZ;AAEVF,UAAAA,MAAM,EAAE,KAFE,CAGV;;AAHU,SAAd;AAKA,aAAKG,kBAAL,CAAwB,KAAK1B,KAAL,CAAWwB,MAAnC;AACH,OAbL,EAcKR,KAdL,CAcYC,KAAD,IAAW;AACd,aAAKrB,QAAL,CAAc;AACV+B,UAAAA,MAAM,EAAEV,KAAK,CAACP,QAAN,CAAe9B,IAAf,CAAoBqC,KADlB;AAEVM,UAAAA,MAAM,EAAE;AAFE,SAAd;AAIH,OAnBL;AAoBH,KAxGkB;;AAAA,SAyGnBG,kBAzGmB,GAyGG/B,CAAD,IAAOvB,KAAK,CAACwD,OAAN,CAAcjC,CAAd,EAAiB;AACzCkC,MAAAA,QAAQ,EAAE,WAD+B;AAEzCC,MAAAA,SAAS,EAAE,IAF8B;AAGzCC,MAAAA,eAAe,EAAE,KAHwB;AAIzCC,MAAAA,YAAY,EAAE,IAJ2B;AAKzCC,MAAAA,YAAY,EAAE,IAL2B;AAMzCC,MAAAA,SAAS,EAAE,IAN8B;AAOzCC,MAAAA,QAAQ,EAAEC,SAP+B;AAQzCC,MAAAA,IAAI,EAAE,KARmC;AASzCC,MAAAA,KAAK,EAAE,SATkC;AAUzCC,MAAAA,OAAO,EAAE,MACL,KAAK3C,QAAL,CAAc;AACV4C,QAAAA,YAAY,EAAE;AADJ,OAAd;AAXqC,KAAjB,CAzGT;;AAAA,SAwHnBC,QAxHmB,GAwHPC,KAAD,IAAW;AAClB,WAAK9C,QAAL,CAAc;AACV+C,QAAAA,MAAM,EAACD;AADG,OAAd;AAGH,KA5HkB;;AAEf,SAAK1C,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAE6C,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADE;AAETzB,MAAAA,IAAI,EAAEsB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAFG;AAGTlD,MAAAA,SAAS,EAAE,EAHF;AAITkB,MAAAA,OAAO,EAAE,EAJA;AAKTY,MAAAA,MAAM,EAAE,EALC;AAMTH,MAAAA,MAAM,EAAE,EANC;AAOTD,MAAAA,MAAM,EAAE,IAPC;AAQTiB,MAAAA,YAAY,EAAE;AARL,KAAb;AAUH;;AAcDQ,EAAAA,iBAAiB,GAAG;AAChB,SAAKlD,aAAL;AACAqB,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA6B,IAAAA,UAAU,CAAC,MAAM;AACtB,WAAKrD,QAAL,CAAc;AACb2B,QAAAA,MAAM,EAAC;AADM,OAAd;AAGA,KAJe,EAIb,GAJa,CAAV;AAKH;;AAUD2B,EAAAA,gBAAgB,CAACC,KAAD,EAAQ;AACpB,SAAKvD,QAAL,CAAc;AACVmB,MAAAA,OAAO,EAAEoC;AADC,KAAd;AAGAxC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWoD,IAAvB;AACH;;AA6EDC,EAAAA,MAAM,GAAG;AACL,QAAI,CAAC,KAAKrD,KAAL,CAAWsB,IAAhB,EAAsB;AAClB,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AACD,QAAI,KAAKtB,KAAL,CAAWwC,YAAf,EAA6B;AACzB,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AACD,wBACI;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,iCAAf;AAAA,mBACK,KAAKxC,KAAL,CAAWuB,MAAX,gBAAoB;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,uCAAyB,QAAC,OAAD;AAAS,YAAA,IAAI,EAAC,QAAd;AAAuB,YAAA,KAAK,EAAC,MAA7B;AAAoC,YAAA,KAAK,EAAE;AAAE+B,cAAAA,KAAK,EAAE,MAAT;AAAiBC,cAAAA,MAAM,EAAE;AAAzB;AAA3C;AAAA;AAAA;AAAA;AAAA,kBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApB,GAAuI,EAD5I,eAEI,QAAC,cAAD;AACI,UAAA,QAAQ,EAAC,WADb;AAEI,UAAA,SAAS,EAAE,IAFf;AAGI,UAAA,eAAe,EAAE,IAHrB;AAII,UAAA,WAAW,EAAE,KAJjB;AAKI,UAAA,YAAY,MALhB;AAMI,UAAA,GAAG,EAAE,KANT;AAOI,UAAA,gBAAgB,MAPpB;AAQI,UAAA,SAAS,MARb;AASI,UAAA,YAAY;AAThB;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAaI,QAAC,MAAD;AACC,UAAA,QAAQ,EAAE,KAAKd,QAAL,CAAce,IAAd,CAAmB,IAAnB,CADX;AAEC,UAAA,UAAU,EAAE,KAAKxD,KAAL,CAAWyD;AAFxB;AAAA;AAAA;AAAA;AAAA,gBAbJ,eAiBI;AAAK,UAAA,SAAS,EAAC,mCAAf;AAAA,kCACI,QAAC,OAAD;AACC,YAAA,QAAQ,EAAE,KAAKhB,QAAL,CAAce,IAAd,CAAmB,IAAnB,CADX;AAEC,YAAA,UAAU,EAAE,KAAKxD,KAAL,CAAWyD,UAFxB;AAGC,YAAA,UAAU,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAMI;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,qCAAf;AAAA,uCACI;AAAI,kBAAA,SAAS,EAAC,gBAAd;AAAA,4BAAgC,KAAKzD,KAAL,CAAWH;AAA3C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,iCAAf;AAAA,yCACI;AAAK,oBAAA,SAAS,EAAC,MAAf;AAAA,2CACI;AAAK,sBAAA,SAAS,EAAC,MAAf;AAAA,6CACI;AAAK,wBAAA,SAAS,EAAC,WAAf;AAAA,+CACI;AAAM,0BAAA,SAAS,EAAC,cAAhB;AAAA,kDAcI;AAAK,4BAAA,SAAS,EAAC,KAAf;AAAA,mDACI;AAAK,8BAAA,SAAS,EAAC,6BAAf;AAAA,sDACI;AAAO,gCAAA,OAAO,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,eAEI,QAAC,MAAD;AACZ,gCAAA,MAAM,EAAEvB,GAAI;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCgE;AAAA;AAAA;AAAA;AAAA,sCAFJ,eAqCZ,QAAC,QAAD;AACpB,gCAAA,MAAM,EAAGC,MADW;AAEpB,gCAAA,MAAM,EAAGW,mBAFW;AAGpB,gCAAA,IAAI,EAAE,KAAKc,KAAL,CAAWe,OAHG;AAIpB,gCAAA,OAAO,EAAG2C,MAAM,IAAI;AAChB;AACA/C,kCAAAA,OAAO,CAACC,GAAR,CAAa,yBAAb,EAAwC8C,MAAxC;AACH,iCAPmB;AAQpB,gCAAA,QAAQ,EAAE,CAACP,KAAD,EAAQO,MAAR,KAAmB;AACzB,wCAAM9E,IAAI,GAAG8E,MAAM,CAACC,OAAP,EAAb;AACA,uCAAKT,gBAAL,CAAsBtE,IAAtB;AACA+B,kCAAAA,OAAO,CAACC,GAAR,CAAY;AAAEuC,oCAAAA,KAAF;AAASO,oCAAAA,MAAT;AAAiB9E,oCAAAA;AAAjB,mCAAZ;AACH,iCAZmB;AAcpB,gCAAA,MAAM,EAAG,CAAEuE,KAAF,EAASO,MAAT,KAAqB;AAC1B/C,kCAAAA,OAAO,CAACC,GAAR,CAAa,OAAb,EAAsB8C,MAAtB;AACH,iCAhBmB;AAiBpB,gCAAA,OAAO,EAAG,CAAEP,KAAF,EAASO,MAAT,KAAqB;AAC3B/C,kCAAAA,OAAO,CAACC,GAAR,CAAa,QAAb,EAAuB8C,MAAvB;AACH;AAnBmB;AAAA;AAAA;AAAA;AAAA,sCArCY,eAkEI;AAAM,gCAAA,SAAS,EAAC,aAAhB;AAAA,0CAA+B,KAAK1D,KAAL,CAAW2B,MAAX,CAAkBiC;AAAjD;AAAA;AAAA;AAAA;AAAA,sCAlEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kCAdJ,eAoFI,QAAC,MAAD;AACI,4BAAA,KAAK,EAAC,MADV;AAEI,4BAAA,SAAS,EAAC,mBAFd;AAGI,4BAAA,OAAO,EAAE,MAAM,KAAK1C,eAAL,EAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCApFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAwIH;;AA9Q0C","sourcesContent":["import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router';\r\nimport Sidebar from '../Sidebar'\r\nimport Navbar from '../Navbar'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../constants/common';\r\nimport { Button, Input, Spinner } from 'reactstrap'\r\nimport Select from 'react-select'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Global, css } from \"@emotion/core\";\r\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\r\nimport { CKEditor } from '@ckeditor/ckeditor5-react'\r\n\r\nconst colourStyles = {\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isFocused ? \"#B8BCBD\" : null,\r\n            color: \"grey\",\r\n        };\r\n    }\r\n};\r\nconst editorConfiguration = {\r\n    toolbar: [ \r\n        'heading',\r\n      '|',\r\n      'bold',\r\n      'italic',\r\n      'bulletedList',\r\n      'numberedList',\r\n      '|',\r\n      'undo',\r\n      'redo',\r\n    //   '|',\r\n    //   'imageStyle:alignLeft',\r\n    //   'imageStyle:alignCenter',\r\n    //    'imageStyle:alignRight',\r\n       ] ,\r\n    ckfinder: {\r\n      // Upload the images to the server using the CKFinder QuickUpload command\r\n      // You have to change this address to your server that has the ckfinder php connector\r\n      uploadUrl: 'https://ckeditor.com/apps/ckfinder/3.5.0/core/connector/php/connector.php?command=QuickUpload&type=Files&responseType=json'\r\n  }\r\n};\r\n\r\n\r\nexport default class Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            pageTitle: \"\",\r\n            content: \"\",\r\n            errMsg: \"\",\r\n            scsMsg: \"\",\r\n            Loader: true,\r\n            redirectback: false\r\n        }\r\n    }\r\n    ckWrapperStyle = css`\r\n    position: relative;\r\n    z-index: 1;\r\n    &::before {\r\n      color: rgba(251, 50, 8, 1.0);\r\n      content: attr(data-placeholder);\r\n      position: absolute;\r\n      margin: var(--ck-spacing-large) 0;\r\n      top: 0;\r\n      z-index: -1;\r\n    }\r\n  `;\r\n\r\n    componentDidMount() {\r\n        this.getProperties()\r\n        window.scrollTo(0, 0);\r\n        setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tLoader:false\r\n\t\t\t})\r\n\t\t}, 500);\r\n    }\r\n\r\n\r\n\r\n    handleTitle = (e) => {\r\n        this.setState({\r\n            pageTitle: e\r\n        });\r\n    };\r\n   \r\n    handleChangeText(event) {\r\n        this.setState({\r\n            content: event\r\n        })\r\n        console.log(this.state.text)\r\n    }\r\n\r\n    getProperties = () => {\r\n        var token = this.state.token\r\n        const formData = new FormData();\r\n        formData.append('cms_id', this.props.match.params.id);\r\n        axios\r\n            .post(APIURL + \"admin/edit-cms-page\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(\"cms\", response.data.data)\r\n                const info = response.data.data\r\n                this.setState({\r\n                    pageTitle: info.page_title,\r\n                    content: info.content\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                // setTimeout(() => this.setState({ errMsg: \"\" }), 3000);\r\n            });\r\n    };\r\n\r\n    onSubmitHandler = (e) => {\r\n        window.scrollTo(0, 0);\r\n        var token = this.state.token\r\n        const { userInfo, user } = this.state;\r\n        const formData = new FormData();\r\n        formData.append('id', this.props.match.params.id);\r\n        formData.append('page_title', this.state.pageTitle);\r\n        formData.append('content', this.state.content);\r\n\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"admin/update-cms-page\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({\r\n                    scsMsg: response.data.message,\r\n                    Loader: false,\r\n                    // redirectback: true\r\n                })\r\n                this.UpdateSuccessfully(this.state.scsMsg)\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n            });\r\n    };\r\n    UpdateSuccessfully = (e) => toast.success(e, {\r\n        position: \"top-right\",\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        icon: false,\r\n        theme: \"colored\",\r\n        onClose: () =>\r\n            this.setState({\r\n                redirectback: true\r\n            })\r\n    })\r\n    sideMenu = (value) => {\r\n        this.setState({\r\n            active:value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        if (this.state.redirectback) {\r\n            return <Redirect to=\"/cms\" />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"container-scroller resido-admin\">\r\n                    {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n                    <ToastContainer\r\n                        position=\"top-right\"\r\n                        autoClose={3000}\r\n                        hideProgressBar={true}\r\n                        newestOnTop={false}\r\n                        closeOnClick\r\n                        rtl={false}\r\n                        pauseOnFocusLoss\r\n                        draggable\r\n                        pauseOnHover\r\n                    />\r\n                    <Navbar\r\n                     sideMenu={this.sideMenu.bind(this)}\r\n                     activeSide={this.state.activeSide}\r\n                      />\r\n                    <div className=\"container-fluid page-body-wrapper\">\r\n                        <Sidebar \r\n                         sideMenu={this.sideMenu.bind(this)}\r\n                         activeSide={this.state.activeSide}\r\n                         activePage=\"contractToBuyer\" \r\n                         />\r\n                        <div className=\"main-panel\">\r\n                            <div className=\"content-wrapper\">\r\n                                <div className=\"mb-4 d-flex justify-content-between\">\r\n                                    <h4 className=\"text-uppercase\">{this.state.pageTitle}</h4>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-12 grid-margin stretch-card\">\r\n                                        <div className=\"card\">\r\n                                            <div className=\"card\">\r\n                                                <div className=\"card-body\">\r\n                                                    <form className=\"forms-sample\">\r\n                                                        {/* <div className=\"row\">\r\n                                                            <div className=\"form-group col-lg-12 col-12\">\r\n                                                                <label htmlFor=\"exampleInputName1\">Contract Title</label>\r\n                                                                <input\r\n                                                                    className=\"form-control\"\r\n                                                                    type=\"text\"\r\n                                                                    placeholder=\"Contract Title\"\r\n                                                                    value={this.state.pageTitle}\r\n                                                                    onChange={(e) => this.handleTitle(e.target.value)}\r\n                                                                />\r\n                                                                <span className=\"text-danger\">{this.state.errMsg.contract_title}</span>\r\n                                                            </div>\r\n                                                        </div> */}\r\n                                                        <div className=\"row\">\r\n                                                            <div className=\"form-group col-lg-12 col-12\">\r\n                                                                <label htmlFor=\"exampleInputName1\">Page Content</label>\r\n                                                                <Global\r\n                                                    styles={css`\r\n                                            :root {\r\n                                                \r\n                                            --ck-border-radius: 4px;\r\n                                            --ck-color-focus-border: rgba(142, 140, 140, 0.25);\r\n                                            --ck-color-shadow-inner: rgba(142, 140, 140, 1);\r\n                                            --ck-inner-shadow: 0 0 0 2px var(--ck-color-shadow-inner);\r\n                                            --ck-spacing-large: var(--ck-spacing-standard);\r\n                                            height: 200px;\r\n                                            }\r\n                                            .ck.ck-editor__editable_inline {\r\n                                            border: 1px solid rgba(142, 140, 140, 0.25);\r\n                                            transition: all 0.3s;\r\n                                            color: rgba(19, 19, 18, 1);\r\n                                            height: 200px;\r\n                                            &:hover {\r\n                                                border-color: rgba(19, 19, 18, 0.25);\r\n                                                border-right-width: 1px !important;\r\n                                              color: rgba(19, 19, 18, 1); !important;\r\n\r\n                                            }\r\n                                            }\r\n                                            .ck-editor__editable.ck-read-only {\r\n                                              color: rgba(19, 19, 18, 1);;\r\n                                            opacity: 1;\r\n                                            cursor: not-allowed;\r\n                                             color: rgba(19, 19, 18, 1);\r\n                                             height: 200px;\r\n                                            &:hover {\r\n                                                border-color: rgba(142, 140, 140, 0.25);\r\n                                            }\r\n                                            }\r\n                                        `}\r\n                                                />\r\n                                                <CKEditor\r\n\t\t\t\t\t\t\t\t                    editor={ Editor }\r\n\t\t\t\t\t\t\t\t                    config={ editorConfiguration }\r\n\t\t\t\t\t\t\t\t                    data={this.state.content}\r\n\t\t\t\t\t\t\t\t                    onReady={ editor => {\r\n\t\t\t\t\t\t\t\t                        // You can store the \"editor\" and use when it is needed.\r\n\t\t\t\t\t\t\t\t                        console.log( 'Editor is ready to use!', editor );\r\n\t\t\t\t\t\t\t\t                    } }\r\n\t\t\t\t\t\t\t\t                    onChange={(event, editor) => {\r\n\t\t\t\t\t\t\t\t                        const data = editor.getData();\r\n\t\t\t\t\t\t\t\t                        this.handleChangeText(data)\r\n\t\t\t\t\t\t\t\t                        console.log({ event, editor, data });\r\n\t\t\t\t\t\t\t\t                    }}\r\n\r\n\t\t\t\t\t\t\t\t                    onBlur={ ( event, editor ) => {\r\n\t\t\t\t\t\t\t\t                        console.log( 'Blur.', editor );\r\n\t\t\t\t\t\t\t\t                    } }\r\n\t\t\t\t\t\t\t\t                    onFocus={ ( event, editor ) => {\r\n\t\t\t\t\t\t\t\t                        console.log( 'Focus.', editor );\r\n\t\t\t\t\t\t\t\t                    } }\r\n\t\t\t\t\t\t\t\t                />\r\n                                                                {/* <textarea\r\n                                                                    className=\"form-control\"\r\n                                                                    type=\"textarea\"\r\n                                                                    rows={10}\r\n                                                                    placeholder=\"Page Content\"\r\n                                                                    value={this.state.content}\r\n                                                                    onChange={(e) => this.handleContent(e.target.value)}\r\n                                                                /> */}\r\n                                                                <span className=\"text-danger\">{this.state.errMsg.contract_title}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <Button\r\n                                                            color=\"info\"\r\n                                                            className=\"btn btn-info mr-2\"\r\n                                                            onClick={() => this.onSubmitHandler()}\r\n                                                        >Update</Button>\r\n                                                    </form>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}