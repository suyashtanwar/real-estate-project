{"ast":null,"code":"import _objectSpread from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Spinner}from'reactstrap';import axios from\"axios\";import{APIURL}from'../../../../components/constants/common';// import { Helmet } from \"react-helmet\";\nimport Map from'../Map/index';import PlacesAutocomplete,{geocodeByAddress,getLatLng}from'react-places-autocomplete';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PropertyInfo=/*#__PURE__*/function(_Component){_inherits(PropertyInfo,_Component);var _super=_createSuper(PropertyInfo);function PropertyInfo(){var _this;_classCallCheck(this,PropertyInfo);_this=_super.call(this);_this.handleChange=function(address){_this.setState({address:address});};_this.handleSelect=function(address){console.log(\"address\",address);var str=address;var pieces=str.split(\",\");var state=pieces[pieces.length-2];var city=pieces[pieces.length-3];_this.setState({stateName:state,cityName:city});geocodeByAddress(address).then(function(results){return getLatLng(results[0],console.log(results));}).then(function(latLng){return _this.setState({lat:latLng.lat,long:latLng.lng,address:address});}).catch(function(error){return console.error('Error',error);});};_this.onChangehandler=function(e,key){var userInfo=_this.state.userInfo;userInfo[e.target.name]=e.target.value;_this.setState({userInfo:userInfo,errMsg:\"\"});console.log(userInfo);};_this.handleCountryState=function(id){axios.post(APIURL+\"states\",{country_id:id}).then(function(response){console.log(response.data);var state_name=response.data.states;var stateNames=[];for(var c=0;c<state_name.length;c++){stateNames.push({value:state_name[c].id,label:state_name[c].name});}_this.setState({States:stateNames});}).catch(function(error){_this.setState({});});};_this.onSubmitHandler=function(e){window.scrollTo(0,0);var token=_this.state.token;var _this$state=_this.state,userInfo=_this$state.userInfo,user=_this$state.user;var formData=new FormData();formData.append('street_number',_this.state.userInfo.streetNumber);formData.append('street_name',_this.state.userInfo.streetName);formData.append('apt_number',_this.state.userInfo.AptNumber);formData.append('state',_this.state.stateName);formData.append('country',_this.state.countryId);formData.append('city',_this.state.cityName);formData.append('zip',_this.state.userInfo.zip);formData.append('map',_this.state.userInfo.map);formData.append('property_id',_this.props.data.property_id);formData.append('lat',_this.state.lat);formData.append('long',_this.state.long);formData.append('address',_this.state.address);_this.setState({Loader:true});axios.post(APIURL+\"seller/property-address-update\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});_this.setState({errMsg:{}},function(){_this.props.data.handleActiveTab(\"3\");});}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});});};_this.onSaveHandler=function(e){window.scrollTo(0,0);var token=_this.state.token;var _this$state2=_this.state,userInfo=_this$state2.userInfo,user=_this$state2.user;var formData=new FormData();formData.append('street_number',_this.state.userInfo.streetNumber);formData.append('street_name',_this.state.userInfo.streetName);formData.append('apt_number',_this.state.userInfo.AptNumber);formData.append('state',_this.state.stateName);formData.append('country',_this.state.countryId);formData.append('city',_this.state.cityName);formData.append('zip',_this.state.userInfo.zip);formData.append('map',_this.state.userInfo.map);formData.append('property_id',_this.props.data.property_id);formData.append('lat',_this.state.lat);formData.append('long',_this.state.long);formData.append('address',_this.state.address);_this.setState({Loader:true});axios.post(APIURL+\"seller/property-address-update\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});_this.setState({errMsg:{}},function(){// this.props.data.handleActiveTab(\"3\");\n});}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),userInfo:{streetNumber:\"\",streetName:\"\",AptNumber:\"\",state:\"\",city:\"\",zip:\"\",map:\"\"},countryId:\"\",countries_name:[],Languages:[],Countries:[],States:[],state_name:[],stateName:\"\",cityName:\"\",name:\"\",image:\"\",selectType:\"\",errMsg:{},scsMsg:\"\",country_id:\"\",address:'',lat:\"\",long:\"\",countryList:[],countrycode:\"\"};return _this;}_createClass(PropertyInfo,[{key:\"getCountries\",value:function getCountries(){var _this2=this;axios.get(APIURL+\"countries\").then(function(response){_this2.setState({countryList:response.data.countries});// console.log(\"country\",response.data.countries)\nvar countries_name=response.data.countries;var CountryNames=[];for(var c=1;c<countries_name.length;c++){CountryNames.push({value:countries_name[c].id,label:countries_name[c].name,code:countries_name[c].code});}_this2.setState({Countries:CountryNames});console.log(_this2.state.Countries);});}},{key:\"handleCountry\",value:function handleCountry(e){var _this3=this;this.state.countryList.filter(function(index){return index.id===parseInt(e);}).map(function(countyInfo){return _this3.setState({countrycode:countyInfo.code});});this.setState({countryId:e,address:\"\",stateName:\"\"});}},{key:\"handleState\",value:// handle states\nfunction handleState(e){this.setState({stateId:e});}},{key:\"getAddressInfo\",value:function getAddressInfo(){var _this4=this;if(this.state.user){this.setState({Loader:true});var formData=new FormData();// formData.append('token', this.state.token);\nformData.append('id',this.props.data.property_id);var token=this.state.token;axios.post(APIURL+\"seller/property-address-edit\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var info=response.data.data;var pieces=info.address.split(\",\");var state=pieces[pieces.length-2];_this4.setState({stateName:state,Loader:false});// alert(state)\n_this4.setState({userInfo:{streetNumber:info.street_number===\"null\"?\"\":info.street_number,streetName:info.street_name===\"null\"?\"\":info.street_name,AptNumber:info.apt_number===\"null\"?\"\":info.apt_number,city:info.city===\"null\"?\"\":info.city,zip:info.zip===\"null\"?\"\":info.zip,map:info.map===\"null\"?\"\":info.map},countrycode:info.country_code,address:info.address,countryId:info.country===\"null\"?\"\":info.country,stateId:info.state===\"null\"?\"\":info.state});}).catch(function(error){_this4.setState({// errMsg: error.response.data.errors,\nLoader:false});});}}},{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);this.getCountries();this.getAddressInfo();}},{key:\"render\",value:function render(){var _this5=this;console.log(\"address\",this.props.data.property_id);return/*#__PURE__*/_jsxs(_Fragment,{children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",this.state.errMsg.message?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger text-center\",role:\"alert\",children:this.state.errMsg.message}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return _this5.onSaveHandler();},className:\"btn-sm px-4 btn-rounded btn btn-info\",children:\"Save\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"forms-sample \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 border-bottom\",children:/*#__PURE__*/_jsx(\"label\",{className:\"card-title \",children:\"Address\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6 \",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"exampleInputName1\",children:[\"Street Number \",/*#__PURE__*/_jsx(\"strong\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{autoFocus:true,className:\"form-control\",required:\"\",type:\"number\",min:\"0\",name:\"streetNumber\",placeholder:\"Street Number\",value:this.state.userInfo.streetNumber,onChange:this.onChangehandler}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.street_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail3\",children:\"Street Name \"}),/*#__PURE__*/_jsx(\"input\",{autoFocus:true,className:\"form-control\",required:\"\",type:\"text\",name:\"streetName\",placeholder:\"Street Name\",value:this.state.userInfo.streetName,onChange:this.onChangehandler}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.street_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword4\",children:\"Apartment Number\"}),/*#__PURE__*/_jsx(\"input\",{autoFocus:true,className:\"form-control\",required:\"\",type:\"number\",min:\"0\",name:\"AptNumber\",placeholder:\"Apartment Number\",value:this.state.userInfo.AptNumber,onChange:this.onChangehandler}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.apt_number}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"exampleSelectGender\",children:[\"Country\",/*#__PURE__*/_jsx(\"strong\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:this.state.countryId,onChange:function onChange(e){return _this5.handleCountry(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),this.state.Countries.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label});})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.country})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword4\",children:\"Search Address location \"}),/*#__PURE__*/_jsx(PlacesAutocomplete,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:{types:['establishment'],componentRestrictions:{country:this.state.countrycode}},children:function children(_ref){var getInputProps=_ref.getInputProps,suggestions=_ref.suggestions,getSuggestionItemProps=_ref.getSuggestionItemProps,loading=_ref.loading;return/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps({placeholder:'Search Places ...',className:'location-search-input form-control'}))),/*#__PURE__*/_jsxs(\"div\",{className:\"autocomplete-dropdown-container\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),suggestions.map(function(suggestion){var className=suggestion.active?'suggestion-item--active':'suggestion-item';// inline style for demonstration purpose\nvar style=suggestion.active?{backgroundColor:'#fafafa',cursor:'pointer'}:{backgroundColor:'#ffffff',cursor:'pointer'};return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},getSuggestionItemProps(suggestion,{className:className,style:style})),{},{children:/*#__PURE__*/_jsx(\"span\",{children:suggestion.description})}));})]})]});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"exampleInputPassword4\",children:[\"State\",/*#__PURE__*/_jsx(\"strong\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{disabled:true,autoFocus:true,className:\"form-control\",required:\"\",type:\"text\",name:\"state\",placeholder:\"State\",value:this.state.stateName// onChange={this.onChangehandler}\n}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.state})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword4\",children:\"Zip\"}),/*#__PURE__*/_jsx(\"input\",{autoFocus:true,className:\"form-control\",required:\"\",type:\"number\",min:\"0\",name:\"zip\",placeholder:\"Zip\",value:this.state.userInfo.zip,onChange:this.onChangehandler}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.zip})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-6\",children:[/*#__PURE__*/_jsxs(Button,{className:\"btn btn-success mr-1\",onClick:function onClick(e){return _this5.props.data.handleActiveTab(\"1\");},children:[/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-left me-1\"}),\"Back to information\"]}),/*#__PURE__*/_jsxs(Button,{className:\"btn btn-info\",onClick:function onClick(e){return _this5.onSubmitHandler();},children:[\"Go to Features \",/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-arrow-right ms-1\"})]})]})})]})})]})]});}}]);return PropertyInfo;}(Component);export{PropertyInfo as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Seller/Property/Address.js"],"names":["React","Component","Button","Spinner","axios","APIURL","Map","PlacesAutocomplete","geocodeByAddress","getLatLng","PropertyInfo","handleChange","address","setState","handleSelect","console","log","str","pieces","split","state","length","city","stateName","cityName","then","results","latLng","lat","long","lng","catch","error","onChangehandler","e","key","userInfo","target","name","value","errMsg","handleCountryState","id","post","country_id","response","data","state_name","states","stateNames","c","push","label","States","onSubmitHandler","window","scrollTo","token","user","formData","FormData","append","streetNumber","streetName","AptNumber","countryId","zip","map","props","property_id","Loader","headers","handleActiveTab","onSaveHandler","JSON","parse","localStorage","getItem","countries_name","Languages","Countries","image","selectType","scsMsg","countryList","countrycode","get","countries","CountryNames","code","filter","index","parseInt","countyInfo","stateId","info","street_number","street_name","apt_number","country_code","country","getCountries","getAddressInfo","width","height","message","handleCountry","option","types","componentRestrictions","getInputProps","suggestions","getSuggestionItemProps","loading","placeholder","className","suggestion","active","style","backgroundColor","cursor","description"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button ,Spinner} from 'reactstrap'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../../components/constants/common';\r\n// import { Helmet } from \"react-helmet\";\r\nimport Map from '../Map/index'\r\nimport PlacesAutocomplete, {  geocodeByAddress,   getLatLng, } from 'react-places-autocomplete';\r\n\r\nexport default class PropertyInfo extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            userInfo: {\r\n                streetNumber: \"\",\r\n                streetName: \"\",\r\n                AptNumber: \"\",\r\n                state: \"\",\r\n                city: \"\",\r\n                zip: \"\",\r\n                map: \"\"\r\n            },\r\n            countryId: \"\",\r\n            countries_name: [],\r\n            Languages: [],\r\n            Countries: [],\r\n            States: [],\r\n            state_name: [],\r\n            stateName: \"\",\r\n            cityName:\"\",\r\n            name: \"\",\r\n            image: \"\",\r\n            selectType: \"\",\r\n            errMsg: {},\r\n            scsMsg: \"\",\r\n            country_id: \"\",\r\n            address: '',\r\n            lat:\"\",\r\n            long:\"\",\r\n            countryList:[],\r\n            countrycode:\"\"\r\n        }\r\n    }\r\n\r\n    handleChange = address => {\r\n        this.setState({ address });\r\n      };\r\n     \r\n      handleSelect = address => {\r\n          console.log(\"address\",address)\r\n          const str = address\r\n          const pieces = str.split(\",\")\r\n          const state = pieces[pieces.length - 2]\r\n          const city = pieces[pieces.length - 3]\r\n        \r\n          this.setState({\r\n              stateName:state,\r\n              cityName:city\r\n          })\r\n        geocodeByAddress(address)\r\n          .then(results => getLatLng(results[0],console.log(results)))\r\n          .then(latLng => \r\n            this.setState({\r\n                lat:latLng.lat,\r\n                long:latLng.lng,\r\n                address:address\r\n            })\r\n            )\r\n          .catch(error => console.error('Error', error));\r\n      };\r\n\r\n    onChangehandler = (e, key) => {\r\n        const { userInfo } = this.state;\r\n        userInfo[e.target.name] = e.target.value;\r\n        this.setState({\r\n            userInfo,\r\n            errMsg: \"\"\r\n        });\r\n        console.log(userInfo)\r\n    };\r\n\r\n    getCountries() {\r\n        axios\r\n            .get(APIURL + \"countries\")\r\n            .then((response) => {\r\n                this.setState({\r\n                    countryList:response.data.countries\r\n                })\r\n                // console.log(\"country\",response.data.countries)\r\n               \r\n                let countries_name = response.data.countries;\r\n                const CountryNames = [];\r\n                for (var c = 1; c < countries_name.length; c++) {\r\n                    CountryNames.push({ value: countries_name[c].id, label: countries_name[c].name ,code:countries_name[c].code })\r\n                }\r\n                this.setState({\r\n                    Countries: CountryNames,\r\n                })\r\n                console.log(this.state.Countries)\r\n            })\r\n    }\r\n\r\n    handleCountry(e) {\r\n        this.state.countryList.filter(index => index.id === parseInt(e)).map(countyInfo => (\r\n           this.setState({\r\n               countrycode:countyInfo.code\r\n           })\r\n          ))\r\n         \r\n        this.setState({\r\n            countryId: e,\r\n            address:\"\",\r\n            stateName:\"\"\r\n        })\r\n    };\r\n\r\n    // get states\r\n    handleCountryState = (id) => {\r\n        axios\r\n            .post(APIURL + \"states\", {\r\n                country_id: id,\r\n            })\r\n            .then((response) => {\r\n                console.log(response.data)\r\n                let state_name = response.data.states;\r\n                const stateNames = [];\r\n                for (var c = 0; c < state_name.length; c++) {\r\n                    stateNames.push({ value: state_name[c].id, label: state_name[c].name })\r\n                }\r\n                this.setState({\r\n                    States: stateNames,\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n\r\n                })\r\n            });\r\n    };\r\n\r\n    // handle states\r\n    handleState(e) {\r\n        this.setState({\r\n            stateId: e\r\n        })\r\n    }\r\n\r\n    getAddressInfo() {\r\n        if (this.state.user) {\r\n            this.setState({Loader:true})\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.props.data.property_id);\r\n            var token = this.state.token\r\n            axios\r\n                .post(APIURL + \"seller/property-address-edit\", formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    const info = response.data.data;\r\n                  \r\n                    const pieces = info.address.split(\",\")\r\n                    const state = pieces[pieces.length - 2]\r\n                    this.setState({\r\n                        stateName:state,\r\n                        Loader:false\r\n                    })\r\n                    // alert(state)\r\n                    this.setState({\r\n                        userInfo: {\r\n                            streetNumber: info.street_number === \"null\" ? \"\" :info.street_number,\r\n                            streetName: info.street_name === \"null\" ? \"\" :info.street_name,\r\n                            AptNumber: info.apt_number === \"null\" ? \"\" :info.apt_number,\r\n                            city: info.city === \"null\" ? \"\" :info.city,\r\n                            zip: info.zip === \"null\" ? \"\" :info.zip,\r\n                            map: info.map === \"null\" ? \"\" :info.map\r\n                        },\r\n                        countrycode:info.country_code,\r\n                        address:info.address,\r\n                        countryId:info.country === \"null\" ? \"\" :info.country,\r\n                        stateId:info.state === \"null\" ? \"\" :info.state,\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n    \r\n    onSubmitHandler = (e) => {\r\n        window.scrollTo(0, 0);\r\n        var token = this.state.token\r\n        const { userInfo ,user } = this.state;\r\n        const formData = new FormData();\r\n        formData.append('street_number', this.state.userInfo.streetNumber);\r\n        formData.append('street_name', this.state.userInfo.streetName);\r\n        formData.append('apt_number', this.state.userInfo.AptNumber);\r\n        formData.append('state', this.state.stateName);\r\n        formData.append('country', this.state.countryId);\r\n        formData.append('city', this.state.cityName);\r\n        formData.append('zip', this.state.userInfo.zip);\r\n        formData.append('map', this.state.userInfo.map);\r\n        formData.append('property_id', this.props.data.property_id);\r\n        formData.append('lat', this.state.lat);\r\n        formData.append('long', this.state.long);\r\n        formData.append('address', this.state.address);\r\n\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"seller/property-address-update\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false });\r\n                this.setState({\r\n                    errMsg: {},\r\n                }, () => {\r\n                    this.props.data.handleActiveTab(\"3\");\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error ,\r\n                    Loader: false\r\n                })\r\n            });\r\n    };\r\n    onSaveHandler = (e) => {\r\n        window.scrollTo(0, 0);\r\n        var token = this.state.token\r\n        const { userInfo ,user } = this.state;\r\n        const formData = new FormData();\r\n        formData.append('street_number', this.state.userInfo.streetNumber);\r\n        formData.append('street_name', this.state.userInfo.streetName);\r\n        formData.append('apt_number', this.state.userInfo.AptNumber);\r\n        formData.append('state', this.state.stateName);\r\n        formData.append('country', this.state.countryId);\r\n        formData.append('city', this.state.cityName);\r\n        formData.append('zip', this.state.userInfo.zip);\r\n        formData.append('map', this.state.userInfo.map);\r\n        formData.append('property_id', this.props.data.property_id);\r\n        formData.append('lat', this.state.lat);\r\n        formData.append('long', this.state.long);\r\n        formData.append('address', this.state.address);\r\n\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"seller/property-address-update\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false });\r\n                this.setState({\r\n                    errMsg: {},\r\n                }, () => {\r\n                    // this.props.data.handleActiveTab(\"3\");\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error ,\r\n                    Loader: false\r\n                })\r\n            });\r\n    };\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        this.getCountries()\r\n        this.getAddressInfo()\r\n    }\r\n\r\n    render() {\r\n        console.log(\"address\",this.props.data.property_id)\r\n        return (\r\n            <>\r\n              {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n                {this.state.errMsg.message ?\r\n                <div className=\"alert alert-danger text-center\" role=\"alert\">\r\n                {this.state.errMsg.message}\r\n               </div>\r\n               :\"\"} \r\n                <div className=\"card mt-1\">\r\n                <div className='position-absolute top-0 end-0'>\r\n                        <Button onClick={(e) => this.onSaveHandler()}  className='btn-sm px-4 btn-rounded btn btn-info'>Save</Button>\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <form className=\"forms-sample \">\r\n                        <div className=\"mb-3 border-bottom\">\r\n                                <label className=\"card-title \">Address</label>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"form-group col-6 \">\r\n                                    <label htmlFor=\"exampleInputName1\">Street Number <strong className=\"text-danger\" >*</strong> </label>\r\n                                    <input\r\n                                        autoFocus={true}\r\n                                        className=\"form-control\"\r\n                                        required=\"\"\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        name=\"streetNumber\"\r\n                                        placeholder=\"Street Number\"\r\n                                        value={this.state.userInfo.streetNumber}\r\n                                        onChange={this.onChangehandler}\r\n                                    />\r\n                                    <span className=\"text-danger\">{this.state.errMsg.street_number}</span>\r\n                                </div>\r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleInputEmail3\">Street Name </label>\r\n                                    <input\r\n                                        autoFocus={true}\r\n                                        className=\"form-control\"\r\n                                        required=\"\"\r\n                                        type=\"text\"\r\n                                        name=\"streetName\"\r\n                                        placeholder=\"Street Name\"\r\n                                        value={this.state.userInfo.streetName}\r\n                                        onChange={this.onChangehandler}\r\n                                    />\r\n                                     <span className=\"text-danger\">{this.state.errMsg.street_name}</span>\r\n                                </div>\r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleInputPassword4\">Apartment Number</label>\r\n                                    <input\r\n                                        autoFocus={true}\r\n                                        className=\"form-control\"\r\n                                        required=\"\"\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        name=\"AptNumber\"\r\n                                        placeholder=\"Apartment Number\"\r\n                                        value={this.state.userInfo.AptNumber}\r\n                                        onChange={this.onChangehandler}\r\n                                    /> \r\n                                    <span className=\"text-danger\">{this.state.errMsg.apt_number}</span> </div>\r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleSelectGender\">Country<strong className=\"text-danger\" >*</strong></label>\r\n                                    <select className=\"form-control\" value={this.state.countryId} onChange={(e) => this.handleCountry(e.target.value)} >\r\n                                        <option value=\"\">Select</option>\r\n                                        {this.state.Countries.map((option) => (\r\n                                            <option value={option.value}>{option.label}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                     <span className=\"text-danger\">{this.state.errMsg.country}</span>\r\n                                </div>\r\n                              \r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleInputPassword4\">Search Address location </label>\r\n                                    \r\n                                    <PlacesAutocomplete\r\n                                        value={this.state.address}\r\n                                        onChange={this.handleChange}\r\n                                        onSelect={this.handleSelect}\r\n                                        searchOptions={{\r\n                                            types: ['establishment'],\r\n                                            componentRestrictions: {country: this.state.countrycode}\r\n                                        }}\r\n                                       \r\n                                    >\r\n                                        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n                                        <div className=\"position-relative\">\r\n                                            <input\r\n                                            {...getInputProps({\r\n                                                placeholder: 'Search Places ...',\r\n                                                className: 'location-search-input form-control',\r\n                                            })}\r\n                                            />\r\n                                            <div className=\"autocomplete-dropdown-container\">\r\n                                            {loading && <div>Loading...</div>}\r\n                                            {suggestions.map(suggestion => {\r\n                                                const className = suggestion.active\r\n                                                ? 'suggestion-item--active'\r\n                                                : 'suggestion-item';\r\n                                                // inline style for demonstration purpose\r\n                                                const style = suggestion.active\r\n                                                ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                                                : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                                                return (\r\n                                                <div\r\n                                                    {...getSuggestionItemProps(suggestion, {\r\n                                                    className,\r\n                                                    style,\r\n                                                    })}\r\n                                                >\r\n                                                    <span>{suggestion.description}</span>\r\n                                                </div>\r\n                                                );\r\n                                            })}\r\n                                            </div>\r\n                                        </div>\r\n                                        )}\r\n                                    </PlacesAutocomplete>\r\n                                </div>\r\n                                \r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleInputPassword4\">State<strong className=\"text-danger\" >*</strong></label>\r\n                                    <input\r\n                                        disabled\r\n                                        autoFocus={true}\r\n                                        className=\"form-control\"\r\n                                        required=\"\"\r\n                                        type=\"text\"\r\n                                        name=\"state\"\r\n                                        placeholder=\"State\"\r\n                                        value={this.state.stateName}\r\n                                        // onChange={this.onChangehandler}\r\n                                    />\r\n                                  \r\n                                     <span className=\"text-danger\">{this.state.errMsg.state}</span>\r\n                                </div>\r\n                                <div className=\"form-group col-6\">\r\n                                    <label htmlFor=\"exampleInputPassword4\">Zip</label>\r\n                                    <input\r\n                                        autoFocus={true}\r\n                                        className=\"form-control\"\r\n                                        required=\"\"\r\n                                        type=\"number\"\r\n                                        min=\"0\"\r\n                                        name=\"zip\"\r\n                                        placeholder=\"Zip\"\r\n                                        value={this.state.userInfo.zip}\r\n                                        onChange={this.onChangehandler}\r\n                                    />\r\n                                     <span className=\"text-danger\">{this.state.errMsg.zip}</span>\r\n                                </div>\r\n                            </div>\r\n                            {/* <div className=\"row\">\r\n                                <div className=\"form-group col-12\">\r\n                                   <Map />\r\n                                   </div>\r\n                            </div> */}\r\n                            <div className=\"row\">\r\n                                <div className=\"form-group col-6\">\r\n                                    <Button className=\"btn btn-success mr-1\" onClick={(e) => this.props.data.handleActiveTab(\"1\")} ><i className=\"mdi mdi-arrow-left me-1\"></i>Back to information</Button>\r\n                                    <Button className=\"btn btn-info\" onClick={(e) => this.onSubmitHandler()}  >Go to Features <i className=\"mdi mdi-arrow-right ms-1\"></i></Button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}