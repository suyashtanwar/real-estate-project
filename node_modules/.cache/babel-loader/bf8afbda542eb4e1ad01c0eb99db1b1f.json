{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import logo from'../../../assets/img/logo.png';import logoMini from'../../../assets/img/logo-mini.png';import{Redirect,Link}from'react-router-dom';import axios from\"axios\";import Sidebar from'./Sidebar';import{APIURL,BASEURL}from'../../../components/constants/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(){var _this;_classCallCheck(this,Navbar);_this=_super.call(this);_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});};_this.onHover=function(){return _this.setState({showIcons:true});};_this.onNotHover=function(){return _this.setState({showIcons:false});};_this.Sidebar=function(){if(document.body.classList.contains(_this.state.sidebarClass)){document.body.classList.remove('sidebar-icon-only');return false;}if(!document.body.classList.contains(_this.state.sidebarClass)){document.body.classList.add('sidebar-icon-only');return false;}};_this.resSidebar=function(){_this.setState({activeSide:!_this.state.activeSide},function(){_this.props.sideMenu(_this.state.activeSide);});};_this.state={sidebarClass:\"sidebar-icon-only\",token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:localStorage.getItem(\"user_type\"),navigate:false,profile_image:\"\",openSidebar:false};return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProfileInfo();}},{key:\"getProfileInfo\",value:function getProfileInfo(){var _this2=this;if(this.state.user){var formData=new FormData();// formData.append('token', this.state.token);\nformData.append('id',this.state.user.id);var token=this.state.token;var app_url=APIURL+\"agent/edit-profile\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var info=response.data.data;_this2.setState({profile_image:response.data.data.url_path,name:response.data.data.name});console.log(\"bjsbvjx\",_this2.state.profile_image);}).catch(function(error){_this2.setState({// errMsg: error.response.data.errors,\nLoader:false});});}}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,openSidebar=_this$state.openSidebar,closeSidebar=_this$state.closeSidebar;console.log(this.props.data);var _this$state2=this.state,user=_this$state2.user,name=_this$state2.name;if(!this.state.user.user_type===\"agent\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(this.state.navigate){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-brand brand-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"})}),/*#__PURE__*/_jsx(Link,{className:\"navbar-brand brand-logo-mini\",to:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:logoMini,alt:\"logo\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-menu-wrapper d-flex align-items-stretch\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this3.Sidebar();},className:\" navbar-toggler navbar-toggler align-self-center\",type:\"button\",\"data-toggle\":\"minimize\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-bars\"})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav navbar-nav-right\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item nav-profile dropdown\"}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item nav-logout d-lg-block mr-3\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link\",href:\"#\",onClick:function onClick(){return _this3.onLogoutHandler();},style:{width:\"50px\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Logout\"}),/*#__PURE__*/_jsx(\"i\",{\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"bottom\",title:\"Logout\",onClick:function onClick(){return _this3.onLogoutHandler();},className:\"mdi mdi-power ml-2\",children:\"  \"})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.resSidebar();},className:\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\",type:\"button\",\"data-toggle\":\"offcanvas\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-bars\"})})]})]})});}}]);return Navbar;}(Component);export{Navbar as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Agent/Navbar.js"],"names":["React","Component","logo","logoMini","Redirect","Link","axios","Sidebar","APIURL","BASEURL","Navbar","onLogoutHandler","localStorage","removeItem","clear","setState","navigate","onHover","showIcons","onNotHover","document","body","classList","contains","state","sidebarClass","remove","add","resSidebar","activeSide","props","sideMenu","token","JSON","parse","getItem","user","user_type","profile_image","openSidebar","getProfileInfo","formData","FormData","append","id","app_url","post","headers","then","response","info","data","url_path","name","console","log","catch","error","Loader","closeSidebar","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport logo from '../../../assets/img/logo.png'\r\nimport logoMini from '../../../assets/img/logo-mini.png'\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport Sidebar from './Sidebar'\r\nimport { APIURL, BASEURL } from '../../../components/constants/common';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            sidebarClass: \"sidebar-icon-only\",\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: localStorage.getItem(\"user_type\"),\r\n            navigate: false,\r\n            profile_image: \"\",\r\n            openSidebar: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getProfileInfo()\r\n    }\r\n    getProfileInfo() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.state.user.id);\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"agent/edit-profile\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    const info = response.data.data;\r\n                    this.setState({\r\n                        profile_image: response.data.data.url_path,\r\n                        name: response.data.data.name\r\n                    })\r\n                    console.log(\"bjsbvjx\", this.state.profile_image)\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    onLogoutHandler = () => {\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    onHover = () =>\r\n        this.setState({\r\n            showIcons: true\r\n        });\r\n    onNotHover = () =>\r\n        this.setState({\r\n            showIcons: false\r\n        });\r\n\r\n        Sidebar = () => {\r\n            if (document.body.classList.contains(this.state.sidebarClass)) {\r\n                document.body.classList.remove('sidebar-icon-only');\r\n                return false\r\n            }\r\n            if (!document.body.classList.contains(this.state.sidebarClass)) {\r\n                document.body.classList.add('sidebar-icon-only');\r\n                return false\r\n            }\r\n        }\r\n\r\n    resSidebar = () => {\r\n        this.setState({\r\n            activeSide:!this.state.activeSide\r\n        },()=>{\r\n            this.props.sideMenu(this.state.activeSide)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { openSidebar, closeSidebar } = this.state\r\n        console.log(this.props.data)\r\n        const { user, name } = this.state\r\n\r\n        if (!this.state.user.user_type === \"agent\") {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n\r\n        if (this.state.navigate) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n        return (\r\n            <>\r\n                <nav className=\"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\">\r\n                    <div className=\"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\">\r\n                        <button className=\"navbar-brand brand-logo\" ><img src={logo} alt=\"logo\" /></button>\r\n                        <Link className=\"navbar-brand brand-logo-mini\" to=\"#\"><img src={logoMini} alt=\"logo\" /></Link>\r\n                    </div>\r\n                    <div className=\"navbar-menu-wrapper d-flex align-items-stretch\">\r\n                        <div className=\"mt-3\">\r\n                        <span onClick={() => this.Sidebar()} className=\" navbar-toggler navbar-toggler align-self-center\" type=\"button\" data-toggle=\"minimize\">\r\n                                    <span className=\"fas fa-bars\"></span>\r\n                                </span>\r\n                        </div>\r\n                        <ul className=\"navbar-nav navbar-nav-right\">\r\n                            <li className=\"nav-item nav-profile dropdown\">\r\n                            </li>\r\n                            <li className=\"nav-item nav-logout d-lg-block mr-3\">\r\n                                <a className=\"nav-link\" href=\"#\" onClick={() => this.onLogoutHandler()} style={{ width: \"50px\" }}>\r\n                                    <strong>Logout</strong>\r\n                                    <i data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" title=\"Logout\" onClick={() => this.onLogoutHandler()} className=\"mdi mdi-power ml-2\">  </i>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                        <button onClick={() => this.resSidebar()} className=\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\" type=\"button\" data-toggle=\"offcanvas\">\r\n                            <span className=\"fas fa-bars\"></span>\r\n                        </button>\r\n                    </div>\r\n                </nav>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}