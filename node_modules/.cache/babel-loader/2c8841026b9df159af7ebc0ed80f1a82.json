{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Navbar from'./Navbar';import Sidebar from'./Sidebar';import Footer from'./Footer';import Header from'./Header';import axios from\"axios\";import{APIURL}from'../../../components/constants/common';import{Button,Spinner}from'reactstrap';import{Redirect}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Index=/*#__PURE__*/function(_Component){_inherits(Index,_Component);var _super=_createSuper(Index);function Index(){var _this;_classCallCheck(this,Index);_this=_super.call(this);_this.onChangehandler=function(e,key){var userInfo=_this.state.userInfo;userInfo[e.target.name]=e.target.value;_this.setState({userInfo:userInfo});console.log(userInfo);};_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});};_this.onSubmitHandler=function(e){var token=_this.state.token;var _this$state=_this.state,userInfo=_this$state.userInfo,user=_this$state.user;userInfo['email']=user.email;_this.setState({Loader:true});axios.post(APIURL+\"change-password/update\",_this.state.userInfo,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});_this.setState({scsMsg:response.data.message});setTimeout(function(){window.location.reload();},3000);}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});setTimeout(function(){window.location.reload();},3000);});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:localStorage.getItem(\"user_type\"),navigate:false,userInfo:{current_password:\"\",password:\"\",confirm_password:\"\"},errMsg:\"\",scsMsg:\"\",currShowPassword:false,newShowPassword:false,confirmShowPassword:false,Loader:true};return _this;}_createClass(Index,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.scrollTo(0,0);setTimeout(function(){_this2.setState({Loader:false});},500);}},{key:\"currShowPassword\",value:function currShowPassword(){this.setState({currShowPassword:!this.state.currShowPassword});}},{key:\"newShowPassword\",value:function newShowPassword(){this.setState({newShowPassword:!this.state.newShowPassword});}},{key:\"confirmShowPassword\",value:function confirmShowPassword(){this.setState({confirmShowPassword:!this.state.confirmShowPassword});}//form handler\n},{key:\"toggle\",value:function toggle(){this.setState({toggle:!this.state.toggle});}},{key:\"toggleFunChild\",value:function toggleFunChild(value){this.setState({toggle:value});}},{key:\"render\",value:function render(){var _this3=this;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"resido-front\",children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"blue-skin dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"main-wrapper\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"section\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"filter_search_opt\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0);\",onClick:function onClick(){return _this3.toggle();},children:[\"Dashboard Navigation\",/*#__PURE__*/_jsx(\"i\",{class:\"ml-2 ti-menu\"})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-12\",children:/*#__PURE__*/_jsx(Sidebar,{activePage:\"changepassword\",toggleFunChild:this.toggleFunChild.bind(this),toggle:this.state.toggle})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-wraper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-submit\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Change Password\"}),this.state.scsMsg?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",role:\"alert\",children:[\" \",this.state.scsMsg,\" \"]}):\"\",this.state.errMsg.message?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[\"  \",this.state.errMsg.message,\"   \"]}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"submit-section mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-12 col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Current Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.currShowPassword?\"text\":\"password\",name:\"current_password\",placeholder:\"Current Password\",value:this.state.current_password,onChange:this.onChangehandler}),this.state.currShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.currShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.currShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.current_password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-12 col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.newShowPassword?\"text\":\"password\",name:\"password\",placeholder:\"New Password\",value:this.state.password,onChange:this.onChangehandler}),this.state.newShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.newShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.newShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-lg-12 col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",required:\"\",type:this.state.confirmShowPassword?\"text\":\"password\",name:\"confirm_password\",placeholder:\"Confirm Password\",value:this.state.confirm_password,onChange:this.onChangehandler}),this.state.confirmShowPassword?/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.confirmShowPassword();},className:\"fas fa-eye-slash\"}),\" \"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"ad-fa-eye-pass\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return _this3.confirmShowPassword();},className:\"fas fa-eye\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:this.state.errMsg.confirm_password})]}),/*#__PURE__*/_jsx(\"div\",{className:\" col-lg-12 col-md-12\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"btn btn-theme-light-2 rounded\",onClick:function onClick(){return _this3.onSubmitHandler();},children:\"Save Changes\"})})]})})})]})})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]})})]})});}}]);return Index;}(Component);export{Index as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Buyer/ChangePassword.js"],"names":["React","Component","Navbar","Sidebar","Footer","Header","axios","APIURL","Button","Spinner","Redirect","Index","onChangehandler","e","key","userInfo","state","target","name","value","setState","console","log","onLogoutHandler","localStorage","removeItem","clear","navigate","onSubmitHandler","token","user","email","Loader","post","headers","then","response","scsMsg","data","message","setTimeout","window","location","reload","catch","error","errMsg","JSON","parse","getItem","user_type","current_password","password","confirm_password","currShowPassword","newShowPassword","confirmShowPassword","scrollTo","toggle","width","height","toggleFunChild","bind"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,sCAAvB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,YAAhC,CACA,OAASC,QAAT,KAAyB,cAAzB,C,gJAEqBC,CAAAA,K,8FACjB,gBAAc,uCACV,wBADU,MA+CdC,eA/Cc,CA+CI,SAACC,CAAD,CAAIC,GAAJ,CAAY,CAC1B,GAAQC,CAAAA,QAAR,CAAqB,MAAKC,KAA1B,CAAQD,QAAR,CACAA,QAAQ,CAACF,CAAC,CAACI,MAAF,CAASC,IAAV,CAAR,CAA0BL,CAAC,CAACI,MAAF,CAASE,KAAnC,CACA,MAAKC,QAAL,CAAc,CAAEL,QAAQ,CAARA,QAAF,CAAd,EACAM,OAAO,CAACC,GAAR,CAAYP,QAAZ,EACH,CApDa,OAuDdQ,eAvDc,CAuDI,UAAM,CAEpBC,YAAY,CAACC,UAAb,CAAwB,YAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACAD,YAAY,CAACE,KAAb,GACA,MAAKN,QAAL,CAAc,CACVO,QAAQ,CAAE,IADA,CAAd,EAGH,CA/Da,OAiEdC,eAjEc,CAiEI,SAACf,CAAD,CAAO,CACrB,GAAIgB,CAAAA,KAAK,CAAG,MAAKb,KAAL,CAAWa,KAAvB,CACA,gBAA2B,MAAKb,KAAhC,CAAQD,QAAR,aAAQA,QAAR,CAAkBe,IAAlB,aAAkBA,IAAlB,CACAf,QAAQ,CAAC,OAAD,CAAR,CAAoBe,IAAI,CAACC,KAAzB,CACA,MAAKX,QAAL,CAAc,CAAEY,MAAM,CAAE,IAAV,CAAd,EACA1B,KAAK,CACA2B,IADL,CACU1B,MAAM,CAAG,wBADnB,CAC6C,MAAKS,KAAL,CAAWD,QADxD,CACkE,CAC1DmB,OAAO,CAAE,CACL,iCAA2BL,KAA3B,CADK,CADiD,CADlE,EAMKM,IANL,CAMU,SAACC,QAAD,CAAc,CAChB,MAAKhB,QAAL,CAAc,CAAEY,MAAM,CAAE,KAAV,CAAd,EACA,MAAKZ,QAAL,CAAc,CACViB,MAAM,CAAED,QAAQ,CAACE,IAAT,CAAcC,OADZ,CAAd,EAGAC,UAAU,CAAC,UAAI,CACXC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFS,CAEP,IAFO,CAAV,CAGH,CAdL,EAeKC,KAfL,CAeW,SAACC,KAAD,CAAW,CACd,MAAKzB,QAAL,CAAc,CACV0B,MAAM,CAAED,KAAK,CAACT,QAAN,CAAeE,IAAf,CAAoBO,KADlB,CAEVb,MAAM,CAAE,KAFE,CAAd,EAIAQ,UAAU,CAAC,UAAI,CACXC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFS,CAEP,IAFO,CAAV,CAGH,CAvBL,EAwBH,CA9Fa,CAEV,MAAK3B,KAAL,CAAa,CACTa,KAAK,CAAEkB,IAAI,CAACC,KAAL,CAAWxB,YAAY,CAACyB,OAAb,CAAqB,OAArB,CAAX,CADE,CAETnB,IAAI,CAAEiB,IAAI,CAACC,KAAL,CAAWxB,YAAY,CAACyB,OAAb,CAAqB,UAArB,CAAX,CAFG,CAGTC,SAAS,CAAE1B,YAAY,CAACyB,OAAb,CAAqB,WAArB,CAHF,CAITtB,QAAQ,CAAE,KAJD,CAKTZ,QAAQ,CAAE,CACNoC,gBAAgB,CAAE,EADZ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,gBAAgB,CAAE,EAHZ,CALD,CAUTP,MAAM,CAAE,EAVC,CAWTT,MAAM,CAAE,EAXC,CAYTiB,gBAAgB,CAAE,KAZT,CAaTC,eAAe,CAAE,KAbR,CAcTC,mBAAmB,CAAE,KAdZ,CAeTxB,MAAM,CAAC,IAfE,CAAb,CAFU,aAmBb,C,mDAED,4BAAoB,iBAChBS,MAAM,CAACgB,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACAjB,UAAU,CAAC,UAAM,CACtB,MAAI,CAACpB,QAAL,CAAc,CACbY,MAAM,CAAC,KADM,CAAd,EAGA,CAJe,CAIb,GAJa,CAAV,CAKH,C,gCAED,2BAAmB,CACf,KAAKZ,QAAL,CAAc,CACVkC,gBAAgB,CAAE,CAAC,KAAKtC,KAAL,CAAWsC,gBADpB,CAAd,EAGH,C,+BACD,0BAAkB,CACd,KAAKlC,QAAL,CAAc,CACVmC,eAAe,CAAE,CAAC,KAAKvC,KAAL,CAAWuC,eADnB,CAAd,EAGH,C,mCACD,8BAAsB,CAClB,KAAKnC,QAAL,CAAc,CACVoC,mBAAmB,CAAE,CAAC,KAAKxC,KAAL,CAAWwC,mBADvB,CAAd,EAGH,CAED;sBAiDA,iBAAQ,CACJ,KAAKpC,QAAL,CAAc,CACVsC,MAAM,CAAC,CAAC,KAAK1C,KAAL,CAAW0C,MADT,CAAd,EAGH,C,8BAED,wBAAevC,KAAf,CAAqB,CACjB,KAAKC,QAAL,CAAc,CACVsC,MAAM,CAACvC,KADG,CAAd,EAGH,C,sBACD,iBAAS,iBACJ,GAAI,CAAC,KAAKH,KAAL,CAAWc,IAAhB,CAAsB,CACnB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EAAP,CACH,CACD,mBACI,sCACG,aAAK,SAAS,CAAC,cAAf,WACC,KAAKd,KAAL,CAAWgB,MAAX,cAAoB,aAAK,SAAS,CAAC,QAAf,4BAAyB,KAAC,OAAD,EAAS,IAAI,CAAC,QAAd,CAAuB,KAAK,CAAC,MAA7B,CAAoC,KAAK,CAAE,CAAE2B,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAA3C,EAAzB,OAApB,CAAuI,EADxI,cAED,YAAK,SAAS,CAAC,qBAAf,uBACU,aAAK,EAAE,CAAC,cAAR,wBACI,KAAC,MAAD,IADJ,cAEI,YAAK,SAAS,CAAC,UAAf,EAFJ,cAGI,KAAC,MAAD,IAHJ,cAII,gBAAS,SAAS,CAAC,UAAnB,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,KAAK,CAAC,KAAX,uBACI,YAAK,KAAK,CAAC,qBAAX,uBACI,YAAK,KAAK,CAAC,mBAAX,uBACI,WAAG,IAAI,CAAC,qBAAR,CAA8B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACF,MAAL,EAAN,EAAvC,+CAAiF,UAAG,KAAK,CAAC,cAAT,EAAjF,GADJ,EADJ,EADJ,EADJ,cAQI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,OAAD,EACA,UAAU,CAAC,gBADX,CAEA,cAAc,CAAE,KAAKG,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAFhB,CAGA,MAAM,CAAE,KAAK9C,KAAL,CAAW0C,MAHnB,EADJ,EADJ,cAQI,YAAK,SAAS,CAAC,oBAAf,uBACI,YAAK,SAAS,CAAC,kBAAf,uBAEI,aAAK,SAAS,CAAC,aAAf,wBACI,uCADJ,CAEK,KAAK1C,KAAL,CAAWqB,MAAX,cAAoB,aAAK,SAAS,CAAC,qBAAf,CAAqC,IAAI,CAAC,OAA1C,eAAoD,KAAKrB,KAAL,CAAWqB,MAA/D,OAApB,CAAoG,EAFzG,CAIK,KAAKrB,KAAL,CAAW8B,MAAX,CAAkBP,OAAlB,cAA4B,aAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,gBAAoD,KAAKvB,KAAL,CAAW8B,MAAX,CAAkBP,OAAtE,SAA5B,CAAsH,EAJ3H,cAKI,YAAK,SAAS,CAAC,qBAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,mBAAf,wBACI,aAAK,SAAS,CAAC,gCAAf,wBACI,2CADJ,cAEI,aAAK,SAAS,CAAC,mBAAf,wBACI,cACI,SAAS,CAAC,cADd,CAEI,QAAQ,CAAC,EAFb,CAGI,IAAI,CAAE,KAAKvB,KAAL,CAAWsC,gBAAX,CAA8B,MAA9B,CAAuC,UAHjD,CAII,IAAI,CAAC,kBAJT,CAKI,WAAW,CAAC,kBALhB,CAMI,KAAK,CAAE,KAAKtC,KAAL,CAAWmC,gBANtB,CAOI,QAAQ,CAAE,KAAKvC,eAPnB,EADJ,CAUK,KAAKI,KAAL,CAAWsC,gBAAX,cACG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,gBAAL,EAAN,EAAZ,CAA2C,SAAS,CAAC,kBAArD,EAAlC,OADH,cAGG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,gBAAL,EAAN,EAAZ,CAA2C,SAAS,CAAC,YAArD,EAAlC,OAbR,GAFJ,cAkBI,aAAM,SAAS,CAAC,aAAhB,UAA+B,KAAKtC,KAAL,CAAW8B,MAAX,CAAkBK,gBAAjD,EAlBJ,GADJ,cAsBI,aAAK,SAAS,CAAC,gCAAf,wBACI,uCADJ,cAEI,aAAK,SAAS,CAAC,mBAAf,wBACI,cACI,SAAS,CAAC,cADd,CAEI,QAAQ,CAAC,EAFb,CAGI,IAAI,CAAE,KAAKnC,KAAL,CAAWuC,eAAX,CAA6B,MAA7B,CAAsC,UAHhD,CAII,IAAI,CAAC,UAJT,CAKI,WAAW,CAAC,cALhB,CAMI,KAAK,CAAE,KAAKvC,KAAL,CAAWoC,QANtB,CAOI,QAAQ,CAAE,KAAKxC,eAPnB,EADJ,CAUK,KAAKI,KAAL,CAAWuC,eAAX,cACG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,eAAL,EAAN,EAAZ,CAA0C,SAAS,CAAC,kBAApD,EAAlC,OADH,cAGG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,eAAL,EAAN,EAAZ,CAA0C,SAAS,CAAC,YAApD,EAAlC,OAbR,GAFJ,cAkBI,aAAM,SAAS,CAAC,aAAhB,UAA+B,KAAKvC,KAAL,CAAW8B,MAAX,CAAkBM,QAAjD,EAlBJ,GAtBJ,cA2CI,aAAK,SAAS,CAAC,gCAAf,wBACI,2CADJ,cAEI,aAAK,SAAS,CAAC,mBAAf,wBACI,cACI,SAAS,CAAC,cADd,CAEI,QAAQ,CAAC,EAFb,CAGI,IAAI,CAAE,KAAKpC,KAAL,CAAWwC,mBAAX,CAAiC,MAAjC,CAA0C,UAHpD,CAII,IAAI,CAAC,kBAJT,CAKI,WAAW,CAAC,kBALhB,CAMI,KAAK,CAAE,KAAKxC,KAAL,CAAWqC,gBANtB,CAOI,QAAQ,CAAE,KAAKzC,eAPnB,EADJ,CAUK,KAAKI,KAAL,CAAWwC,mBAAX,cACG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,mBAAL,EAAN,EAAZ,CAA8C,SAAS,CAAC,kBAAxD,EAAlC,OADH,cAGG,cAAM,SAAS,CAAC,gBAAhB,4BAAkC,UAAG,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,mBAAL,EAAN,EAAZ,CAA8C,SAAS,CAAC,YAAxD,EAAlC,OAbR,GAFJ,cAkBI,aAAM,SAAS,CAAC,aAAhB,UAA+B,KAAKxC,KAAL,CAAW8B,MAAX,CAAkBO,gBAAjD,EAlBJ,GA3CJ,cAgEI,YAAK,SAAS,CAAC,sBAAf,uBACI,KAAC,MAAD,EACI,KAAK,CAAC,SADV,CAEI,SAAS,CAAC,+BAFd,CAGI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACzB,eAAL,EAAN,EAHb,0BADJ,EAhEJ,GADJ,EADJ,EALJ,GAFJ,EADJ,EARJ,GARJ,GADJ,EAJJ,cAgHI,KAAC,MAAD,IAhHJ,GADV,EAFC,GADH,EADJ,CA2HH,C,mBA1O8B3B,S,SAAdU,K","sourcesContent":["import React, { Component } from 'react'\r\nimport Navbar from './Navbar'\r\nimport Sidebar from './Sidebar'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../components/constants/common';\r\nimport { Button ,Spinner } from 'reactstrap'\r\nimport { Redirect } from 'react-router'\r\n\r\nexport default class Index extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: localStorage.getItem(\"user_type\"),\r\n            navigate: false,\r\n            userInfo: {\r\n                current_password: \"\",\r\n                password: \"\",\r\n                confirm_password: \"\",\r\n            },\r\n            errMsg: \"\",\r\n            scsMsg: \"\",\r\n            currShowPassword: false,\r\n            newShowPassword: false,\r\n            confirmShowPassword: false,\r\n            Loader:true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0,0);\r\n        setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tLoader:false\r\n\t\t\t})\r\n\t\t}, 500);\r\n    }\r\n\r\n    currShowPassword() {\r\n        this.setState({\r\n            currShowPassword: !this.state.currShowPassword\r\n        })\r\n    }\r\n    newShowPassword() {\r\n        this.setState({\r\n            newShowPassword: !this.state.newShowPassword\r\n        })\r\n    }\r\n    confirmShowPassword() {\r\n        this.setState({\r\n            confirmShowPassword: !this.state.confirmShowPassword\r\n        })\r\n    }\r\n\r\n    //form handler\r\n    onChangehandler = (e, key) => {\r\n        const { userInfo } = this.state;\r\n        userInfo[e.target.name] = e.target.value;\r\n        this.setState({ userInfo });\r\n        console.log(userInfo)\r\n    };\r\n\r\n\r\n    onLogoutHandler = () => {\r\n\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    onSubmitHandler = (e) => {\r\n        var token = this.state.token\r\n        const { userInfo, user } = this.state;\r\n        userInfo['email'] = user.email;\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"change-password/update\", this.state.userInfo, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false  })\r\n                this.setState({\r\n                    scsMsg: response.data.message,\r\n                })\r\n                setTimeout(()=>{\r\n                    window.location.reload();\r\n                }, 3000);\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n                setTimeout(()=>{\r\n                    window.location.reload();\r\n                }, 3000);\r\n            });\r\n    };\r\n    toggle(){\r\n        this.setState({\r\n            toggle:!this.state.toggle\r\n        })\r\n    }\r\n\r\n    toggleFunChild(value){\r\n        this.setState({\r\n            toggle:value\r\n        })\r\n    }\r\n    render() {\r\n         if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        return (\r\n            <>\r\n               <div className=\"resido-front\">\r\n               {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n              <div className=\"blue-skin dashboard\">\r\n                        <div id=\"main-wrapper\">\r\n                            <Navbar />\r\n                            <div className=\"clearfix\"></div>\r\n                            <Header />\r\n                            <section className=\"bg-light\">\r\n                                <div className=\"container-fluid\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12 col-md-12\">\r\n                                            <div class=\"filter_search_opt\">\r\n                                                <a href=\"javascript:void(0);\" onClick={() => this.toggle()} >Dashboard Navigation<i class=\"ml-2 ti-menu\"></i></a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-3 col-md-12\">\r\n                                            <Sidebar \r\n                                            activePage=\"changepassword\"  \r\n                                            toggleFunChild={this.toggleFunChild.bind(this)}\r\n                                            toggle={this.state.toggle}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"col-lg-9 col-md-12\">\r\n                                            <div className=\"dashboard-wraper\">\r\n\r\n                                                <div className=\"form-submit\">\r\n                                                    <h4>Change Password</h4>\r\n                                                    {this.state.scsMsg ? <div className=\"alert alert-success\" role=\"alert\"> {this.state.scsMsg} </div> : \"\"}\r\n                                                    {/* messgae err */}\r\n                                                    {this.state.errMsg.message ? <div className=\"alert alert-danger\" role=\"alert\">  {this.state.errMsg.message}   </div> : \"\"}\r\n                                                    <div className=\"submit-section mt-3\">\r\n                                                        <div className=\"row\">\r\n                                                            <div className=\"col-lg-6 col-md-6\" >\r\n                                                                <div className=\"form-group col-lg-12 col-md-12\">\r\n                                                                    <label>Current Password</label>\r\n                                                                    <div className=\"position-relative\">\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            required=\"\"\r\n                                                                            type={this.state.currShowPassword ? \"text\" : \"password\"}\r\n                                                                            name=\"current_password\"\r\n                                                                            placeholder=\"Current Password\"\r\n                                                                            value={this.state.current_password}\r\n                                                                            onChange={this.onChangehandler}\r\n                                                                        />\r\n                                                                        {this.state.currShowPassword ?\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.currShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                            :\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.currShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                    <span className=\"text-danger\">{this.state.errMsg.current_password}</span>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group col-lg-12 col-md-12\">\r\n                                                                    <label>New Password</label>\r\n                                                                    <div className=\"position-relative\">\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            required=\"\"\r\n                                                                            type={this.state.newShowPassword ? \"text\" : \"password\"}\r\n                                                                            name=\"password\"\r\n                                                                            placeholder=\"New Password\"\r\n                                                                            value={this.state.password}\r\n                                                                            onChange={this.onChangehandler}\r\n                                                                        />\r\n                                                                        {this.state.newShowPassword ?\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.newShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                            :\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.newShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                    <span className=\"text-danger\">{this.state.errMsg.password}</span>\r\n                                                                </div>\r\n\r\n                                                                <div className=\"form-group col-lg-12 col-md-12\">\r\n                                                                    <label>Confirm Password</label>\r\n                                                                    <div className=\"position-relative\">\r\n                                                                        <input\r\n                                                                            className=\"form-control\"\r\n                                                                            required=\"\"\r\n                                                                            type={this.state.confirmShowPassword ? \"text\" : \"password\"}\r\n                                                                            name=\"confirm_password\"\r\n                                                                            placeholder=\"Confirm Password\"\r\n                                                                            value={this.state.confirm_password}\r\n                                                                            onChange={this.onChangehandler}\r\n                                                                        />\r\n                                                                        {this.state.confirmShowPassword ?\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.confirmShowPassword()} className=\"fas fa-eye-slash\"></i> </span>\r\n                                                                            :\r\n                                                                            <span className=\"ad-fa-eye-pass\"> <i onClick={() => this.confirmShowPassword()} className=\"fas fa-eye\"></i> </span>\r\n                                                                        }\r\n                                                                    </div>\r\n                                                                    <span className=\"text-danger\">{this.state.errMsg.confirm_password}</span>\r\n\r\n                                                                </div>\r\n                                                                <div className=\" col-lg-12 col-md-12\">\r\n                                                                    <Button\r\n                                                                        color=\"primary\"\r\n                                                                        className=\"btn btn-theme-light-2 rounded\"\r\n                                                                        onClick={() => this.onSubmitHandler()}\r\n                                                                    >Save Changes</Button>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                            <Footer />\r\n                        </div>\r\n                    </div>\r\n                </div>        \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}