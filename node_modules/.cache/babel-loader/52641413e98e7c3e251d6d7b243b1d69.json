{"ast":null,"code":"import _objectSpread from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Navbar from'./Navbar';import Sidebar from'./Sidebar';import Footer from'./Footer';import Header from'./Header';import axios from\"axios\";import{APIURL}from'../../../components/constants/common';import{Redirect,Link}from'react-router-dom';import{Button}from'reactstrap';import NumberFormat from'react-number-format';import bad from\"../../../assets/img/bed.svg\";import bath from\"../../../assets/img/bathtub.svg\";import move from\"../../../assets/img/move.svg\";import Pagination from\"react-js-pagination\";import{Spinner}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Index=/*#__PURE__*/function(_Component){_inherits(Index,_Component);var _super=_createSuper(Index);function Index(props){var _this;_classCallCheck(this,Index);_this=_super.call(this,props);_this.removeToWishlist=function(wishlist_id){if(!_this.state.user){_this.setState({redirect:true});return false;}var token=_this.state.token;var _this$state=_this.state,userInfo=_this$state.userInfo,user=_this$state.user;var formData=new FormData();formData.append('property_id',wishlist_id);axios.post(APIURL+\"buyer/property-wishlist-remove\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.getWishListData();}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});});_this.getWishListData();};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:JSON.parse(localStorage.getItem(\"user_type\")),WishList:[],Loader:true};return _this;}_createClass(Index,[{key:\"getWishListData\",value:function getWishListData(){var _this2=this;if(this.state.user){var formData=new FormData();formData.append('id',this.state.user.id);var token=this.state.token;var app_url=APIURL+\"buyer/get-property-wishlist\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this2.setState({WishList:response.data.data});}).catch(function(error){});}}},{key:\"toggle\",value:function toggle(){this.setState({toggle:!this.state.toggle});}},{key:\"toggleFunChild\",value:function toggleFunChild(value){this.setState({toggle:value});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;window.scrollTo(0,0);setTimeout(function(){_this3.setState({Loader:false});},500);this.getWishListData();}},{key:\"render\",value:function render(){var _this4=this;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"});}if(this.state.user_type!==\"Buyer\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/permission\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"resido-front\",children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"blue-skin dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"main-wrapper\",children:[/*#__PURE__*/_jsx(Navbar,{activePage:\"wishlist\"}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"section\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"filter_search_opt\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0);\",onClick:function onClick(){return _this4.toggle();},children:[\"Dashboard Navigation\",/*#__PURE__*/_jsx(\"i\",{class:\"ml-2 ti-menu\"})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-12\",children:/*#__PURE__*/_jsx(Sidebar,{activePage:\"wishlist\",toggleFunChild:this.toggleFunChild.bind(this),toggle:this.state.toggle})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-wraper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-submit mb-4\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Wishlist\"})}),this.state.WishList.length>0?this.state.WishList.map(function(item,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"row list-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-6 col-sm-6 col-12\",children:item.property.property_detail.length>0&&item.property.property_detail.map(function(sItem,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"property-listing property-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"listing-img-wrapper\",children:item.property.property_media.length>0&&item.property.property_media.slice(0,1).map(function(Img,idx){return/*#__PURE__*/_jsx(Link,{to:\"/viewproperty/details/\"+sItem.id,children:/*#__PURE__*/_jsx(\"img\",{src:Img.url_path,className:\"img-fluid mx-auto\",alt:\"\"})});})}),/*#__PURE__*/_jsx(\"div\",{className:\"listing-content\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/viewproperty/details/\"+sItem.id,children:/*#__PURE__*/_jsx(\"div\",{className:\"listing-detail-wrapper-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"listing-detail-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"listing-short-detail\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"listing-name ms-1\",children:item.property.name}),/*#__PURE__*/_jsx(\"div\",{className:\"listing-locate\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"listing-location\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-location-pin\"}),sItem.street_number,\", \",sItem.street_name,\", \",sItem.city===\"null\"?\"NA\":sItem.city]})})]})})})}),/*#__PURE__*/_jsx(Link,{to:\"/viewproperty/details/\"+sItem.id,children:/*#__PURE__*/_jsx(\"div\",{className:\"price-features-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-fx-features\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listing-card-info-icon\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inc-fleat-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:bad,width:\"13\",alt:\"\"})}),\" \",sItem.number_of_bedrooms,\" Beds\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"listing-card-info-icon\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inc-fleat-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:bath,width:\"13\",alt:\"\"})}),\" \",sItem.number_of_bathrooms,\" Bath\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"listing-card-info-icon\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inc-fleat-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:move,width:\"13\",alt:\"\"})}),\" \",sItem.lot_size,\" sqft\"]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"listing-footer-wrapper justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/viewproperty/details/\"+sItem.id,children:/*#__PURE__*/_jsx(\"div\",{className:\"list-price\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"listing-card-info-price\",children:/*#__PURE__*/_jsx(NumberFormat,{value:sItem.listing_price,className:\"foo\",displayType:'text',thousandSeparator:true,prefix:'$',renderText:function renderText(value,props){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},props),{},{children:value}));}})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"listing-detail-btn\",children:/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"theme\",onClick:function onClick(){return _this4.removeToWishlist(item.property_id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-trash-alt\",children:\" \"})})})]})]})})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:_this4.state.totalItemsCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pagination-rounded\",children:/*#__PURE__*/_jsx(Pagination,{activePage:_this4.state.activePage,itemsCountPerPage:_this4.state.limit,totalItemsCount:_this4.state.totalItemsCount,pageRangeDisplayed:5,onChange:_this4.handlePageChange.bind(_this4)})})})]});}):/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",className:\"text-center\",children:\"No Item Available\"})})})})]})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]})})]})});}}]);return Index;}(Component);export{Index as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Buyer/WishList.js"],"names":["React","Component","Navbar","Sidebar","Footer","Header","axios","APIURL","Redirect","Link","Button","NumberFormat","Pagination","Spinner","Index","props","removeToWishlist","wishlist_id","state","user","setState","redirect","token","userInfo","formData","FormData","append","post","headers","then","response","getWishListData","catch","error","errMsg","data","Loader","JSON","parse","localStorage","getItem","user_type","WishList","id","app_url","toggle","value","window","scrollTo","setTimeout","width","height","toggleFunChild","bind","length","map","item","idx","property","property_detail","sItem","property_media","slice","Img","url_path","name","street_number","street_name","city","bad","number_of_bedrooms","bath","number_of_bathrooms","move","lot_size","listing_price","property_id","totalItemsCount","activePage","limit","handlePageChange"],"mappings":"2lBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,sCAAvB,CACA,OAASC,QAAT,CAAmBC,IAAnB,KAA+B,kBAA/B,CACA,OAASC,MAAT,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,C,8IAIA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,OAASC,OAAT,KAAwB,YAAxB,C,gJAEqBC,CAAAA,K,8FACjB,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAiCnBC,gBAjCmB,CAiCA,SAACC,WAAD,CAAiB,CAChC,GAAI,CAAC,MAAKC,KAAL,CAAWC,IAAhB,CAAsB,CAClB,MAAKC,QAAL,CAAc,CACVC,QAAQ,CAAE,IADA,CAAd,EAGA,MAAO,MAAP,CACH,CACD,GAAIC,CAAAA,KAAK,CAAG,MAAKJ,KAAL,CAAWI,KAAvB,CACA,gBAA2B,MAAKJ,KAAhC,CAAQK,QAAR,aAAQA,QAAR,CAAkBJ,IAAlB,aAAkBA,IAAlB,CACA,GAAMK,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+BT,WAA/B,EACAX,KAAK,CACAqB,IADL,CACUpB,MAAM,CAAG,gCADnB,CACqDiB,QADrD,CAC+D,CACvDI,OAAO,CAAE,CACL,iCAA2BN,KAA3B,CADK,CAD8C,CAD/D,EAMKO,IANL,CAMU,SAACC,QAAD,CAAc,CAChB,MAAKC,eAAL,GACH,CARL,EASKC,KATL,CASW,SAACC,KAAD,CAAW,CACd,MAAKb,QAAL,CAAc,CACVc,MAAM,CAAED,KAAK,CAACH,QAAN,CAAeK,IAAf,CAAoBF,KADlB,CAEVG,MAAM,CAAE,KAFE,CAAd,EAIH,CAdL,EAeA,MAAKL,eAAL,GACH,CA5DkB,CAEf,MAAKb,KAAL,CAAa,CACTI,KAAK,CAAEe,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADE,CAETrB,IAAI,CAAEkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAFG,CAGTC,SAAS,CAAEJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAHF,CAITE,QAAQ,CAAE,EAJD,CAKTN,MAAM,CAAE,IALC,CAAb,CAFe,aASlB,C,iDACD,0BAAkB,iBACd,GAAI,KAAKlB,KAAL,CAAWC,IAAf,CAAqB,CACjB,GAAMK,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,IAAhB,CAAsB,KAAKR,KAAL,CAAWC,IAAX,CAAgBwB,EAAtC,EACA,GAAIrB,CAAAA,KAAK,CAAG,KAAKJ,KAAL,CAAWI,KAAvB,CACA,GAAIsB,CAAAA,OAAO,CAAGrC,MAAM,CAAG,6BAAvB,CACAD,KAAK,CACAqB,IADL,CACUiB,OADV,CACmBpB,QADnB,CAC6B,CACrBI,OAAO,CAAE,CACL,iCAA2BN,KAA3B,CADK,CADY,CAD7B,EAMKO,IANL,CAMU,SAACC,QAAD,CAAc,CAChB,MAAI,CAACV,QAAL,CAAc,CACVsB,QAAQ,CAAEZ,QAAQ,CAACK,IAAT,CAAcA,IADd,CAAd,EAGH,CAVL,EAWKH,KAXL,CAWW,SAACC,KAAD,CAAW,CAEjB,CAbL,EAcH,CACJ,C,sBA8BD,iBAAQ,CACJ,KAAKb,QAAL,CAAc,CACVyB,MAAM,CAAC,CAAC,KAAK3B,KAAL,CAAW2B,MADT,CAAd,EAGH,C,8BAED,wBAAeC,KAAf,CAAqB,CACjB,KAAK1B,QAAL,CAAc,CACVyB,MAAM,CAACC,KADG,CAAd,EAGH,C,iCACD,4BAAoB,iBAChBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACAC,UAAU,CAAC,UAAM,CACb,MAAI,CAAC7B,QAAL,CAAc,CACVgB,MAAM,CAAE,KADE,CAAd,EAGH,CAJS,CAIP,GAJO,CAAV,CAKA,KAAKL,eAAL,GACH,C,sBAED,iBAAS,iBACL,GAAI,CAAC,KAAKb,KAAL,CAAWC,IAAhB,CAAsB,CAClB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EAAP,CACH,CACD,GAAI,KAAKD,KAAL,CAAWuB,SAAX,GAAyB,OAA7B,CAAsC,CAClC,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,aAAb,EAAP,CACH,CACD,mBACI,sCACI,aAAK,SAAS,CAAC,cAAf,WACK,KAAKvB,KAAL,CAAWkB,MAAX,cAAoB,aAAK,SAAS,CAAC,QAAf,4BAAyB,KAAC,OAAD,EAAS,IAAI,CAAC,QAAd,CAAuB,KAAK,CAAC,MAA7B,CAAoC,KAAK,CAAE,CAAEc,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAA3C,EAAzB,OAApB,CAAuI,EAD5I,cAEI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,EAAE,CAAC,cAAR,wBACI,KAAC,MAAD,EAAQ,UAAU,CAAC,UAAnB,EADJ,cAEI,YAAK,SAAS,CAAC,UAAf,EAFJ,cAGI,KAAC,MAAD,IAHJ,cAII,gBAAS,SAAS,CAAC,UAAnB,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,KAAK,CAAC,KAAX,uBACI,YAAK,KAAK,CAAC,qBAAX,uBACI,YAAK,KAAK,CAAC,mBAAX,uBACI,WAAG,IAAI,CAAC,qBAAR,CAA8B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACN,MAAL,EAAN,EAAvC,+CAAiF,UAAG,KAAK,CAAC,cAAT,EAAjF,GADJ,EADJ,EADJ,EADJ,cAQI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,OAAD,EACA,UAAU,CAAC,UADX,CAEA,cAAc,CAAE,KAAKO,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAFhB,CAGA,MAAM,CAAE,KAAKnC,KAAL,CAAW2B,MAHnB,EADJ,EADJ,cAQI,YAAK,SAAS,CAAC,oBAAf,uBACI,aAAK,SAAS,CAAC,kBAAf,wBAEI,YAAK,SAAS,CAAC,kBAAf,uBACI,gCADJ,EAFJ,CAKK,KAAK3B,KAAL,CAAWwB,QAAX,CAAoBY,MAApB,CAA6B,CAA7B,CAAiC,KAAKpC,KAAL,CAAWwB,QAAX,CAAoBa,GAApB,CAAwB,SAACC,IAAD,CAAOC,GAAP,qBACtD,aAAK,SAAS,CAAC,iBAAf,wBAEI,YAAK,SAAS,CAAC,oCAAf,UACKD,IAAI,CAACE,QAAL,CAAcC,eAAd,CAA8BL,MAA9B,CAAuC,CAAvC,EAA4CE,IAAI,CAACE,QAAL,CAAcC,eAAd,CAA8BJ,GAA9B,CAAkC,SAACK,KAAD,CAAQH,GAAR,qBAC3E,aAAK,SAAS,CAAC,6BAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,UACKD,IAAI,CAACE,QAAL,CAAcG,cAAd,CAA6BP,MAA7B,CAAsC,CAAtC,EAA2CE,IAAI,CAACE,QAAL,CAAcG,cAAd,CAA6BC,KAA7B,CAAmC,CAAnC,CAAsC,CAAtC,EAAyCP,GAAzC,CAA6C,SAACQ,GAAD,CAAMN,GAAN,qBACrF,KAAC,IAAD,EAAM,EAAE,CAAE,yBAA2BG,KAAK,CAACjB,EAA3C,uBACI,YAAK,GAAG,CAAEoB,GAAG,CAACC,QAAd,CAAwB,SAAS,CAAC,mBAAlC,CAAsD,GAAG,CAAC,EAA1D,EADJ,EADqF,EAA7C,CADhD,EADJ,cASI,YAAK,SAAS,CAAC,iBAAf,uBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAE,yBAA2BJ,KAAK,CAACjB,EAA3C,uBACI,YAAK,SAAS,CAAC,4BAAf,uBACI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,sBAAf,wBACI,WAAI,SAAS,CAAC,mBAAd,UACKa,IAAI,CAACE,QAAL,CAAcO,IADnB,EADJ,cAII,YAAK,SAAS,CAAC,gBAAf,uBACI,cAAM,SAAS,CAAC,kBAAhB,wBAAmC,UAAG,SAAS,CAAC,iBAAb,EAAnC,CAAuEL,KAAK,CAACM,aAA7E,MAA8FN,KAAK,CAACO,WAApG,MAAmHP,KAAK,CAACQ,IAAN,GAAe,MAAf,CAAwB,IAAxB,CAA+BR,KAAK,CAACQ,IAAxJ,GADJ,EAJJ,GADJ,EADJ,EADJ,EADJ,cAgBI,KAAC,IAAD,EAAM,EAAE,CAAE,yBAA2BR,KAAK,CAACjB,EAA3C,uBACI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,aAAK,SAAS,CAAC,wBAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,uBAAgC,YAAK,GAAG,CAAE0B,GAAV,CAAe,KAAK,CAAC,IAArB,CAA0B,GAAG,CAAC,EAA9B,EAAhC,EADJ,KAC+ET,KAAK,CAACU,kBADrF,WADJ,cAII,aAAK,SAAS,CAAC,wBAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,uBAAgC,YAAK,GAAG,CAAEC,IAAV,CAAgB,KAAK,CAAC,IAAtB,CAA2B,GAAG,CAAC,EAA/B,EAAhC,EADJ,KACgFX,KAAK,CAACY,mBADtF,WAJJ,cAOI,aAAK,SAAS,CAAC,wBAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,uBAAgC,YAAK,GAAG,CAAEC,IAAV,CAAgB,KAAK,CAAC,IAAtB,CAA2B,GAAG,CAAC,EAA/B,EAAhC,EADJ,KACgFb,KAAK,CAACc,QADtF,WAPJ,GADJ,EADJ,EAhBJ,cAgCI,aAAK,SAAS,CAAC,gDAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAE,yBAA2Bd,KAAK,CAACjB,EAA3C,uBAEI,YAAK,SAAS,CAAC,YAAf,uBACI,WAAI,SAAS,CAAC,yBAAd,uBACI,KAAC,YAAD,EACI,KAAK,CAAEiB,KAAK,CAACe,aADjB,CAEI,SAAS,CAAC,KAFd,CAGI,WAAW,CAAE,MAHjB,CAII,iBAAiB,CAAE,IAJvB,CAKI,MAAM,CAAE,GALZ,CAMI,UAAU,CAAE,oBAAC7B,KAAD,CAAQ/B,KAAR,qBAAkB,0CAASA,KAAT,eAAiB+B,KAAjB,GAAlB,EANhB,EADJ,EADJ,EAFJ,EADJ,cAgBI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,KAAK,CAAC,OAAxB,CAAgC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC9B,gBAAL,CAAsBwC,IAAI,CAACoB,WAA3B,CAAN,EAAzC,uBACI,UAAG,SAAS,CAAC,kBAAb,eADJ,EADJ,EAhBJ,GAhCJ,GADJ,EATJ,GAD2E,EAAlC,CADjD,EAFJ,cA4EI,YAAK,SAAS,CAAC,+BAAf,UACK,MAAI,CAAC1D,KAAL,CAAW2D,eAAX,CAA6B,CAA7B,eACG,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,UAAD,EACI,UAAU,CAAE,MAAI,CAAC3D,KAAL,CAAW4D,UAD3B,CAEI,iBAAiB,CAAE,MAAI,CAAC5D,KAAL,CAAW6D,KAFlC,CAGI,eAAe,CAAE,MAAI,CAAC7D,KAAL,CAAW2D,eAHhC,CAII,kBAAkB,CAAE,CAJxB,CAKI,QAAQ,CAAE,MAAI,CAACG,gBAAL,CAAsB3B,IAAtB,CAA2B,MAA3B,CALd,EADJ,EAFR,EA5EJ,GADsD,EAAxB,CAAjC,cA4FG,oCACI,oCACI,iCACI,WAAI,OAAO,CAAC,GAAZ,CAAgB,SAAS,CAAC,aAA1B,+BADJ,EADJ,EADJ,EAjGR,GADJ,EARJ,GARJ,GADJ,EAJJ,cAsII,KAAC,MAAD,IAtIJ,GADJ,EAFJ,GADJ,EADJ,CAiJH,C,mBA3O8BpD,S,SAAda,K","sourcesContent":["import React, { Component } from 'react'\r\nimport Navbar from './Navbar'\r\nimport Sidebar from './Sidebar'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport axios from \"axios\";\r\nimport { APIURL } from '../../../components/constants/common';\r\nimport { Redirect, Link } from 'react-router-dom'\r\nimport { Button } from 'reactstrap'\r\nimport NumberFormat from 'react-number-format';\r\nimport bad from '../../../assets/img/bed.svg'\r\nimport bath from '../../../assets/img/bathtub.svg'\r\nimport move from '../../../assets/img/move.svg'\r\nimport Pagination from \"react-js-pagination\";\r\nimport { Spinner } from \"reactstrap\"\r\n\r\nexport default class Index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: JSON.parse(localStorage.getItem(\"user_type\")),\r\n            WishList: [],\r\n            Loader: true\r\n        }\r\n    }\r\n    getWishListData() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            formData.append('id', this.state.user.id)\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"buyer/get-property-wishlist\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    this.setState({\r\n                        WishList: response.data.data\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n\r\n                });\r\n        }\r\n    }\r\n\r\n    removeToWishlist = (wishlist_id) => {\r\n        if (!this.state.user) {\r\n            this.setState({\r\n                redirect: true\r\n            })\r\n            return false\r\n        }\r\n        var token = this.state.token\r\n        const { userInfo, user } = this.state;\r\n        const formData = new FormData();\r\n        formData.append('property_id', wishlist_id);\r\n        axios\r\n            .post(APIURL + \"buyer/property-wishlist-remove\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.getWishListData()\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n            });\r\n        this.getWishListData()\r\n    };\r\n    toggle(){\r\n        this.setState({\r\n            toggle:!this.state.toggle\r\n        })\r\n    }\r\n\r\n    toggleFunChild(value){\r\n        this.setState({\r\n            toggle:value\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n        setTimeout(() => {\r\n            this.setState({\r\n                Loader: false\r\n            })\r\n        }, 500);\r\n        this.getWishListData()\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        if (this.state.user_type !== \"Buyer\") {\r\n            return <Redirect to=\"/permission\" />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"resido-front\">\r\n                    {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n                    <div className=\"blue-skin dashboard\">\r\n                        <div id=\"main-wrapper\">\r\n                            <Navbar activePage=\"wishlist\" />\r\n                            <div className=\"clearfix\"></div>\r\n                            <Header />\r\n                            <section className=\"bg-light\">\r\n                                <div className=\"container-fluid\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12 col-md-12\">\r\n                                            <div class=\"filter_search_opt\">\r\n                                                <a href=\"javascript:void(0);\" onClick={() => this.toggle()} >Dashboard Navigation<i class=\"ml-2 ti-menu\"></i></a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-3 col-md-12\">\r\n                                            <Sidebar \r\n                                            activePage=\"wishlist\"\r\n                                            toggleFunChild={this.toggleFunChild.bind(this)}\r\n                                            toggle={this.state.toggle}\r\n                                             />\r\n                                        </div>\r\n                                        <div className=\"col-lg-9 col-md-12\">\r\n                                            <div className=\"dashboard-wraper\">\r\n                                                {/* <!-- Bookmark Property --> */}\r\n                                                <div className=\"form-submit mb-4\">\r\n                                                    <h4>Wishlist</h4>\r\n                                                </div>\r\n                                                {this.state.WishList.length > 0 ? this.state.WishList.map((item, idx) => (\r\n                                                    <div className=\"row list-layout\">\r\n                                                        {/* {this.state.PropertyList.length > 0 ? this.state.PropertyList.slice(0, this.state.limit).map((item, idx) => ( */}\r\n                                                        <div className=\"col-lg-12 col-md-6 col-sm-6 col-12\">\r\n                                                            {item.property.property_detail.length > 0 && item.property.property_detail.map((sItem, idx) => (\r\n                                                                <div className=\"property-listing property-1\">\r\n                                                                    <div className=\"listing-img-wrapper\">\r\n                                                                        {item.property.property_media.length > 0 && item.property.property_media.slice(0, 1).map((Img, idx) => (\r\n                                                                            <Link to={\"/viewproperty/details/\" + sItem.id}>\r\n                                                                                <img src={Img.url_path} className=\"img-fluid mx-auto\" alt=\"\" />\r\n                                                                            </Link>\r\n                                                                        ))}\r\n                                                                    </div>\r\n                                                                    {/* {item.property_detail.length > 0 && item.property_detail.map((sItem, idx) => ( */}\r\n                                                                    <div className=\"listing-content\">\r\n                                                                        <div>\r\n                                                                            <Link to={\"/viewproperty/details/\" + sItem.id}>\r\n                                                                                <div className=\"listing-detail-wrapper-box\">\r\n                                                                                    <div className=\"listing-detail-wrapper\">\r\n                                                                                        <div className=\"listing-short-detail\">\r\n                                                                                            <h4 className=\"listing-name ms-1\">\r\n                                                                                                {item.property.name}\r\n                                                                                            </h4>\r\n                                                                                            <div className=\"listing-locate\">\r\n                                                                                                <span className=\"listing-location\"><i className=\"ti-location-pin\"></i>{sItem.street_number}, {sItem.street_name}, {sItem.city === \"null\" ? \"NA\" : sItem.city}</span>\r\n                                                                                            </div>\r\n                                                                                        </div>\r\n\r\n                                                                                    </div>\r\n                                                                                </div>\r\n                                                                            </Link>\r\n                                                                            <Link to={\"/viewproperty/details/\" + sItem.id}>\r\n                                                                                <div className=\"price-features-wrapper\">\r\n                                                                                    <div className=\"list-fx-features\">\r\n                                                                                        <div className=\"listing-card-info-icon\">\r\n                                                                                            <div className=\"inc-fleat-icon\"><img src={bad} width=\"13\" alt=\"\" /></div> {sItem.number_of_bedrooms} Beds\r\n                                                                                        </div>\r\n                                                                                        <div className=\"listing-card-info-icon\">\r\n                                                                                            <div className=\"inc-fleat-icon\"><img src={bath} width=\"13\" alt=\"\" /></div> {sItem.number_of_bathrooms} Bath\r\n                                                                                        </div>\r\n                                                                                        <div className=\"listing-card-info-icon\">\r\n                                                                                            <div className=\"inc-fleat-icon\"><img src={move} width=\"13\" alt=\"\" /></div> {sItem.lot_size} sqft\r\n                                                                                        </div>\r\n                                                                                    </div>\r\n                                                                                </div>\r\n                                                                            </Link>\r\n\r\n                                                                            <div className=\"listing-footer-wrapper justify-content-between\">\r\n                                                                                <Link to={\"/viewproperty/details/\" + sItem.id}>\r\n\r\n                                                                                    <div className=\"list-price\">\r\n                                                                                        <h6 className=\"listing-card-info-price\">\r\n                                                                                            <NumberFormat\r\n                                                                                                value={sItem.listing_price}\r\n                                                                                                className=\"foo\"\r\n                                                                                                displayType={'text'}\r\n                                                                                                thousandSeparator={true}\r\n                                                                                                prefix={'$'}\r\n                                                                                                renderText={(value, props) => <div {...props}>{value}</div>}\r\n                                                                                            />\r\n                                                                                        </h6>\r\n                                                                                    </div>\r\n                                                                                </Link>\r\n                                                                                <div className=\"listing-detail-btn\">\r\n                                                                                    <Button size='sm' color='theme' onClick={() => this.removeToWishlist(item.property_id)} >\r\n                                                                                        <i className=\"far fa-trash-alt\"> </i>\r\n                                                                                    </Button>\r\n                                                                                </div>\r\n                                                                            </div>\r\n\r\n                                                                        </div>\r\n\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            ))}\r\n                                                        </div>\r\n\r\n                                                        <div className=\"d-flex justify-content-center\">\r\n                                                            {this.state.totalItemsCount > 0 &&\r\n                                                                <div className=\"pagination-rounded\">\r\n                                                                    <Pagination\r\n                                                                        activePage={this.state.activePage}\r\n                                                                        itemsCountPerPage={this.state.limit}\r\n                                                                        totalItemsCount={this.state.totalItemsCount}\r\n                                                                        pageRangeDisplayed={5}\r\n                                                                        onChange={this.handlePageChange.bind(this)}\r\n                                                                    />\r\n                                                                </div>\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )) :\r\n                                                    <table>\r\n                                                        <tbody>\r\n                                                            <tr>\r\n                                                                <td colSpan=\"3\" className=\"text-center\">\r\n                                                                    No Item Available\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                            <Footer />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}