{"ast":null,"code":"import _defineProperty from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{Component}from'react';import{Redirect}from'react-router-dom';import Sidebar from'../Sidebar';import Navbar from'../Navbar';import{Spinner,Modal,ModalBody,ModalHeader,Button,Input,ModalFooter}from'reactstrap';import{APIURL}from'../../../constants/common';import axios from'axios';import Pagination from\"react-js-pagination\";import Select from'react-select';import Footer from'../Footer';import Header from'../Header';import dateFormat from\"dateformat\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var colourStyles={option:function option(styles,_ref){var data=_ref.data,isDisabled=_ref.isDisabled,isFocused=_ref.isFocused,isSelected=_ref.isSelected;return _objectSpread(_objectSpread({},styles),{},{backgroundColor:isFocused?\"#B8BCBD\":null,color:\"grey\"});}};var BuyerAgentContract=/*#__PURE__*/function(_Component){_inherits(BuyerAgentContract,_Component);var _super=_createSuper(BuyerAgentContract);function BuyerAgentContract(){var _this;_classCallCheck(this,BuyerAgentContract);_this=_super.call(this);_this.listenScrollEvent=function(e){if(window.scrollY>400){_this.setState({color:'black'});}else{_this.setState({color:'white'});}};_this.SubmitProperty=function(e){var token=_this.state.token;var _this$state=_this.state,userInfo=_this$state.userInfo,user=_this$state.user;var formData=new FormData();formData.append('name',_this.state.propertyName);_this.setState({Loader:true});axios.post(APIURL+\"seller/property-add\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(\"property-add\",response.data.data.id);localStorage.setItem(\"property_id\",response.data.data.id);_this.setState({scsMsg:response.data.message,property_id:response.data.data.id,Loader:false,redirect:true});}).catch(function(error){_this.setState({errMsg:error.response.data.error,Loader:false});});};_this.onSubmitHandler=function(e){var token=_this.state.token;//first API\naxios.get(APIURL+\"connect-docusign\",{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(\"connect-docusign\",response.data.data);_this.setState({urlDoc:response.data.data,Loader:false});window.open(_this.state.urlDoc);}).catch(function(error){_this.setState({Loader:false});});//Second APi \naxios.get(APIURL+\"docusign/callback\",{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){console.log(\"docusign/callback\",response.data.data);_this.setState({Loader:false});}).catch(function(error){_this.setState({Loader:false});});// third post Api\nvar formData=new FormData();formData.append('contract_id',e.id);_this.setState({Loader:true,ContractInfoModal:false});axios.post(APIURL+\"sign-document\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this.setState({Loader:false});console.log(\"sign-document\",response.data);}).catch(function(error){});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:JSON.parse(localStorage.getItem(\"user_type\")),propertyName:\"\",AddpropertyModal:false,contract:[],statusArray:[{'value':\"\",\"label\":\"All\"},{'value':\"signed\",\"label\":\"Signed\"},{'value':\"unsigned\",\"label\":\"Not Signed\"}],statusDefault:[{'value':\"\",\"label\":\"All\"}],property_id:\"\",activePage:1,limit:0,totalItemsCount:0,search:\"\",status:[],sort:false,sortby:\"DESC\",columnName:\"\",color:'white',urlDoc:\"\",Loader:false,contractId:\"\",ContractInfoModal:false};_this.SortBy=_this.SortBy.bind(_assertThisInitialized(_this));return _this;}_createClass(BuyerAgentContract,[{key:\"SortBy\",value:function SortBy(e){var _this2=this;this.setState({sort:!this.state.sort},function(){if(_this2.state.sort){_this2.setState({sortby:\"ASC\",columnName:e},function(){_this2.getcontract();});}if(!_this2.state.sort){_this2.setState({sortby:\"DESC\",columnName:e},function(){_this2.getcontract();});}});}},{key:\"handleSearch\",value:function handleSearch(e){var _this3=this;this.setState({search:e.target.value,activePage:1},function(){setTimeout(function(){_this3.getcontract();},300);});}},{key:\"handleStatus\",value:function handleStatus(e){var _this4=this;this.setState({activePage:1,status:e.value,statusDefault:[{value:e.value,label:e.label}]},function(){_this4.getcontract();});}},{key:\"handlePageChange\",value:function handlePageChange(pageNumber){var _this5=this;console.log(\"active page is \".concat(pageNumber));this.setState({activePage:pageNumber},function(){_this5.getcontract();});}// Name handler\n},{key:\"handlechange\",value:function handlechange(e){this.setState({propertyName:e});}},{key:\"getcontract\",value:function getcontract(){var _this6=this;this.setState({Loader:true});var token=this.state.token;var formData=new FormData();formData.append('page',this.state.activePage);formData.append('search',this.state.search);formData.append('statusfilter',this.state.status);formData.append('sortby',this.state.sortby);formData.append('limit',this.state.limit);formData.append('sorttype',this.state.columnName);axios.post(APIURL+\"get-contract-list-for-user\",formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){_this6.setState(_defineProperty({Loader:false,contract:response.data.data.data,activePage:response.data.data.current_page,totalItemsCount:response.data.data.total,limit:response.data.data.per_page},\"Loader\",false));});}},{key:\"AddpropertyModal\",value:function AddpropertyModal(){this.setState({AddpropertyModal:!this.state.AddpropertyModal});}// AddpropertyModal close\n},{key:\"ModalClose\",value:function ModalClose(){this.setState({ContractInfoModal:false});}},{key:\"ContractInfoModal\",value:function ContractInfoModal(e){this.setState({ContractInfoModal:!this.state.ContractInfoModal,contractId:e.id});}},{key:\"toggle\",value:function toggle(){this.setState({toggle:!this.state.toggle});}},{key:\"toggleFunChild\",value:function toggleFunChild(value){this.setState({toggle:value});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getcontract();}},{key:\"render\",value:function render(){var _this7=this;if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"});}if(this.state.user_type!==\"Buyer\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/permission\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"resido-front\",children:[this.state.Loader?/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[\" \",/*#__PURE__*/_jsx(Spinner,{type:\"border\",color:\"dark\",style:{width:'3rem',height:'3rem'}}),\" \"]}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"blue-skin dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"main-wrapper\",children:[/*#__PURE__*/_jsx(Navbar,{data:{profile_image:this.state.profile_image}}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"section\",{className:\"bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"filter_search_opt\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:void(0);\",onClick:function onClick(){return _this7.toggle();},children:[\"Dashboard Navigation\",/*#__PURE__*/_jsx(\"i\",{class:\"ml-2 ti-menu\"})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-12\",children:/*#__PURE__*/_jsx(Sidebar,{activePage:\"buyerAgentContract\",activetabb:true,data:{profile_image:this.state.profile_image},toggleFunChild:this.toggleFunChild.bind(this),toggle:this.state.toggle})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-wraper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-submit\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Buyer Agent Contract\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-between mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-6 col-lg-3 mb-sm-0 mb-lg-0 mb-md-0 mb-xl-0 mb-2\",children:/*#__PURE__*/_jsx(Input,{type:\"text\",onChange:function onChange(e){return _this7.handleSearch(e);},placeholder:\"Search\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-6 col-lg-3 ml-auto\",children:/*#__PURE__*/_jsx(Select,{\"aria-label\":\".form-select-lg example\",required:\"\",placeholder:\"Status\",className:\"form-select-control\",options:this.state.statusArray,value:this.state.statusDefault,styles:colourStyles,onChange:function onChange(e){return _this7.handleStatus(e);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 grid-margin mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"sort-by\",style:{cursor:\"pointer\"},onClick:function onClick(e){return _this7.SortBy(\"contract_title\");},children:\"Contract Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"sort-by\",style:{cursor:\"pointer\"},onClick:function onClick(e){return _this7.SortBy(\"property_name\");},children:\" Property Name \"}),/*#__PURE__*/_jsx(\"th\",{className:\"sort-by\",style:{cursor:\"pointer\"},onClick:function onClick(){return _this7.SortBy(\"created_at\");},children:\" Created Date \"}),/*#__PURE__*/_jsx(\"th\",{className:\"\",children:\" Document\"}),/*#__PURE__*/_jsx(\"th\",{className:\"\",children:\" Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\" Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.contract.length>0?this.state.contract.map(function(item,idx){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.contract_title}),/*#__PURE__*/_jsx(\"td\",{children:item.property_name}),/*#__PURE__*/_jsxs(\"td\",{children:[item.created_at.split('T')[0].split('-')[2],\"-\",item.created_at.split('T')[0].split('-')[1],\"-\",item.created_at.split('T')[0].split('-')[0]]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:item.document_url,children:item.file_name})}),/*#__PURE__*/_jsx(\"td\",{children:item.status===null?/*#__PURE__*/_jsx(\"button\",{color:\"danger\",className:\"badge btn-danger\",children:\" Not Signed\"}):/*#__PURE__*/_jsx(\"button\",{color:\"success\",className:\"badge btn-success\",children:\" Signed\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{color:\"dark\",style:{backgroundColor:\"#198ae3\"},className:\" btn-rounded px-3 btn-sm ml-2\",onClick:function onClick(e){return _this7.ContractInfoModal(item);},children:\"View\"})})]},idx);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",colSpan:\"6\",children:\"No Records\"})})})]})})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:this.state.totalItemsCount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pagination-rounded\",children:/*#__PURE__*/_jsx(Pagination,{activePage:this.state.activePage,itemsCountPerPage:this.state.limit,totalItemsCount:this.state.totalItemsCount,pageRangeDisplayed:5,onChange:this.handlePageChange.bind(this)})})})]})})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"resido-admin\",size:\"md\",isOpen:this.state.ContractInfoModal,toggle:function toggle(){return _this7.ModalClose();},children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"header-less\",toggle:function toggle(){return _this7.ModalClose();},children:\"Contract Detail\"}),/*#__PURE__*/_jsx(ModalBody,{className:\"border-0 bg-white\",children:this.state.contract.length>0&&this.state.contract.filter(function(data){return data.id===_this7.state.contractId;}).map(function(item,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Contract Title\"}),/*#__PURE__*/_jsx(\"p\",{children:item.contract_title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Property Name\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-break\",children:[\" \",item.property_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Created Date\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"  \",item.created_at.split('T')[0].split('-')[2],\"-\",item.created_at.split('T')[0].split('-')[1],\"-\",item.created_at.split('T')[0].split('-')[0]]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-lg-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"  \",item.status===null?\"Not Signed\":\"Signed\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"fw-bold\",children:\"Description\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",item.description]})]})]});})})]})]});}}]);return BuyerAgentContract;}(Component);export{BuyerAgentContract as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Buyer/ContractForms/BuyerAgentContract.js"],"names":["React","Component","Redirect","Sidebar","Navbar","Spinner","Modal","ModalBody","ModalHeader","Button","Input","ModalFooter","APIURL","axios","Pagination","Select","Footer","Header","dateFormat","colourStyles","option","styles","data","isDisabled","isFocused","isSelected","backgroundColor","color","BuyerAgentContract","listenScrollEvent","e","window","scrollY","setState","SubmitProperty","token","state","userInfo","user","formData","FormData","append","propertyName","Loader","post","headers","then","response","console","log","id","localStorage","setItem","scsMsg","message","property_id","redirect","catch","error","errMsg","onSubmitHandler","get","urlDoc","open","ContractInfoModal","JSON","parse","getItem","user_type","AddpropertyModal","contract","statusArray","statusDefault","activePage","limit","totalItemsCount","search","status","sort","sortby","columnName","contractId","SortBy","bind","getcontract","target","value","setTimeout","label","pageNumber","current_page","total","per_page","toggle","width","height","profile_image","toggleFunChild","handleSearch","handleStatus","cursor","length","map","item","idx","contract_title","property_name","created_at","split","document_url","file_name","handlePageChange","ModalClose","filter","description"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport Sidebar from '../Sidebar'\r\nimport Navbar from '../Navbar'\r\nimport { Spinner, Modal, ModalBody, ModalHeader, Button, Input,ModalFooter } from 'reactstrap'\r\nimport { APIURL } from '../../../constants/common';\r\nimport axios from 'axios'\r\nimport Pagination from \"react-js-pagination\";\r\nimport Select from 'react-select'\r\nimport Footer from '../Footer'\r\nimport Header from '../Header'\r\nimport dateFormat from \"dateformat\";\r\n\r\nconst colourStyles = {\r\n\r\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\r\n        return {\r\n            ...styles,\r\n            backgroundColor: isFocused ? \"#B8BCBD\" : null,\r\n            color: \"grey\",\r\n        };\r\n    },\r\n};\r\n\r\nexport default class BuyerAgentContract extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: JSON.parse(localStorage.getItem(\"user_type\")),\r\n            propertyName: \"\",\r\n            AddpropertyModal: false,\r\n            contract: [],\r\n            statusArray: [{ 'value': \"\", \"label\": \"All\" }, { 'value': \"signed\", \"label\": \"Signed\" }, { 'value': \"unsigned\", \"label\": \"Not Signed\" }],\r\n            statusDefault: [{ 'value': \"\", \"label\": \"All\" }],\r\n            property_id: \"\",\r\n            activePage: 1,\r\n            limit: 0,\r\n            totalItemsCount: 0,\r\n            search: \"\",\r\n            status: [],\r\n            sort: false,\r\n            sortby: \"DESC\",\r\n            columnName: \"\",\r\n            color: 'white',\r\n            urlDoc: \"\",\r\n            Loader: false,\r\n            contractId:\"\",\r\n            ContractInfoModal: false\r\n        }\r\n        this.SortBy = this.SortBy.bind(this);\r\n    }\r\n\r\n    listenScrollEvent = e => {\r\n        if (window.scrollY > 400) {\r\n            this.setState({ color: 'black' })\r\n        } else {\r\n            this.setState({ color: 'white' })\r\n        }\r\n    }\r\n\r\n    SortBy(e) {\r\n        this.setState({\r\n            sort: !this.state.sort\r\n        }, () => {\r\n            if (this.state.sort) {\r\n                this.setState({\r\n                    sortby: \"ASC\",\r\n                    columnName: e\r\n                }, () => {\r\n                    this.getcontract()\r\n                })\r\n\r\n            }\r\n            if (!this.state.sort) {\r\n                this.setState({\r\n                    sortby: \"DESC\",\r\n                    columnName: e\r\n                }, () => {\r\n                    this.getcontract()\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSearch(e) {\r\n        this.setState(\r\n            { search: e.target.value, activePage: 1 }\r\n            , () => {\r\n                setTimeout(() => {\r\n                    this.getcontract()\r\n                }, 300);\r\n            });\r\n    }\r\n\r\n    handleStatus(e) {\r\n        this.setState(\r\n            {\r\n                activePage: 1,\r\n                status: e.value,\r\n                statusDefault: [{ value: e.value, label: e.label }]\r\n            }\r\n            , () => { this.getcontract() });\r\n    }\r\n\r\n    handlePageChange(pageNumber) {\r\n        console.log(`active page is ${pageNumber}`);\r\n        this.setState(\r\n            { activePage: pageNumber }\r\n            , () => {\r\n                this.getcontract()\r\n            }\r\n        );\r\n    }\r\n    // Name handler\r\n    handlechange(e) {\r\n        this.setState({\r\n            propertyName: e\r\n        })\r\n    }\r\n\r\n    getcontract() {\r\n        this.setState({ Loader: true })\r\n        var token = this.state.token\r\n        const formData = new FormData();\r\n        formData.append('page', this.state.activePage);\r\n        formData.append('search', this.state.search);\r\n        formData.append('statusfilter', this.state.status);\r\n        formData.append('sortby', this.state.sortby);\r\n        formData.append('limit', this.state.limit);\r\n        formData.append('sorttype', this.state.columnName);\r\n\r\n        axios\r\n            .post(APIURL + \"get-contract-list-for-user\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({\r\n                    Loader: false,\r\n                    contract: response.data.data.data,\r\n                    activePage: response.data.data.current_page,\r\n                    totalItemsCount: response.data.data.total,\r\n                    limit: response.data.data.per_page,\r\n                    Loader:false\r\n                })\r\n            })\r\n    }\r\n\r\n    SubmitProperty = (e) => {\r\n        var token = this.state.token\r\n        const { userInfo, user } = this.state;\r\n        const formData = new FormData();\r\n        formData.append('name', this.state.propertyName);\r\n\r\n        this.setState({ Loader: true });\r\n        axios\r\n            .post(APIURL + \"seller/property-add\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(\"property-add\", response.data.data.id)\r\n                localStorage.setItem(\"property_id\", response.data.data.id);\r\n                this.setState({\r\n                    scsMsg: response.data.message,\r\n                    property_id: response.data.data.id,\r\n                    Loader: false,\r\n                    redirect: true\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    errMsg: error.response.data.error,\r\n                    Loader: false\r\n                })\r\n            });\r\n    };\r\n    AddpropertyModal() {\r\n        this.setState({\r\n            AddpropertyModal: !this.state.AddpropertyModal\r\n        })\r\n    }\r\n    // AddpropertyModal close\r\n    ModalClose() {\r\n        this.setState({\r\n            AddpropertyModal: false\r\n        })\r\n    }\r\n\r\n    onSubmitHandler = (e) => {\r\n\r\n        var token = this.state.token\r\n        //first API\r\n        axios\r\n            .get(APIURL + \"connect-docusign\", {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(\"connect-docusign\", response.data.data)\r\n                this.setState({\r\n                    urlDoc: response.data.data,\r\n                    Loader: false\r\n                })\r\n                window.open(this.state.urlDoc);\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    Loader: false\r\n                })\r\n            })\r\n\r\n        //Second APi \r\n\r\n        axios\r\n            .get(APIURL + \"docusign/callback\", {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                console.log(\"docusign/callback\", response.data.data)\r\n                this.setState({\r\n                    Loader: false\r\n                })\r\n            })\r\n            .catch(error => {\r\n                this.setState({\r\n                    Loader: false\r\n                })\r\n            })\r\n\r\n        // third post Api\r\n\r\n        const formData = new FormData();\r\n        formData.append('contract_id', e.id);\r\n\r\n        this.setState({ Loader: true, ContractInfoModal: false });\r\n        axios\r\n            .post(APIURL + \"sign-document\", formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then((response) => {\r\n                this.setState({ Loader: false })\r\n                console.log(\"sign-document\", response.data)\r\n\r\n            })\r\n            .catch((error) => {\r\n\r\n            });\r\n    };\r\n    ContractInfoModal(e) {\r\n        this.setState({\r\n            ContractInfoModal: !this.state.ContractInfoModal,\r\n            contractId:e.id\r\n        })\r\n    }\r\n\r\n    ModalClose() {\r\n        this.setState({\r\n            ContractInfoModal: false\r\n        })\r\n    }\r\n    toggle(){\r\n        this.setState({\r\n            toggle:!this.state.toggle\r\n        })\r\n    }\r\n\r\n    toggleFunChild(value){\r\n        this.setState({\r\n            toggle:value\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getcontract()\r\n    }\r\n    render() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        if (this.state.user_type !== \"Buyer\") {\r\n            return <Redirect to=\"/permission\" />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"resido-front\">\r\n                    {this.state.Loader ? <div className=\"loader\"> <Spinner type=\"border\" color=\"dark\" style={{ width: '3rem', height: '3rem' }} /> </div> : \"\"}\r\n\r\n                    <div className=\"blue-skin dashboard\">\r\n                        <div id=\"main-wrapper\">\r\n                            <Navbar data={{ profile_image: this.state.profile_image }} />\r\n                            <div className=\"clearfix\"></div>\r\n                            <Header />\r\n                            <section className=\"bg-light\">\r\n                                <div className=\"container-fluid\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-lg-12 col-md-12\">\r\n                                            <div class=\"filter_search_opt\">\r\n                                                <a href=\"javascript:void(0);\" onClick={() => this.toggle()} >Dashboard Navigation<i class=\"ml-2 ti-menu\"></i></a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-3 col-md-12\">\r\n                                            <Sidebar \r\n                                            activePage=\"buyerAgentContract\" \r\n                                            activetabb={true} \r\n                                            data={{ profile_image: this.state.profile_image }}\r\n                                            toggleFunChild={this.toggleFunChild.bind(this)}\r\n                                            toggle={this.state.toggle}\r\n                                             />\r\n                                        </div>\r\n                                        <div className=\"col-lg-9 col-md-12\">\r\n                                            <div className=\"dashboard-wraper\">\r\n                                                <div className=\"form-submit\">\r\n                                                    <h4>Buyer Agent Contract</h4>\r\n                                                    <div className=\"row justify-content-between mt-4\">\r\n                                                        <div className=\"col-12 col-sm-6 col-lg-3 mb-sm-0 mb-lg-0 mb-md-0 mb-xl-0 mb-2\">\r\n                                                            <Input type=\"text\" onChange={(e) => this.handleSearch(e)} placeholder=\"Search\" />\r\n                                                        </div>\r\n                                                        <div className=\"col-12 col-sm-6 col-lg-3 ml-auto\">\r\n                                                            <Select\r\n                                                                aria-label=\".form-select-lg example\"\r\n                                                                required=\"\"\r\n                                                                placeholder=\"Status\"\r\n                                                                className=\"form-select-control\"\r\n                                                                options={this.state.statusArray}\r\n                                                                value={this.state.statusDefault}\r\n                                                                styles={colourStyles}\r\n                                                                onChange={(e) => this.handleStatus(e)}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"row\">\r\n\r\n                                                        <div className=\"col-12 grid-margin mt-3\">\r\n                                                            <div className=\"card\">\r\n                                                                <div className=\"card-body\">\r\n                                                                    <div className=\"table-responsive\">\r\n                                                                        <table className=\"table table-striped\">\r\n                                                                            <thead>\r\n                                                                                <tr>\r\n                                                                                    <th className=\"sort-by\" style={{ cursor: \"pointer\" }} onClick={(e) => this.SortBy(\"contract_title\")}>Contract Title</th>\r\n                                                                                    <th className=\"sort-by\" style={{ cursor: \"pointer\" }} onClick={(e) => this.SortBy(\"property_name\")}> Property Name </th>\r\n                                                                                    <th className=\"sort-by\" style={{ cursor: \"pointer\" }} onClick={() => this.SortBy(\"created_at\")} > Created Date </th>\r\n                                                                                    <th className=\"\"  > Document</th> \r\n                                                                                    <th className=\"\"  > Status</th>\r\n                                                                                    <th className=\"text-center\"> Action</th>\r\n                                                                                </tr>\r\n                                                                            </thead>\r\n                                                                            <tbody>\r\n                                                                                {this.state.contract.length > 0 ?\r\n                                                                                    this.state.contract.map((item, idx) => (\r\n                                                                                        <tr key={idx} >\r\n                                                                                            <td >\r\n                                                                                                {item.contract_title}\r\n                                                                                            </td>\r\n                                                                                            <td >\r\n                                                                                                {item.property_name}\r\n                                                                                            </td>\r\n                                                                                            <td>\r\n                                                                                                {(item.created_at.split('T')[0]).split('-')[2]}-{(item.created_at.split('T')[0]).split('-')[1]}-{(item.created_at.split('T')[0]).split('-')[0]}\r\n                                                                                            </td>\r\n                                                                                             <td >\r\n                                                                                               <a href={item.document_url}>{item.file_name}</a>\r\n                                                                                            </td>\r\n                                                                                            <td >\r\n                                                                                                {\r\n                                                                                                    item.status === null ?\r\n                                                                                                        <button color='danger' className=\"badge btn-danger\"> Not Signed</button>\r\n                                                                                                        :\r\n                                                                                                        <button color='success' className=\"badge btn-success\"> Signed</button>\r\n                                                                                                }\r\n                                                                                            </td>\r\n                                                                                           \r\n                                                                                            <td >\r\n                                                                                                {/* <Button\r\n                                                                                                    color='dark'\r\n                                                                                                    style={{ backgroundColor: \"#198ae3\" }}\r\n                                                                                                    className=\" btn-rounded px-3 btn-sm mr-2\"\r\n                                                                                                    onClick={(e) => this.onSubmitHandler(item)}\r\n                                                                                                >Action</Button> */}\r\n                                                                                                 <Button\r\n                                                                                                    color='dark'\r\n                                                                                                    style={{ backgroundColor: \"#198ae3\" }}\r\n                                                                                                    className=\" btn-rounded px-3 btn-sm ml-2\"\r\n                                                                                                    onClick={(e) => this.ContractInfoModal(item)}\r\n                                                                                                >View</Button>\r\n                                                                                            </td>\r\n                                                                                        </tr>\r\n                                                                                    )) :\r\n                                                                                    <tr  >\r\n                                                                                        <td className=\"text-center\" colSpan=\"6\">\r\n                                                                                            No Records\r\n                                                                                        </td>\r\n                                                                                    </tr>\r\n                                                                                }\r\n                                                                            </tbody>\r\n                                                                        </table>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"d-flex justify-content-center\">\r\n                                                        {this.state.totalItemsCount > 0 &&\r\n                                                            <div className=\"pagination-rounded\">\r\n                                                                <Pagination\r\n                                                                    activePage={this.state.activePage}\r\n                                                                    itemsCountPerPage={this.state.limit}\r\n                                                                    totalItemsCount={this.state.totalItemsCount}\r\n                                                                    pageRangeDisplayed={5}\r\n                                                                    onChange={this.handlePageChange.bind(this)}\r\n                                                                />\r\n                                                            </div>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n                            <Footer />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.ContractInfoModal} toggle={() => this.ModalClose()}>\r\n                    <ModalHeader className=\"header-less\" toggle={() => this.ModalClose()}>Contract Detail</ModalHeader>\r\n                    <ModalBody className=\"border-0 bg-white\">\r\n                        {this.state.contract.length > 0 &&\r\n                            this.state.contract.filter(data => data.id === this.state.contractId).map((item, idx) => (\r\n                                <div className=\"row\" >\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Contract Title</label>\r\n                                        <p>{item.contract_title}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\" >\r\n                                        <label className=\"fw-bold\">Property Name</label>\r\n                                        <p className='text-break'> {item.property_name}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Created Date</label>\r\n                                        <p>  {(item.created_at.split('T')[0]).split('-')[2]}-{(item.created_at.split('T')[0]).split('-')[1]}-{(item.created_at.split('T')[0]).split('-')[0]}</p>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Status</label>\r\n                                        <p>  {\r\n                                            item.status === null ?\r\n                                                 \"Not Signed\"\r\n                                                :\r\n                                                \"Signed\"\r\n                                        }</p>\r\n                                  \r\n                                        \r\n                                    </div>\r\n                                    {/* <div className=\"col-6 col-lg-6\">\r\n                                        <label className=\"fw-bold\">Document</label>\r\n                                        <p> <a href='#'>{item.file_name}</a></p>\r\n                                    </div> */}\r\n                                    <div className=\"col-12 col-lg-12\">\r\n                                        <label className=\"fw-bold\">Description</label>\r\n                                        <p> {item.description}</p>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </ModalBody>\r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}