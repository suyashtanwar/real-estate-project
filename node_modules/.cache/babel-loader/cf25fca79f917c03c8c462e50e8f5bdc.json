{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import logo from'../../../assets/img/logo.png';import logoMini from'../../../assets/img/logo-mini.png';import{Redirect,Link}from'react-router-dom';import axios from'axios';import Sidebar from'./Sidebar';import{Button,Modal,ModalFooter}from'reactstrap';import{APIURL,BASEURL}from'../../../components/constants/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(){var _this;_classCallCheck(this,Navbar);_this=_super.call(this);_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});};_this.onHover=function(){return _this.setState({showIcons:true});};_this.onNotHover=function(){return _this.setState({showIcons:false});};_this.Sidebar=function(event){_this.setState({openSidebar:!_this.state.openSidebar});if(_this.state.openSidebar){document.body.classList.remove('sidebar-icon-only');}if(!_this.state.openSidebar){document.body.classList.add('sidebar-icon-only');}};_this.SwitchModalOpen=function(){_this.setState({switchModal:!_this.state.switchModal});};_this.ModalClose=function(){_this.setState({switchModal:!_this.state.switchModal,checked:!_this.state.checked});};_this.SwitchUser=function(){if(_this.state.user){var formData=new FormData();var token=_this.state.token;var app_url=APIURL+\"seller/switch-to-buyer\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){localStorage.setItem(\"isLoggedIn\",true);localStorage.setItem(\"token\",JSON.stringify(response.data.token));localStorage.setItem(\"userData\",JSON.stringify(response.data.user));localStorage.setItem(\"user_type\",JSON.stringify(response.data.user.switch_user_type));_this.setState({redirectToHome:true});}).catch(function(error){_this.setState({// errMsg: error.response.data.errors,\nLoader:false});});}};_this.resSidebar=function(){_this.setState({activeSide:!_this.state.activeSide},function(){_this.props.sideMenu(_this.state.activeSide);});};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:JSON.parse(localStorage.getItem(\"user_type\")),navigate:false,profile_image:\"\",openSidebar:false,redirectToHome:false,switchModal:false};return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({openSidebar:false});this.getProfileInfo();console.log(this.props.data);}},{key:\"getProfileInfo\",value:function getProfileInfo(){var _this2=this;if(this.state.user){var formData=new FormData();// formData.append('token', this.state.token);\nformData.append('id',this.state.user.id);var token=this.state.token;var app_url=APIURL+\"agent/edit-profile\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var info=response.data.data;_this2.setState({profile_image:response.data.data.url_path,name:response.data.data.name});console.log(\"bjsbvjx\",_this2.state.profile_image);}).catch(function(error){_this2.setState({// errMsg: error.response.data.errors,\nLoader:false});});}}},{key:\"goToHome\",value:function goToHome(){window.location.href=\"/\";}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,openSidebar=_this$state.openSidebar,closeSidebar=_this$state.closeSidebar,redirectToHome=_this$state.redirectToHome;var _this$state2=this.state,user=_this$state2.user,name=_this$state2.name;// if(this.state.user_type !== \"Seller\"){\n//     return <Redirect to=\"/permission\" />;\n// }\nif(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(redirectToHome){return/*#__PURE__*/_jsx(Redirect,{to:\"/buyer\",push:true});}if(this.state.navigate){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-none\",children:/*#__PURE__*/_jsx(Sidebar// res_Active=\"hjdgsgdshgd\"\n,{})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-brand brand-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"})}),/*#__PURE__*/_jsx(Link,{className:\"navbar-brand brand-logo-mini\",to:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:logoMini,alt:\"logo\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-menu-wrapper d-flex align-items-stretch\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:openSidebar?/*#__PURE__*/_jsx(\"span\",{className:\" navbar-toggler navbar-toggler align-self-center\",type:\"button\",\"data-toggle\":\"minimize\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this3.Sidebar();},className:\"fas fa-bars\"})}):/*#__PURE__*/_jsx(\"span\",{className:\" navbar-toggler navbar-toggler align-self-center\",type:\"button\",\"data-toggle\":\"minimize\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this3.Sidebar();},className:\"fas fa-bars\"})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav navbar-nav-right\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item nav-logout  d-lg-block \",children:/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link \",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",className:\"btn btn-info btn-rounded\",onClick:function onClick(){return _this3.SwitchModalOpen();},children:\"Switch To Buyer\"}),/*#__PURE__*/_jsx(\"i\",{\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"bottom\",title:\"Logout\",onClick:function onClick(){return _this3.onLogoutHandler();},className:\"mdi mdi-power\",children:\"  \"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item nav-logout d-lg-block\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"nav-link\",href:\"#\",onClick:function onClick(){return _this3.onLogoutHandler();},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Logout\"}),/*#__PURE__*/_jsx(\"i\",{\"data-bs-toggle\":\"tooltip\",\"data-bs-placement\":\"bottom\",title:\"Logout\",onClick:function onClick(){return _this3.onLogoutHandler();},className:\"mdi mdi-power\",children:\"  \"})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.resSidebar();},className:\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\",type:\"button\",\"data-toggle\":\"offcanvas\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-bars\"})})]}),/*#__PURE__*/_jsxs(Modal,{className:\"resido-admin\",size:\"md\",isOpen:this.state.switchModal,toggle:function toggle(){return _this3.ModalClose();},autoFocus:false,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-center\",children:\"Please confirm if you want to switch your profile and become property buyer.\"})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between w-100\",children:[/*#__PURE__*/_jsx(Button,{color:\"success\",onClick:function onClick(){return _this3.SwitchUser();},children:\"Confirm\"}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){return _this3.ModalClose();},children:\"Cancel \"})]})})]})]})]});}}]);return Navbar;}(Component);export{Navbar as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/users/Seller/Navbar.js"],"names":["React","Component","logo","logoMini","Redirect","Link","axios","Sidebar","Button","Modal","ModalFooter","APIURL","BASEURL","Navbar","onLogoutHandler","localStorage","removeItem","clear","setState","navigate","onHover","showIcons","onNotHover","event","openSidebar","state","document","body","classList","remove","add","SwitchModalOpen","switchModal","ModalClose","checked","SwitchUser","user","formData","FormData","token","app_url","post","headers","then","response","setItem","JSON","stringify","data","switch_user_type","redirectToHome","catch","error","Loader","resSidebar","activeSide","props","sideMenu","parse","getItem","user_type","profile_image","getProfileInfo","console","log","append","id","info","url_path","name","window","location","href","closeSidebar"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport logo from '../../../assets/img/logo.png'\r\nimport logoMini from '../../../assets/img/logo-mini.png'\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Sidebar from './Sidebar'\r\nimport { Button, Modal, ModalFooter } from 'reactstrap'\r\nimport { APIURL, BASEURL } from '../../../components/constants/common';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: JSON.parse(localStorage.getItem(\"user_type\")),\r\n            navigate: false,\r\n            profile_image: \"\",\r\n            openSidebar: false,\r\n            redirectToHome: false,\r\n            switchModal: false,\r\n           \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            openSidebar: false\r\n        })\r\n        this.getProfileInfo()\r\n        console.log(this.props.data)\r\n    }\r\n\r\n    getProfileInfo() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.state.user.id);\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"agent/edit-profile\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    const info = response.data.data;\r\n                    this.setState({\r\n                        profile_image: response.data.data.url_path,\r\n                        name: response.data.data.name\r\n                    })\r\n                    console.log(\"bjsbvjx\", this.state.profile_image)\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    onLogoutHandler = () => {\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n    };\r\n\r\n    onHover = () =>\r\n        this.setState({\r\n            showIcons: true\r\n        });\r\n    onNotHover = () =>\r\n        this.setState({\r\n            showIcons: false\r\n        });\r\n\r\n    Sidebar = (event) => {\r\n        this.setState({\r\n            openSidebar: !this.state.openSidebar\r\n        })\r\n        if (this.state.openSidebar) {\r\n            document.body.classList.remove('sidebar-icon-only');\r\n        }\r\n        if (!this.state.openSidebar) {\r\n            document.body.classList.add('sidebar-icon-only');\r\n        }\r\n    }\r\n    goToHome() {\r\n        window.location.href = \"/\";\r\n    }\r\n    SwitchModalOpen = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n        })\r\n    }\r\n    ModalClose = () => {\r\n        this.setState({\r\n            switchModal: !this.state.switchModal,\r\n            checked: !this.state.checked\r\n        })\r\n    }\r\n\r\n    SwitchUser = () => {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"seller/switch-to-buyer\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    localStorage.setItem(\"isLoggedIn\", true);\r\n                    localStorage.setItem(\"token\", JSON.stringify(response.data.token));\r\n                    localStorage.setItem(\"userData\", JSON.stringify(response.data.user));\r\n                    localStorage.setItem(\"user_type\", JSON.stringify(response.data.user.switch_user_type));\r\n                    this.setState({\r\n                        redirectToHome: true\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n    resSidebar = () => {\r\n        this.setState({\r\n            activeSide:!this.state.activeSide\r\n        },()=>{\r\n            this.props.sideMenu(this.state.activeSide)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { openSidebar, closeSidebar, redirectToHome } = this.state\r\n        const { user, name } = this.state\r\n        // if(this.state.user_type !== \"Seller\"){\r\n        //     return <Redirect to=\"/permission\" />;\r\n        // }\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n\r\n        if (redirectToHome) {\r\n            return <Redirect to=\"/buyer\" push={true} />;\r\n        }\r\n\r\n        if (this.state.navigate) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"d-none\" >\r\n                    <Sidebar\r\n                        // res_Active=\"hjdgsgdshgd\"\r\n                    />\r\n                </div>\r\n                <nav className=\"navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row\">\r\n                    <div className=\"text-center navbar-brand-wrapper d-flex align-items-center justify-content-center\">\r\n                        <button className=\"navbar-brand brand-logo\" ><img src={logo} alt=\"logo\" /></button>\r\n                        <Link className=\"navbar-brand brand-logo-mini\" to=\"#\"><img src={logoMini} alt=\"logo\" /></Link>\r\n                    </div>\r\n                    <div className=\"navbar-menu-wrapper d-flex align-items-stretch\">\r\n                        <div className=\"mt-3\">\r\n                            {openSidebar ?\r\n                                <span className=\" navbar-toggler navbar-toggler align-self-center\" type=\"button\" data-toggle=\"minimize\">\r\n                                    <span onClick={() => this.Sidebar()} className=\"fas fa-bars\"></span>\r\n                                </span>\r\n                                :\r\n                                <span className=\" navbar-toggler navbar-toggler align-self-center\" type=\"button\" data-toggle=\"minimize\">\r\n                                    <span onClick={() => this.Sidebar()} className=\"fas fa-bars\"></span>\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                        <ul className=\"navbar-nav navbar-nav-right\">\r\n                            <li className=\"nav-item nav-logout  d-lg-block \">\r\n                                <a className=\"nav-link \">\r\n                                    <Button size='sm' className='btn btn-info btn-rounded' onClick={() => this.SwitchModalOpen()}>Switch To Buyer</Button>\r\n                                    <i data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" title=\"Logout\" onClick={() => this.onLogoutHandler()} className=\"mdi mdi-power\">  </i>\r\n                                </a>\r\n                            </li>\r\n                            <li className=\"nav-item nav-logout d-lg-block\">\r\n                                <a className=\"nav-link\" href=\"#\" onClick={() => this.onLogoutHandler()} >\r\n                                    <strong>Logout</strong>\r\n                                    <i data-bs-toggle=\"tooltip\" data-bs-placement=\"bottom\" title=\"Logout\" onClick={() => this.onLogoutHandler()} className=\"mdi mdi-power\">  </i>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                        <button onClick={() => this.resSidebar()} className=\"navbar-toggler navbar-toggler-right d-lg-none align-self-center\" type=\"button\" data-toggle=\"offcanvas\">\r\n                            <span className=\"fas fa-bars\"></span>\r\n                        </button>\r\n                    </div>\r\n                    <Modal className=\"resido-admin\" size=\"md\" isOpen={this.state.switchModal} toggle={() => this.ModalClose()} autoFocus={false}>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                Please confirm if you want to switch your profile and become property buyer.\r\n                            </div>\r\n                        </div>\r\n                        <ModalFooter>\r\n                            <div className=\"d-flex justify-content-between w-100\">\r\n                                <Button color=\"success\" onClick={() => this.SwitchUser()}>Confirm</Button>\r\n                                <Button color=\"danger\" onClick={() => this.ModalClose()}>Cancel </Button>\r\n                            </div>\r\n                        </ModalFooter>\r\n                    </Modal>\r\n                </nav>\r\n            </>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}