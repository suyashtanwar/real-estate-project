{"ast":null,"code":"import _classCallCheck from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/imenso/Reactjs/real-estate-marketplace/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import logo from'../../assets/img/logo.png';import face1 from'../../assets/images/faces/dummy.png';import{Link,Redirect}from'react-router-dom';import Header from'./Header';import Footer from'../GlobalComponents/Footer';import PropertyDetails from'./details/Index';import axios from'axios';import{APIURL}from'../constants/common';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=/*#__PURE__*/function(_Component){_inherits(Index,_Component);var _super=_createSuper(Index);function Index(){var _this;_classCallCheck(this,Index);_this=_super.call(this);_this.listenScrollEvent=function(e){if(window.scrollY>50){_this.setState({stickyheader:true});}else{_this.setState({stickyheader:false});}};_this.onLogoutHandler=function(){localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"userData\");localStorage.clear();_this.setState({navigate:true});setTimeout(function(){window.location.reload();},500);};_this.state={token:JSON.parse(localStorage.getItem(\"token\")),user:JSON.parse(localStorage.getItem(\"userData\")),user_type:JSON.parse(localStorage.getItem(\"user_type\")),navigate:false,PropertyDetails:[],disableWishList:false,profile_image:\"\",name:\"\",noRecords:false};return _this;}_createClass(Index,[{key:\"getProfileInfo\",value:function getProfileInfo(){var _this2=this;if(this.state.user){var formData=new FormData();// formData.append('token', this.state.token);\nformData.append('id',this.state.user.id);var token=this.state.token;var app_url=APIURL+\"agent/edit-profile\";axios.post(app_url,formData,{headers:{'Authorization':\"Bearer \".concat(token)}}).then(function(response){var info=response.data.data;_this2.setState({profile_image:info.url_path,name:info.fullName,noRecords:true});_this2.handleCountryState(_this2.state.countryId);console.log(\"sssssssss\",_this2.state.profile_image);}).catch(function(error){_this2.setState({// errMsg: error.response.data.errors,\nLoader:false});});}}},{key:\"goToProfile\",value:function goToProfile(){if(!this.state.user){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}if(this.state.user){if(this.state.user_type===\"Agent\"){window.location.href=\"/agent\";}else if(this.state.user_type===\"Seller\"){window.location.href=\"/seller\";}else if(this.state.user_type===\"Admin\"){window.location.href=\"/Admin\";}else if(this.state.user_type===\"Buyer\"){window.location.href=\"/buyer\";}else{window.location.href=\"/\";}}}},{key:\"componentDidMount\",value:function componentDidMount(){this.getProfileInfo();window.addEventListener('scroll',this.listenScrollEvent);if(this.state.user){if(this.state.user.user_type!==\"Buyer\"){this.setState({disableWishList:true});}}}},{key:\"toggle\",value:function toggle(){this.setState({portrait:!this.state.portrait});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{className:\"resido-front\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blue-skin\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"main-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:this.state.stickyheader?\"header header-light head-shadow header-fixed\":\"header header-light head-shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"nav\",{id:\"navigation\",className:this.state.portrait?\"navigation navigation-portrait\":\"navigation navigation-landscape\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-header\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-brand fixed-logo\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"logo\",alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this3.toggle();},className:\"nav-toggle\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.portrait?\"nav-menus-wrapper-open nav-menus-wrapper\":\"nav-menus-wrapper\",style:{transitionProperty:this.state.portrait?\"left\":\"none\"},children:[/*#__PURE__*/_jsx(\"span\",{class:\"nav-menus-wrapper-close-button\",onClick:function onClick(){return _this3.toggle();},children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"active\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Listing\",children:\"Property\"})}),!this.state.disableWishList?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/buyer/wishlist\",children:\"Wishlist\"})}):\"\",/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/cms/about-us\",children:\"About Us\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:\"Contact Us\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-menu nav-menu-social align-to-right\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"d-none\",children:/*#__PURE__*/_jsxs(Link,{to:\"\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-heart mr-2 text-success\"}),\"Wishlist\"]})}),this.state.user?/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown bg-transparent\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"dropdown-toggle text-success \",type:\"button\",id:\"dropdownMenuButton1\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[this.state.noRecords&&/*#__PURE__*/_jsx(\"img\",{className:\"mr-1 rounded-circle\",width:30,height:30,src:this.state.profile_image!==\"\"?this.state.profile_image:face1,alt:\"profile\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:this.state.name})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuButton1\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{className:\"dropdown-item\",onClick:function onClick(){return _this3.goToProfile();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user mr-2 \"}),\"Profile\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{className:\"dropdown-item\",onClick:function onClick(){return _this3.onLogoutHandler();},to:\"/\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt mr-2\"}),\"Logout\"]})})]})]}):/*#__PURE__*/_jsxs(\"li\",{className:\"\",children:[\" \",/*#__PURE__*/_jsxs(Link,{to:\"/signin\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user-circle mr-2 text-success\"}),\"Sign In\"]}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{className:\"\",children:this.state.user?\"\":/*#__PURE__*/_jsxs(Link,{to:\"/signup\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user-circle mr-2 text-success\"}),\"Sign Up\"]})})]})]}),this.state.portrait?/*#__PURE__*/_jsx(\"div\",{className:\"nav-overlay-panel\"}):\"\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"}),/*#__PURE__*/_jsx(PropertyDetails,{data:{PropertyId:this.props.match.params.id,pageUrl:this.props.location.pathname}}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"login\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"registermodal\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered login-pop-form\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",id:\"registermodal\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mod-close\",\"data-bs-dismiss\":\"modal\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ti-close\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modal-header-title\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-form\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-with-icon\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Username\"}),/*#__PURE__*/_jsx(\"i\",{className:\"ti-user\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-with-icon\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"*******\"}),/*#__PURE__*/_jsx(\"i\",{className:\"ti-unlock\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-md full-width btn-theme-light-2 rounded\",children:\"Login\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Or login via\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"social-login mb-3\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"btn connect-fb\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-facebook\"}),\"Facebook\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"btn connect-google\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ti-google\"}),\"Google+\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"link\",children:\"Forgot password?\"})})})]})]})})}),/*#__PURE__*/_jsx(\"a\",{id:\"back2Top\",className:\"top-scroll\",title:\"Back to top\",href:\"#\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ti-arrow-up\"})})]})})});}}]);return Index;}(Component);export{Index as default};","map":{"version":3,"sources":["D:/imenso/Reactjs/real-estate-marketplace/src/components/Viewproperty/Index.js"],"names":["React","Component","logo","face1","Link","Redirect","Header","Footer","PropertyDetails","axios","APIURL","Index","listenScrollEvent","e","window","scrollY","setState","stickyheader","onLogoutHandler","localStorage","removeItem","clear","navigate","setTimeout","location","reload","state","token","JSON","parse","getItem","user","user_type","disableWishList","profile_image","name","noRecords","formData","FormData","append","id","app_url","post","headers","then","response","info","data","url_path","fullName","handleCountryState","countryId","console","log","catch","error","Loader","href","getProfileInfo","addEventListener","portrait","toggle","transitionProperty","goToProfile","PropertyId","props","match","params","pageUrl","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport logo from '../../assets/img/logo.png'\r\nimport face1 from '../../assets/images/faces/dummy.png'\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport Header from './Header'\r\nimport Footer from '../GlobalComponents/Footer'\r\nimport PropertyDetails from './details/Index'\r\nimport axios from 'axios';\r\nimport { APIURL } from '../constants/common';\r\n\r\n\r\nexport default class Index extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: JSON.parse(localStorage.getItem(\"token\")),\r\n            user: JSON.parse(localStorage.getItem(\"userData\")),\r\n            user_type: JSON.parse(localStorage.getItem(\"user_type\")),\r\n            navigate: false,\r\n            PropertyDetails: [],\r\n            disableWishList: false,\r\n            profile_image: \"\",\r\n            name: \"\",\r\n            noRecords: false,\r\n        }\r\n    }\r\n\r\n    getProfileInfo() {\r\n        if (this.state.user) {\r\n            const formData = new FormData();\r\n            // formData.append('token', this.state.token);\r\n            formData.append('id', this.state.user.id);\r\n            var token = this.state.token\r\n            var app_url = APIURL + \"agent/edit-profile\"\r\n            axios\r\n                .post(app_url, formData, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .then((response) => {\r\n                    const info = response.data.data;\r\n                    this.setState({\r\n                        profile_image: info.url_path,\r\n                        name: info.fullName,\r\n                        noRecords: true\r\n                    })\r\n                    this.handleCountryState(this.state.countryId)\r\n                    console.log(\"sssssssss\", this.state.profile_image)\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        // errMsg: error.response.data.errors,\r\n                        Loader: false\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    listenScrollEvent = e => {\r\n        if (window.scrollY > 50) {\r\n            this.setState({\r\n                stickyheader: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                stickyheader: false\r\n            })\r\n        }\r\n    }\r\n\r\n    goToProfile() {\r\n        if (!this.state.user) {\r\n            return <Redirect to=\"/\" push={true} />;\r\n        }\r\n        if (this.state.user) {\r\n            if (this.state.user_type === \"Agent\") {\r\n                window.location.href = \"/agent\";\r\n            }\r\n            else if (this.state.user_type === \"Seller\") {\r\n                window.location.href = \"/seller\";\r\n            }\r\n            else if (this.state.user_type === \"Admin\") {\r\n                window.location.href = \"/Admin\";\r\n            }\r\n            else if (this.state.user_type === \"Buyer\") {\r\n                window.location.href = \"/buyer\";\r\n            }\r\n            else {\r\n                window.location.href = \"/\";\r\n            }\r\n        }\r\n    }\r\n\r\n    onLogoutHandler = () => {\r\n        localStorage.removeItem(\"isLoggedIn\");\r\n        localStorage.removeItem(\"userData\");\r\n        localStorage.clear();\r\n        this.setState({\r\n            navigate: true,\r\n        });\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 500);\r\n    };\r\n    componentDidMount() {\r\n        this.getProfileInfo()\r\n        window.addEventListener('scroll', this.listenScrollEvent)\r\n        if (this.state.user) {\r\n            if (this.state.user.user_type !== \"Buyer\") {\r\n                this.setState({\r\n                    disableWishList: true\r\n                })\r\n            }\r\n        }\r\n    }\r\n    toggle(){\r\n\t\tthis.setState({\r\n\t\t\tportrait:!this.state.portrait\r\n\t\t})\r\n\t}\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"resido-front\" >\r\n                <div className=\"blue-skin\">\r\n                    <div id=\"main-wrapper\">\r\n\r\n                        <div className={this.state.stickyheader ? \"header header-light head-shadow header-fixed\" : \"header header-light head-shadow\"}>\r\n                            <div className=\"container\">\r\n                            <nav id=\"navigation\" className={this.state.portrait ? \"navigation navigation-portrait\":\"navigation navigation-landscape\"}>\r\n\t\t\t\t\t\t\t<div className=\"nav-header\">\r\n\t\t\t\t\t\t\t\t{/* <Link className=\"nav-brand static-logo\" to=\"/\"><img src={logo} className=\"logo\" alt=\"\" /></Link> */}\r\n\t\t\t\t\t\t\t\t<Link className=\"nav-brand fixed-logo\" to=\"/\"><img src={logo} className=\"logo\" alt=\"\" /></Link>\r\n\t\t\t\t\t\t\t\t<div onClick={() => this.toggle()} className=\"nav-toggle\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={this.state.portrait ? \"nav-menus-wrapper-open nav-menus-wrapper\": \"nav-menus-wrapper\"} style={{ transitionProperty: this.state.portrait ? \"left\" : \"none\" }}>\r\n\t\t\t\t\t\t\t\t<span class=\"nav-menus-wrapper-close-button\" onClick={() => this.toggle()}>✕</span>\r\n\t\t\t\t\t\t\t\t<ul className=\"nav-menu\">\r\n\t\t\t\t\t\t\t\t\t<li className=\"active\"><Link to=\"/\">Home</Link></li>\r\n\t\t\t\t\t\t\t\t\t<li><Link to=\"/Listing\">Property</Link></li>\r\n\t\t\t\t\t\t\t\t\t{!this.state.disableWishList ? <li><Link to=\"/buyer/wishlist\">Wishlist</Link></li> : \"\"}\r\n\t\t\t\t\t\t\t\t\t<li><a href=\"/cms/about-us\">About Us</a></li>\r\n\t\t\t\t\t\t\t\t\t<li><Link to=\"/contact\">Contact Us</Link></li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<ul className=\"nav-menu nav-menu-social align-to-right\">\r\n\t\t\t\t\t\t\t\t\t<li className=\"d-none\"><Link to=\"\"><i className=\"far fa-heart mr-2 text-success\"></i>Wishlist</Link></li>\r\n\t\t\t\t\t\t\t\t\t{this.state.user ?\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"dropdown bg-transparent\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"dropdown-toggle text-success \" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n                                        this.state.noRecords &&\r\n                                        <img  className='mr-1 rounded-circle' width={30} height={30} src={this.state.profile_image !== \"\" ? this.state.profile_image : face1} alt=\"profile\" />\r\n                                    }\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='text-success' >{this.state.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li><Link className=\"dropdown-item\" onClick={() => this.goToProfile()} ><i className=\"far fa-user mr-2 \"></i>Profile</Link></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li><Link className=\"dropdown-item\" onClick={() => this.onLogoutHandler()} to=\"/\"><i className=\"fas fa-sign-out-alt mr-2\"></i>Logout</Link></li>\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</li> :\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"\"> <Link to=\"/signin\" ><i className=\"far fa-user-circle mr-2 text-success\"></i>Sign In</Link> </li>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t<li className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t{this.state.user ?\r\n\t\t\t\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/signup\" ><i className=\"far fa-user-circle mr-2 text-success\"></i>Sign Up</Link>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.portrait ? \r\n\t\t\t\t\t\t\t\t<div className='nav-overlay-panel'></div>\r\n\t\t\t\t\t\t\t\t:\"\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</nav>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"clearfix\"></div>\r\n\r\n\r\n\r\n                        <PropertyDetails data={{ PropertyId: this.props.match.params.id, pageUrl: this.props.location.pathname }} />\r\n\r\n\r\n                        <Footer />\r\n\r\n                        <div className=\"modal fade\" id=\"login\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"registermodal\" aria-hidden=\"true\">\r\n                            <div className=\"modal-dialog modal-dialog-centered login-pop-form\" role=\"document\">\r\n                                <div className=\"modal-content\" id=\"registermodal\">\r\n                                    <span className=\"mod-close\" data-bs-dismiss=\"modal\" aria-hidden=\"true\"><i className=\"ti-close\"></i></span>\r\n                                    <div className=\"modal-body\">\r\n                                        <h4 className=\"modal-header-title\">Log In</h4>\r\n                                        <div className=\"login-form\">\r\n                                            <form>\r\n                                                <div className=\"form-group\">\r\n                                                    <label>User Name</label>\r\n                                                    <div className=\"input-with-icon\">\r\n                                                        <input type=\"text\" className=\"form-control\" placeholder=\"Username\" />\r\n                                                        <i className=\"ti-user\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-group\">\r\n                                                    <label>Password</label>\r\n                                                    <div className=\"input-with-icon\">\r\n                                                        <input type=\"password\" className=\"form-control\" placeholder=\"*******\" />\r\n                                                        <i className=\"ti-unlock\"></i>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className=\"form-group\">\r\n                                                    <button type=\"submit\" className=\"btn btn-md full-width btn-theme-light-2 rounded\">Login</button>\r\n                                                </div>\r\n\r\n                                            </form>\r\n                                        </div>\r\n                                        <div className=\"modal-divider\"><span>Or login via</span></div>\r\n                                        <div className=\"social-login mb-3\">\r\n                                            <ul>\r\n                                                <li><a href=\"#\" className=\"btn connect-fb\"><i className=\"ti-facebook\"></i>Facebook</a></li>\r\n                                                <li><a href=\"#\" className=\"btn connect-google\"><i className=\"ti-google\"></i>Google+</a></li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div className=\"text-center\">\r\n                                            <p className=\"mt-5\"><a href=\"#\" className=\"link\">Forgot password?</a></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <a id=\"back2Top\" className=\"top-scroll\" title=\"Back to top\" href=\"#\"><i className=\"ti-arrow-up\"></i></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}